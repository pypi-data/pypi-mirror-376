"use strict";(self.webpackChunkstreamlit_lightweight_charts_pro=self.webpackChunkstreamlit_lightweight_charts_pro||[]).push([[970],{5760:(e,t,n)=>{n.d(t,{M:()=>w,g:()=>m});var i,r,s=n(835),l=n(7585),a=n(5858),h=n(462),c=n(403),o=n(9698),d=n(5246),u=n(4249),f=n(7080),g=n(2004);class m{constructor(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];switch(t.length){case 2:if([this.schema]=t,!(this.schema instanceof h.S))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=(0,s.Hg)({nullCount:0,type:new c._k(this.schema.fields),children:this.schema.fields.map(e=>(0,s.Hg)({type:e.type,nullCount:0}))})]=t,!(this.data instanceof s.B_))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=y(this.schema,this.data.children);break;case 1:{const[e]=t,{fields:n,children:i,length:r}=Object.keys(e).reduce((t,n,i)=>(t.children[i]=e[n],t.length=Math.max(t.length,e[n].length),t.fields[i]=h.D.new({name:n,type:e[n].type,nullable:!0}),t),{length:0,fields:[],children:[]}),l=new h.S(n),a=(0,s.Hg)({type:new c._k(n),length:r,children:i,nullCount:0});[this.schema,this.data]=y(l,a.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=p(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(e){return this.data.getValid(e)}get(e){return o.K.visit(this.data,e)}set(e,t){return d.KJ.visit(this.data,e,t)}indexOf(e,t){return u.K.visit(this.data,e,t)}getByteLength(e){return g.K.visit(this.data,e)}[Symbol.iterator](){return f.K.visit(new a.M([this.data]))}toArray(){return[...this]}concat(){for(var e=arguments.length,t=Array(e),n=0;e>n;n++)t[n]=arguments[n];return new l.XI(this.schema,[this,...t])}slice(e,t){const[n]=new a.M([this.data]).slice(e,t).data;return new m(this.schema,n)}getChild(e){var t;return this.getChildAt(null===(t=this.schema.fields)||void 0===t?void 0:t.findIndex(t=>t.name===e))}getChildAt(e){return e>-1&&e<this.schema.fields.length?new a.M([this.data.children[e]]):null}setChild(e,t){var n;return this.setChildAt(null===(n=this.schema.fields)||void 0===n?void 0:n.findIndex(t=>t.name===e),t)}setChildAt(e,t){let n=this.schema,i=this.data;if(e>-1&&e<this.numCols){t||(t=new a.M([(0,s.Hg)({type:new c.Uv,length:this.numRows})]));const r=n.fields.slice(),l=i.children.slice(),o=r[e].clone({type:t.type});[r[e],l[e]]=[o,t.data[0]],n=new h.S(r,new Map(this.schema.metadata)),i=(0,s.Hg)({type:new c._k(r),children:l})}return new m(n,i)}select(e){const t=this.schema.select(e),n=new c._k(t.fields),i=[];for(const r of e){const e=this.schema.fields.findIndex(e=>e.name===r);~e&&(i[e]=this.data.children[e])}return new m(t,(0,s.Hg)({type:n,length:this.numRows,children:i}))}selectAt(e){const t=this.schema.selectAt(e),n=e.map(e=>this.data.children[e]).filter(Boolean),i=(0,s.Hg)({type:new c._k(t.fields),length:this.numRows,children:n});return new m(t,i)}}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.reduce((e,t)=>Math.max(e,t.length),0);var i;const r=[...e.fields],l=[...t],a=(n+63&-64)>>3;for(const[h,c]of e.fields.entries()){const e=t[h];e&&e.length===n||(r[h]=c.clone({nullable:!0}),l[h]=null!==(i=null==e?void 0:e._changeLengthAndBackfillNullBitmap(n))&&void 0!==i?i:(0,s.Hg)({type:c.type,length:n,nullCount:n,nullBitmap:new Uint8Array(a)}))}return[e.assign(r),(0,s.Hg)({type:new c._k(r),length:n,children:l})]}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map;for(let i=-1,r=e.length;++i<r;){const r=e[i].type,s=t[i];if(c.pe.isDictionary(r))if(n.has(r.id)){if(n.get(r.id)!==s.dictionary)throw Error("Cannot create Schema containing two different dictionaries with the same Id")}else s.dictionary&&n.set(r.id,s.dictionary);r.children&&r.children.length>0&&p(r.children,s.children,n)}return n}i=Symbol.toStringTag,m[i]=((r=m.prototype)._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch");class w extends m{constructor(e){const t=e.fields.map(e=>(0,s.Hg)({type:e.type}));super(e,(0,s.Hg)({type:new c._k(e.fields),nullCount:0,children:t}))}}},7982:(e,t,n)=>{n.d(t,{Rt:()=>c,wQ:()=>a});var i=n(5858),r=n(6874),s=n(9698),l=n(5246);const a=Symbol.for("keys"),h=Symbol.for("vals");class c{constructor(e){return this[a]=new i.M([e.children[0]]).memoize(),this[h]=e.children[1],new Proxy(this,new d)}[Symbol.iterator](){return new o(this[a],this[h])}get size(){return this[a].length}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[a],t=this[h],n={};for(let i=-1,r=e.length;++i<r;)n[e.get(i)]=s.K.visit(t,i);return n}toString(){return"{".concat([...this].map(e=>{let[t,n]=e;return"".concat((0,r.U)(t),": ").concat((0,r.U)(n))}).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class o{constructor(e,t){this.keys=e,this.vals=t,this.keyIndex=0,this.numKeys=e.length}[Symbol.iterator](){return this}next(){const e=this.keyIndex;return e===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(e),s.K.visit(this.vals,e)]})}}class d{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[a].toArray().map(String)}has(e,t){return e[a].includes(t)}getOwnPropertyDescriptor(e,t){if(-1!==e[a].indexOf(t))return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const n=e[a].indexOf(t);if(-1!==n){const i=s.K.visit(Reflect.get(e,h),n);return Reflect.set(e,t,i),i}}set(e,t,n){const i=e[a].indexOf(t);return-1!==i?(l.KJ.visit(Reflect.get(e,h),i,n),Reflect.set(e,t,n)):!!Reflect.has(e,t)&&Reflect.set(e,t,n)}}Object.defineProperties(c.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[a]:{writable:!0,enumerable:!1,configurable:!1,value:null},[h]:{writable:!0,enumerable:!1,configurable:!1,value:null}})},9223:(e,t,n)=>{n.d(t,{_:()=>h});var i=n(6874),r=n(9698),s=n(5246);const l=Symbol.for("parent"),a=Symbol.for("rowIndex");class h{constructor(e,t){return this[l]=e,this[a]=t,new Proxy(this,new o)}toArray(){return Object.values(this.toJSON())}toJSON(){const e=this[a],t=this[l],n=t.type.children,i={};for(let s=-1,l=n.length;++s<l;)i[n[s].name]=r.K.visit(t.children[s],e);return i}toString(){return"{".concat([...this].map(e=>{let[t,n]=e;return"".concat((0,i.U)(t),": ").concat((0,i.U)(n))}).join(", "),"}")}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new c(this[l],this[a])}}class c{constructor(e,t){this.childIndex=0,this.children=e.children,this.rowIndex=t,this.childFields=e.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const e=this.childIndex;return e<this.numChildren?(this.childIndex=e+1,{done:!1,value:[this.childFields[e].name,r.K.visit(this.children[e],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(h.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[l]:{writable:!0,enumerable:!1,configurable:!1,value:null},[a]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class o{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(e){return e[l].type.children.map(e=>e.name)}has(e,t){return-1!==e[l].type.children.findIndex(e=>e.name===t)}getOwnPropertyDescriptor(e,t){if(-1!==e[l].type.children.findIndex(e=>e.name===t))return{writable:!0,enumerable:!0,configurable:!0}}get(e,t){if(Reflect.has(e,t))return e[t];const n=e[l].type.children.findIndex(e=>e.name===t);if(-1!==n){const i=r.K.visit(e[l].children[n],e[a]);return Reflect.set(e,t,i),i}}set(e,t,n){const i=e[l].type.children.findIndex(e=>e.name===t);return-1!==i?(s.KJ.visit(e[l].children[i],e[a],n),Reflect.set(e,t,n)):!(!Reflect.has(e,t)&&"symbol"!=typeof t)&&Reflect.set(e,t,n)}}}}]);