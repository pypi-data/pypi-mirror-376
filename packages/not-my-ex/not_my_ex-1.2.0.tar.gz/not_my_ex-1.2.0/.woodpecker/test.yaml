when:
  - event: pull_request
  - event: push
    branch: main

matrix:
  VERSION: ["3.10", "3.11", "3.12", "3.13", "3.14-rc"]

steps:
  - image: ghcr.io/astral-sh/uv:python${VERSION}-trixie-slim
    commands:
      - apt-get update && apt-get install -y build-essential libffi-dev python3-dev
      - uv run python -m pytest
