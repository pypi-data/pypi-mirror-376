[package]
name = "ewald"
version = "0.1.6"
edition = "2024"
authors = ["David O'Connor <the_alchemist@fastmail.com>"]
description = "Ewald SPME force calculations"
keywords = ["n-body", "biology", "chemistry", "barnes", "dynamics"]
categories = [
    "algorithms",
    "mathematics",
    "science",
    "algorithms",
]
repository = "https://github.com/David-OConnor/ewald"
documentation = "https://docs.rs/ewald"
readme = "README.md"
license = "MIT"
exclude = [".gitignore"]


[dependencies]
lin_alg = "1.3.6"
# We use this to get the erf error function for use in the Ewald approximation in MD
# todo: Way to avoid this dep for something lighter?
statrs = "0.18.0"
rustfft = "6.4.0" # For long range reciprical forces

rayon = "1.10.0"  # Parallel execution on CPU using thread pools.

[target.'cfg(not(target_os = "windows"))'.dependencies]
cudarc = { version = "0.17.2", default-features = false, features = ["std", "driver", "dynamic-linking", "cuda-13000"], optional=true }
[target.'cfg(target_os = "windows")'.dependencies]
cudarc = { version = "0.17.2", default-features = false, features = ["std", "driver", "dynamic-loading", "cuda-13000"], optional=true }


[build-dependencies]
cuda_setup = { version = "0.1.7", optional = true }


[features]
cuda = ["cuda_setup", "cudarc", "lin_alg/cuda"]
