FROM python:3.8

RUN apt update && apt install -y curl
WORKDIR /usr/local/share/ca-certificates
RUN curl -k https://vault.dev.silabs.net/v1/pki/ca/pem -o silabs-net-dev.crt && \
    curl -k https://vault.silabs.net/v1/pki/ca/pem -o silabs-net-prod.crt && \
    curl http://pkicorp.silabs.com/certdata/SL%20Root%20CA.crt -o /tmp/slroot.der && \
    curl http://pkicorp.silabs.com/certdata/SL%20Enterprise%20CA01.crt -o /tmp/slintermediate.der && \
    openssl x509 -inform der -in /tmp/slroot.der -out slroot.crt && \
    openssl x509 -inform der -in /tmp/slintermediate.der -out slintermediate.crt && \
    /usr/sbin/update-ca-certificates

