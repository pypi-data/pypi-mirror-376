================================================================================
Running DID demo...
================================================================================

================================================================================
DID Demo: ATT(g,t) and Aggregations
================================================================================
Panel info (core):
shape: (1, 3)
┌─────────────────┬─────────────┬───────────┐
│ panel_type      ┆ is_balanced ┆ n_periods │
│ ---             ┆ ---         ┆ ---       │
│ str             ┆ bool        ┆ i64       │
╞═════════════════╪═════════════╪═══════════╡
│ UnbalancedPanel ┆ false       ┆ 200       │
└─────────────────┴─────────────┴───────────┘

Panel info (enhanced):
shape: (1, 15)
┌───────┬──────┬───────┬─────────────┬───┬──────────────┬──────────────┬────────┬────────┐
│ units ┆ rows ┆ years ┆ years_range ┆ … ┆ min_per_unit ┆ max_per_unit ┆ min_et ┆ max_et │
│ ---   ┆ ---  ┆ ---   ┆ ---         ┆   ┆ ---          ┆ ---          ┆ ---    ┆ ---    │
│ i64   ┆ i64  ┆ i64   ┆ str         ┆   ┆ u32          ┆ u32          ┆ i64    ┆ i64    │
╞═══════╪══════╪═══════╪═════════════╪═══╪══════════════╪══════════════╪════════╪════════╡
│ 200   ┆ 802  ┆ 5     ┆ 2004-2008   ┆ … ┆ 3            ┆ 5            ┆ -4     ┆ 2      │
└───────┴──────┴───────┴─────────────┴───┴──────────────┴──────────────┴────────┴────────┘

ATT(g,t) (head):
shape: (6, 8)
┌───────┬──────┬───────────┬──────────┬───────────┬───────────┬───────────┬───────────┐
│ group ┆ time ┆ att       ┆ se       ┆ t_stat    ┆ p_value   ┆ conf_low  ┆ conf_high │
│ ---   ┆ ---  ┆ ---       ┆ ---      ┆ ---       ┆ ---       ┆ ---       ┆ ---       │
│ i64   ┆ i64  ┆ f64       ┆ f64      ┆ f64       ┆ f64       ┆ f64       ┆ f64       │
╞═══════╪══════╪═══════════╪══════════╪═══════════╪═══════════╪═══════════╪═══════════╡
│ 2006  ┆ 2005 ┆ 0.016738  ┆ 0.180343 ┆ 0.092811  ┆ 0.926054  ┆ -0.217422 ┆ 0.250898  │
│ 2006  ┆ 2006 ┆ 0.739556  ┆ 0.077739 ┆ 9.513307  ┆ 0.0       ┆ 0.507122  ┆ 0.971989  │
│ 2006  ┆ 2007 ┆ 0.653409  ┆ 0.10818  ┆ 6.040007  ┆ 1.5411e-9 ┆ 0.446922  ┆ 0.859897  │
│ 2006  ┆ 2008 ┆ 0.708285  ┆ 0.462932 ┆ 1.529998  ┆ 0.126017  ┆ 0.329694  ┆ 1.086875  │
│ 2007  ┆ 2005 ┆ 0.083387  ┆ 0.218547 ┆ 0.381551  ┆ 0.702794  ┆ -0.252074 ┆ 0.418848  │
│ 2007  ┆ 2006 ┆ -0.069785 ┆ 0.119205 ┆ -0.585421 ┆ 0.558265  ┆ -0.311721 ┆ 0.172151  │
└───────┴──────┴───────────┴──────────┴───────────┴───────────┴───────────┴───────────┘

Simple aggregation:
shape: (1, 8)
┌───────┬──────┬────────────┬──────────┬──────────┬──────────┬───────────┬────────────┐
│ group ┆ time ┆ event_time ┆ att      ┆ se       ┆ conf_low ┆ conf_high ┆ is_overall │
│ ---   ┆ ---  ┆ ---        ┆ ---      ┆ ---      ┆ ---      ┆ ---       ┆ ---        │
│ i64   ┆ i64  ┆ i64        ┆ f64      ┆ f64      ┆ f64      ┆ f64       ┆ bool       │
╞═══════╪══════╪════════════╪══════════╪══════════╪══════════╪═══════════╪════════════╡
│ null  ┆ null ┆ null       ┆ 0.691872 ┆ 0.054008 ┆ 0.586016 ┆ 0.797727  ┆ true       │
└───────┴──────┴────────────┴──────────┴──────────┴──────────┴───────────┴────────────┘

Group aggregation (head):
shape: (3, 8)
┌───────┬──────┬────────────┬──────────┬──────────┬──────────┬───────────┬────────────┐
│ group ┆ time ┆ event_time ┆ att      ┆ se       ┆ conf_low ┆ conf_high ┆ is_overall │
│ ---   ┆ ---  ┆ ---        ┆ ---      ┆ ---      ┆ ---      ┆ ---       ┆ ---        │
│ i64   ┆ i64  ┆ i64        ┆ f64      ┆ f64      ┆ f64      ┆ f64       ┆ bool       │
╞═══════╪══════╪════════════╪══════════╪══════════╪══════════╪═══════════╪════════════╡
│ 2006  ┆ null ┆ null       ┆ 0.700416 ┆ 0.073781 ┆ 0.555806 ┆ 0.845027  ┆ false      │
│ 2007  ┆ null ┆ null       ┆ 0.68161  ┆ 0.089551 ┆ 0.50609  ┆ 0.85713   ┆ false      │
│ 2008  ┆ null ┆ null       ┆ 0.685476 ┆ 0.118712 ┆ 0.452801 ┆ 0.918151  ┆ false      │
└───────┴──────┴────────────┴──────────┴──────────┴──────────┴───────────┴────────────┘

Group aggregation (overall):
shape: (1, 8)
┌───────┬──────┬────────────┬──────────┬──────────┬──────────┬───────────┬────────────┐
│ group ┆ time ┆ event_time ┆ att      ┆ se       ┆ conf_low ┆ conf_high ┆ is_overall │
│ ---   ┆ ---  ┆ ---        ┆ ---      ┆ ---      ┆ ---      ┆ ---       ┆ ---        │
│ i64   ┆ i64  ┆ i64        ┆ f64      ┆ f64      ┆ f64      ┆ f64       ┆ bool       │
╞═══════╪══════╪════════════╪══════════╪══════════╪══════════╪═══════════╪════════════╡
│ null  ┆ null ┆ null       ┆ 0.689299 ┆ 0.061245 ┆ 0.569258 ┆ 0.809339  ┆ true       │
└───────┴──────┴────────────┴──────────┴──────────┴──────────┴───────────┴────────────┘

Dynamic (event-time) aggregation (head):
shape: (6, 8)
┌───────┬──────┬────────────┬───────────┬──────────┬───────────┬───────────┬────────────┐
│ group ┆ time ┆ event_time ┆ att       ┆ se       ┆ conf_low  ┆ conf_high ┆ is_overall │
│ ---   ┆ ---  ┆ ---        ┆ ---       ┆ ---      ┆ ---       ┆ ---       ┆ ---        │
│ i64   ┆ i64  ┆ i64        ┆ f64       ┆ f64      ┆ f64       ┆ f64       ┆ bool       │
╞═══════╪══════╪════════════╪═══════════╪══════════╪═══════════╪═══════════╪════════════╡
│ null  ┆ null ┆ -3         ┆ -0.113148 ┆ 0.141803 ┆ -0.391082 ┆ 0.164785  ┆ false      │
│ null  ┆ null ┆ -2         ┆ 0.066196  ┆ 0.082055 ┆ -0.094631 ┆ 0.227023  ┆ false      │
│ null  ┆ null ┆ -1         ┆ -0.007586 ┆ 0.060395 ┆ -0.12596  ┆ 0.110789  ┆ false      │
│ null  ┆ null ┆ 0          ┆ 0.711022  ┆ 0.056798 ┆ 0.599698  ┆ 0.822347  ┆ false      │
│ null  ┆ null ┆ 1          ┆ 0.653571  ┆ 0.075845 ┆ 0.504916  ┆ 0.802227  ┆ false      │
│ null  ┆ null ┆ 2          ┆ 0.708285  ┆ 0.135327 ┆ 0.443043  ┆ 0.973526  ┆ false      │
└───────┴──────┴────────────┴───────────┴──────────┴───────────┴───────────┴────────────┘

Dynamic (event-time) aggregation with uniform bands (head):
shape: (6, 8)
┌───────┬──────┬────────────┬───────────┬──────────┬───────────┬───────────┬────────────┐
│ group ┆ time ┆ event_time ┆ att       ┆ se       ┆ conf_low  ┆ conf_high ┆ is_overall │
│ ---   ┆ ---  ┆ ---        ┆ ---       ┆ ---      ┆ ---       ┆ ---       ┆ ---        │
│ i64   ┆ i64  ┆ i64        ┆ f64       ┆ f64      ┆ f64       ┆ f64       ┆ bool       │
╞═══════╪══════╪════════════╪═══════════╪══════════╪═══════════╪═══════════╪════════════╡
│ null  ┆ null ┆ -3         ┆ -0.113148 ┆ 0.145411 ┆ -0.389118 ┆ 0.162822  ┆ false      │
│ null  ┆ null ┆ -2         ┆ 0.066196  ┆ 0.081904 ┆ -0.098454 ┆ 0.230847  ┆ false      │
│ null  ┆ null ┆ -1         ┆ -0.007586 ┆ 0.061177 ┆ -0.127088 ┆ 0.111917  ┆ false      │
│ null  ┆ null ┆ 0          ┆ 0.711022  ┆ 0.05925  ┆ 0.591655  ┆ 0.830389  ┆ false      │
│ null  ┆ null ┆ 1          ┆ 0.653571  ┆ 0.08399  ┆ 0.500954  ┆ 0.806188  ┆ false      │
│ null  ┆ null ┆ 2          ┆ 0.708285  ┆ 0.127897 ┆ 0.462855  ┆ 0.953714  ┆ false      │
└───────┴──────┴────────────┴───────────┴──────────┴───────────┴───────────┴────────────┘

Calendar-time aggregation (head):
shape: (3, 8)
┌───────┬──────┬────────────┬──────────┬──────────┬──────────┬───────────┬────────────┐
│ group ┆ time ┆ event_time ┆ att      ┆ se       ┆ conf_low ┆ conf_high ┆ is_overall │
│ ---   ┆ ---  ┆ ---        ┆ ---      ┆ ---      ┆ ---      ┆ ---       ┆ ---        │
│ i64   ┆ i64  ┆ i64        ┆ f64      ┆ f64      ┆ f64      ┆ f64       ┆ bool       │
╞═══════╪══════╪════════════╪══════════╪══════════╪══════════╪═══════════╪════════════╡
│ null  ┆ 2006 ┆ null       ┆ 0.739556 ┆ 0.077005 ┆ 0.588626 ┆ 0.890485  ┆ false      │
│ null  ┆ 2007 ┆ null       ┆ 0.680248 ┆ 0.065466 ┆ 0.551934 ┆ 0.808562  ┆ false      │
│ null  ┆ 2008 ┆ null       ┆ 0.683352 ┆ 0.09177  ┆ 0.503483 ┆ 0.86322   ┆ false      │
└───────┴──────┴────────────┴──────────┴──────────┴──────────┴───────────┴────────────┘

✓ DID demo completed
================================================================================
