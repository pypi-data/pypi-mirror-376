export const __webpack_ids__=["31954"];export const __webpack_modules__={42236:function(t,i,e){e.d(i,{U:()=>s});const s=t=>`/api/image_proxy/${t.entity_id}?token=${t.attributes.access_token}&state=${t.state}`},32941:function(t,i,e){e.d(i,{Gw:()=>o,IB:()=>c,Qr:()=>h,aV:()=>n,b:()=>a,oE:()=>r,uy:()=>s});const s=(t,i)=>t.callWS({type:"media_source/resolve_media",media_content_id:i}),a=(t,i)=>t.callWS({type:"media_source/browse_media",media_content_id:i}),o=t=>t.startsWith("media-source://"),n=t=>t.startsWith("media-source://media_source"),c=t=>t.startsWith("media-source://image_upload"),r=async(t,i,e)=>{const s=new FormData;s.append("media_content_id",i),s.append("file",e);const a=await t.fetchWithAuth("/api/media_source/local_source/upload",{method:"POST",body:s});if(413===a.status)throw new Error(`Uploaded file is too large (${e.name})`);if(200!==a.status)throw new Error("Unknown error");return a.json()},h=async(t,i)=>t.callWS({type:"media_source/local_source/remove",media_content_id:i})},3320:function(t,i,e){e.r(i),e.d(i,{HuiPictureCard:()=>p});var s=e(73742),a=e(59048),o=e(26292),n=e(31733),c=e(25191),r=e(4427),h=e(44272),_=(e(31138),e(42236)),d=e(76815),g=e(88887),m=e(37807),l=e(93647),u=e(99389),f=e(32941);class p extends a.oi{static async getConfigElement(){return await Promise.all([e.e("73614"),e.e("86689"),e.e("51679"),e.e("15634"),e.e("22092"),e.e("39991"),e.e("89112"),e.e("96859"),e.e("96670"),e.e("92375")]).then(e.bind(e,30479)),document.createElement("hui-picture-card-editor")}static getStubConfig(){return{type:"picture",image:"https://demo.home-assistant.io/stub_config/t-shirt-promo.png"}}getCardSize(){return 5}setConfig(t){if(!t||!t.image&&!t.image_entity)throw new Error("Image required");this._config={tap_action:{action:"more-info"},...t}}shouldUpdate(t){if(!this._config||(0,l.SN)(this,t)||t.has("_resolvedImage"))return!0;if(this._config.image_entity&&t.has("hass")){const i=t.get("hass");if(!i||i.states[this._config.image_entity]!==this.hass.states[this._config.image_entity])return!0}return!1}willUpdate(t){if(super.willUpdate(t),!this._config||!this.hass)return;const i=t.has("hass")&&void 0===t.get("hass"),e=t.has("_config")&&t.get("_config")?.image!==this._config?.image;(i||e)&&"string"==typeof this._config?.image&&(0,f.Gw)(this._config.image)?(this._resolvedImage=void 0,(0,f.uy)(this.hass,this._config?.image).then(t=>{this._resolvedImage=t.url})):e&&(this._resolvedImage=this._config?.image)}updated(t){if(super.updated(t),!this._config||!this.hass)return;const i=t.get("hass"),e=t.get("_config");i&&e&&i.themes===this.hass.themes&&e.theme===this._config.theme||(0,r.R)(this,this.hass.themes,this._config.theme)}render(){if(!this._config||!this.hass)return a.Ld;let t;if(this._config.image_entity&&(t=this.hass.states[this._config.image_entity],!t))return a.dy`<hui-warning .hass="${this.hass}"> ${(0,u.i)(this.hass,this._config.image_entity)} </hui-warning>`;let i=this._resolvedImage;if(this._config.image_entity){switch((0,h.M)(this._config.image_entity)){case"image":i=(0,_.U)(t);break;case"person":t.attributes.entity_picture&&(i=t.attributes.entity_picture)}}return void 0===i?a.Ld:a.dy` <ha-card @action="${this._handleAction}" .actionHandler="${(0,d.K)({hasHold:(0,m._)(this._config.hold_action),hasDoubleClick:(0,m._)(this._config.double_tap_action)})}" tabindex="${(0,c.o)((0,m._)(this._config.tap_action)||this._config.image_entity?"0":void 0)}" class="${(0,n.$)({clickable:Boolean(this._config.image_entity&&!this._config.tap_action||this._config.tap_action&&"none"!==this._config.tap_action.action||this._config.hold_action&&"none"!==this._config.hold_action.action||this._config.double_tap_action&&"none"!==this._config.double_tap_action.action)})}"> <img alt="${(0,c.o)(this._config.alt_text||t?.attributes.friendly_name)}" src="${this.hass.hassUrl(i)}"> </ha-card> `}_handleAction(t){(0,g.G)(this,this.hass,this._config,t.detail.action)}}p.styles=a.iv`ha-card{overflow:hidden;height:100%}ha-card.clickable{cursor:pointer}img{display:block;width:100%}`,(0,s.__decorate)([(0,o.Cb)({attribute:!1})],p.prototype,"hass",void 0),(0,s.__decorate)([(0,o.SB)()],p.prototype,"_config",void 0),(0,s.__decorate)([(0,o.SB)()],p.prototype,"_resolvedImage",void 0),p=(0,s.__decorate)([(0,o.Mo)("hui-picture-card")],p)}};
//# sourceMappingURL=31954.b9e7eff8e80bb4e8.js.map