export const __webpack_ids__=["29330"];export const __webpack_modules__={86420:function(t,i,e){e.d(i,{D:()=>s});const s=t=>t.name?.trim()},58125:function(t,i,e){e.d(i,{wZ:()=>o,jL:()=>n,sU:()=>d});e(81738),e(94814),e(6989);var s=e(28105),a=e(15459);e(67886),e(65451),e(46015),e(38334),e(94880),e(75643),e(29761);const n=t=>(t.name_by_user||t.name)?.trim(),o=(t,i,e)=>n(t)||e&&r(i,e)||i.localize("ui.panel.config.devices.unnamed_device",{type:i.localize(`ui.panel.config.devices.type.${t.entry_type||"device"}`)}),r=(t,i)=>{for(const e of i||[]){const i="string"==typeof e?e:e.entity_id,s=t.states[i];if(s)return(0,a.C)(s)}},d=(0,s.Z)(t=>function(t){const i=new Set,e=new Set;for(const s of t)e.has(s)?i.add(s):e.add(s);return i}(Object.values(t).map(t=>n(t)).filter(t=>void 0!==t)))},61981:function(t,i,e){e.d(i,{K:()=>o,T:()=>r});var s=e(58125),a=e(15459),n=e(55107);const o=(t,i)=>{const e=i.entities[t.entity_id];return e?r(e,i):(0,a.C)(t)},r=(t,i)=>{const e=t.name||("original_name"in t&&null!=t.original_name?String(t.original_name):void 0),o=t.device_id?i.devices[t.device_id]:void 0;if(!o){if(e)return e;const s=i.states[t.entity_id];return s?(0,a.C)(s):void 0}const r=(0,s.jL)(o);if(r!==e)return r&&e&&(0,n.N)(e,r)||e}},55107:function(t,i,e){e.d(i,{N:()=>a});const s=[" ",": "," - "],a=(t,i)=>{const e=t.toLowerCase(),a=i.toLowerCase();for(const i of s){const s=`${a}${i}`;if(e.startsWith(s)){const i=t.substring(s.length);if(i.length)return n(i.substr(0,i.indexOf(" ")))?i:i[0].toUpperCase()+i.slice(1)}}},n=t=>t.toLowerCase()!==t},59342:function(t,i,e){e.a(t,async function(t,i){try{e(2394),e(81738),e(94814),e(29981),e(22960);var s=e(73742),a=e(59048),n=e(26292),o=e(28105),r=e(45332),d=e(39884),c=e(86420),l=e(58125),p=e(61981),h=e(15459),u=e(51574),_=e(97050),f=e(96222),y=e(7214),v=e(42399),m=(e(12692),e(19905),e(48017),e(22534),e(993),e(23476)),g=t([m]);m=(g.then?(await g)():g)[0];const x="M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z",b="M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z",C="M11,13.5V21.5H3V13.5H11M12,2L17.5,11H6.5L12,2M17.5,13C20,13 22,15 22,17.5C22,20 20,22 17.5,22C15,22 13,20 13,17.5C13,15 15,13 17.5,13Z",$=["entity","external","no_state"],w="___missing-entity___";class k extends a.oi{willUpdate(t){(!this.hasUpdated&&!this.statisticIds||t.has("statisticTypes"))&&this._getStatisticIds()}async _getStatisticIds(){this.statisticIds=await(0,y.uR)(this.hass,this.statisticTypes)}_getAdditionalItems(){return[{id:w,primary:this.hass.localize("ui.components.statistic-picker.missing_entity"),icon_path:b}]}_computeItem(t){const i=this.hass.states[t];if(i){const{area:e,device:s}=(0,u.U)(i,this.hass),a=(0,p.K)(i,this.hass),n=s?(0,l.jL)(s):void 0,o=e?(0,c.D)(e):void 0,r=(0,_.HE)(this.hass),d=a||n||t,f=[o,a?n:void 0].filter(Boolean).join(r?" ◂ ":" ▸ "),y=(0,h.C)(i);return{id:t,statistic_id:t,primary:d,secondary:f,stateObj:i,type:"entity",sorting_label:[`${$.indexOf("entity")}`,n,a].join("_"),search_labels:[a,n,o,y,t].filter(Boolean)}}const e=this.statisticIds?this._statisticMetaData(t,this.statisticIds):void 0;if(e){if("external"===(t.includes(":")&&!t.includes(".")?"external":"no_state")){const i=`${$.indexOf("external")}`,s=(0,y.Kd)(this.hass,t,e),a=t.split(":")[0],n=(0,f.Lh)(this.hass.localize,a);return{id:t,statistic_id:t,primary:s,secondary:n,type:"external",sorting_label:[i,s].join("_"),search_labels:[s,n,t],icon_path:x}}}const s=`${$.indexOf("external")}`,a=(0,y.Kd)(this.hass,t,e);return{id:t,primary:a,secondary:this.hass.localize("ui.components.statistic-picker.no_state"),type:"no_state",sorting_label:[s,a].join("_"),search_labels:[a,t],icon_path:C}}render(){const t=this.placeholder??this.hass.localize("ui.components.statistic-picker.placeholder"),i=this.hass.localize("ui.components.statistic-picker.no_match");return a.dy` <ha-generic-picker .hass="${this.hass}" .autofocus="${this.autofocus}" .allowCustomValue="${this.allowCustomEntity}" .label="${this.label}" .notFoundLabel="${i}" .placeholder="${t}" .value="${this.value}" .rowRenderer="${this._rowRenderer}" .getItems="${this._getItems}" .getAdditionalItems="${this._getAdditionalItems}" .hideClearIcon="${this.hideClearIcon}" .searchFn="${this._searchFn}" .valueRenderer="${this._valueRenderer}" @value-changed="${this._valueChanged}"> </ha-generic-picker> `}_valueChanged(t){t.stopPropagation();const i=t.detail.value;i!==w?(this.value=i,(0,d.B)(this,"value-changed",{value:i})):window.open((0,v.R)(this.hass,this.helpMissingEntityUrl),"_blank")}async open(){await this.updateComplete,await(this._picker?.open())}constructor(...t){super(...t),this.autofocus=!1,this.disabled=!1,this.required=!1,this.helpMissingEntityUrl="/more-info/statistics/",this.entitiesOnly=!1,this.hideClearIcon=!1,this._getItems=()=>this._getStatisticsItems(this.hass,this.statisticIds,this.includeStatisticsUnitOfMeasurement,this.includeUnitClass,this.includeDeviceClass,this.entitiesOnly,this.excludeStatistics,this.value),this._getStatisticsItems=(0,o.Z)((t,i,e,s,a,n,o,d)=>{if(!i)return[];if(e){const t=(0,r.r)(e);i=i.filter(i=>t.includes(i.statistics_unit_of_measurement))}if(s){const t=(0,r.r)(s);i=i.filter(i=>t.includes(i.unit_class))}if(a){const t=(0,r.r)(a);i=i.filter(i=>{const e=this.hass.states[i.statistic_id];return!e||t.includes(e.attributes.device_class||"")})}const v=(0,_.HE)(this.hass),m=[];return i.forEach(i=>{if(o&&i.statistic_id!==d&&o.includes(i.statistic_id))return;const e=this.hass.states[i.statistic_id];if(!e){if(!n){const t=i.statistic_id,e=(0,y.Kd)(this.hass,i.statistic_id,i),s=i.statistic_id.includes(":")&&!i.statistic_id.includes(".")?"external":"no_state",a=`${$.indexOf(s)}`;if("no_state"===s)m.push({id:t,primary:e,secondary:this.hass.localize("ui.components.statistic-picker.no_state"),type:s,sorting_label:[a,e].join("_"),search_labels:[e,t],icon_path:C});else if("external"===s){const i=t.split(":")[0],n=(0,f.Lh)(this.hass.localize,i);m.push({id:t,statistic_id:t,primary:e,secondary:n,type:s,sorting_label:[a,e].join("_"),search_labels:[e,n,t],icon_path:x})}}return}const s=i.statistic_id,{area:a,device:r}=(0,u.U)(e,t),_=(0,h.C)(e),g=(0,p.K)(e,t),b=r?(0,l.jL)(r):void 0,w=a?(0,c.D)(a):void 0,k=g||b||s,S=[w,g?b:void 0].filter(Boolean).join(v?" ◂ ":" ▸ "),I=[b,g].filter(Boolean).join(" - "),O=`${$.indexOf("entity")}`;m.push({id:s,statistic_id:s,primary:k,secondary:S,a11y_label:I,stateObj:e,type:"entity",sorting_label:[O,b,g].join("_"),search_labels:[g,b,w,_,s].filter(Boolean)})}),m}),this._statisticMetaData=(0,o.Z)((t,i)=>{if(i)return i.find(i=>i.statistic_id===t)}),this._valueRenderer=t=>{const i=t,e=this._computeItem(i);return a.dy` ${e.stateObj?a.dy` <state-badge .hass="${this.hass}" .stateObj="${e.stateObj}" slot="start"></state-badge> `:e.icon_path?a.dy` <ha-svg-icon slot="start" .path="${e.icon_path}"></ha-svg-icon> `:a.Ld} <span slot="headline">${e.primary}</span> ${e.secondary?a.dy`<span slot="supporting-text">${e.secondary}</span>`:a.Ld} `},this._rowRenderer=(t,{index:i})=>{const e=this.hass.userData?.showEntityIdPicker;return a.dy` <ha-combo-box-item type="button" compact="compact" .borderTop="${0!==i}"> ${t.icon_path?a.dy` <ha-svg-icon style="margin:0 4px" slot="start" .path="${t.icon_path}"></ha-svg-icon> `:t.stateObj?a.dy` <state-badge slot="start" .stateObj="${t.stateObj}" .hass="${this.hass}"></state-badge> `:a.Ld} <span slot="headline">${t.primary} </span> ${t.secondary?a.dy`<span slot="supporting-text">${t.secondary}</span>`:a.Ld} ${t.statistic_id&&e?a.dy`<span slot="supporting-text" class="code"> ${t.statistic_id} </span>`:a.Ld} </ha-combo-box-item> `},this._searchFn=(t,i)=>{const e=i.findIndex(i=>i.stateObj?.entity_id===t||i.statistic_id===t);if(-1===e)return i;const[s]=i.splice(e,1);return i.unshift(s),i}}}(0,s.__decorate)([(0,n.Cb)({attribute:!1})],k.prototype,"hass",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean})],k.prototype,"autofocus",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean})],k.prototype,"disabled",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean})],k.prototype,"required",void 0),(0,s.__decorate)([(0,n.Cb)()],k.prototype,"label",void 0),(0,s.__decorate)([(0,n.Cb)()],k.prototype,"value",void 0),(0,s.__decorate)([(0,n.Cb)()],k.prototype,"helper",void 0),(0,s.__decorate)([(0,n.Cb)()],k.prototype,"placeholder",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"statistic-types"})],k.prototype,"statisticTypes",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean,attribute:"allow-custom-entity"})],k.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:!1,type:Array})],k.prototype,"statisticIds",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:!1})],k.prototype,"helpMissingEntityUrl",void 0),(0,s.__decorate)([(0,n.Cb)({type:Array,attribute:"include-statistics-unit-of-measurement"})],k.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"include-unit-class"})],k.prototype,"includeUnitClass",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"include-device-class"})],k.prototype,"includeDeviceClass",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean,attribute:"entities-only"})],k.prototype,"entitiesOnly",void 0),(0,s.__decorate)([(0,n.Cb)({type:Array,attribute:"exclude-statistics"})],k.prototype,"excludeStatistics",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"hide-clear-icon",type:Boolean})],k.prototype,"hideClearIcon",void 0),(0,s.__decorate)([(0,n.IO)("ha-generic-picker")],k.prototype,"_picker",void 0),k=(0,s.__decorate)([(0,n.Mo)("ha-statistic-picker")],k),i()}catch(t){i(t)}})},23395:function(t,i,e){e.a(t,async function(t,i){try{e(81738),e(94814),e(6989);var s=e(73742),a=e(59048),n=e(26292),o=e(88245),r=e(39884),d=e(59342),c=t([d]);d=(c.then?(await c)():c)[0];class l extends a.oi{render(){if(!this.hass)return a.Ld;const t=this.ignoreRestrictionsOnFirstStatistic&&this._currentStatistics.length<=1,i=t?void 0:this.includeStatisticsUnitOfMeasurement,e=t?void 0:this.includeUnitClass,s=t?void 0:this.includeDeviceClass,n=t?void 0:this.statisticTypes;return a.dy` ${this.label?a.dy`<label>${this.label}</label>`:a.Ld} ${(0,o.r)(this._currentStatistics,t=>t,t=>a.dy` <div> <ha-statistic-picker .curValue="${t}" .hass="${this.hass}" .includeStatisticsUnitOfMeasurement="${i}" .includeUnitClass="${e}" .includeDeviceClass="${s}" .value="${t}" .statisticTypes="${n}" .statisticIds="${this.statisticIds}" .excludeStatistics="${this.value}" .allowCustomEntity="${this.allowCustomEntity}" @value-changed="${this._statisticChanged}"></ha-statistic-picker> </div> `)} <div> <ha-statistic-picker .hass="${this.hass}" .includeStatisticsUnitOfMeasurement="${this.includeStatisticsUnitOfMeasurement}" .includeUnitClass="${this.includeUnitClass}" .includeDeviceClass="${this.includeDeviceClass}" .statisticTypes="${this.statisticTypes}" .statisticIds="${this.statisticIds}" .placeholder="${this.placeholder}" .excludeStatistics="${this.value}" .allowCustomEntity="${this.allowCustomEntity}" @value-changed="${this._addStatistic}"></ha-statistic-picker> </div> `}get _currentStatistics(){return this.value||[]}async _updateStatistics(t){this.value=t,(0,r.B)(this,"value-changed",{value:t})}_statisticChanged(t){t.stopPropagation();const i=t.currentTarget.curValue,e=t.detail.value;if(e===i)return;const s=this._currentStatistics;e&&!s.includes(e)?this._updateStatistics(s.map(t=>t===i?e:t)):this._updateStatistics(s.filter(t=>t!==i))}async _addStatistic(t){t.stopPropagation();const i=t.detail.value;if(!i)return;if(t.currentTarget.value="",!i)return;const e=this._currentStatistics;e.includes(i)||this._updateStatistics([...e,i])}constructor(...t){super(...t),this.ignoreRestrictionsOnFirstStatistic=!1}}l.styles=a.iv`:host{display:block}ha-statistic-picker{display:block;width:100%;margin-top:8px}label{display:block;margin-bottom:0 0 8px}`,(0,s.__decorate)([(0,n.Cb)({attribute:!1})],l.prototype,"hass",void 0),(0,s.__decorate)([(0,n.Cb)({type:Array})],l.prototype,"value",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:!1,type:Array})],l.prototype,"statisticIds",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"statistic-types"})],l.prototype,"statisticTypes",void 0),(0,s.__decorate)([(0,n.Cb)({type:String})],l.prototype,"label",void 0),(0,s.__decorate)([(0,n.Cb)({type:String})],l.prototype,"placeholder",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean,attribute:"allow-custom-entity"})],l.prototype,"allowCustomEntity",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"include-statistics-unit-of-measurement"})],l.prototype,"includeStatisticsUnitOfMeasurement",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"include-unit-class"})],l.prototype,"includeUnitClass",void 0),(0,s.__decorate)([(0,n.Cb)({attribute:"include-device-class"})],l.prototype,"includeDeviceClass",void 0),(0,s.__decorate)([(0,n.Cb)({type:Boolean,attribute:"ignore-restrictions-on-first-statistic"})],l.prototype,"ignoreRestrictionsOnFirstStatistic",void 0),l=(0,s.__decorate)([(0,n.Mo)("ha-statistics-picker")],l),i()}catch(t){i(t)}})},53898:function(t,i,e){e.d(i,{C:()=>d,t:()=>c});var s=e(73742),a=e(74789),n=e(62693),o=e(59048),r=e(26292);const d=[n.W,o.iv`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color)}md-item{overflow:var(--md-item-overflow,hidden);align-items:var(--md-item-align-items,center);gap:var(--ha-md-list-item-gap,16px)}`];class c extends a.d{}c.styles=d,c=(0,s.__decorate)([(0,r.Mo)("ha-md-list-item")],c)},37492:function(t,i,e){e.d(i,{f:()=>c});var s=e(73742),a=e(94068),n=e(16880),o=e(59048),r=e(26292),d=e(83054);class c extends a.P{updated(t){super.updated(t),(t.has("invalid")||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||t.has("invalid")&&void 0!==t.get("invalid"))&&this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(!1===this.autocorrect?this.formElement.setAttribute("autocorrect","off"):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}renderIcon(t,i=!1){const e=i?"trailing":"leading";return o.dy` <span class="mdc-text-field__icon mdc-text-field__icon--${e}" tabindex="${i?1:-1}"> <slot name="${e}Icon"></slot> </span> `}constructor(...t){super(...t),this.icon=!1,this.iconTrailing=!1,this.autocorrect=!0}}c.styles=[n.W,o.iv`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}`,"rtl"===d.E.document.dir?o.iv`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}`:o.iv``],(0,s.__decorate)([(0,r.Cb)({type:Boolean})],c.prototype,"invalid",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:"error-message"})],c.prototype,"errorMessage",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean})],c.prototype,"icon",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean})],c.prototype,"iconTrailing",void 0),(0,s.__decorate)([(0,r.Cb)()],c.prototype,"autocomplete",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean})],c.prototype,"autocorrect",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:"input-spellcheck"})],c.prototype,"inputSpellcheck",void 0),(0,s.__decorate)([(0,r.IO)("input")],c.prototype,"formElement",void 0),c=(0,s.__decorate)([(0,r.Mo)("ha-textfield")],c)},42399:function(t,i,e){e.d(i,{R:()=>s});const s=(t,i)=>`https://${t.config.version.includes("b")?"rc":t.config.version.includes("dev")?"next":"www"}.home-assistant.io${i}`}};
//# sourceMappingURL=29330.3fac3bd45ccebf86.js.map