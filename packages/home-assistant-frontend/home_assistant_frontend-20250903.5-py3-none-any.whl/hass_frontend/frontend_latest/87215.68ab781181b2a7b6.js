export const __webpack_ids__=["87215"];export const __webpack_modules__={84447:function(t,e,i){var a=i(73742),s=i(27885),n=i(67522),o=i(23533),c=i(7046),r=i(59048),l=i(26292);class d extends s.g{renderOutline(){return this.filled?r.dy`<span class="filled"></span>`:super.renderOutline()}getContainerClasses(){return{...super.getContainerClasses(),active:this.active}}renderPrimaryContent(){return r.dy` <span class="leading icon" aria-hidden="true"> ${this.renderLeadingIcon()} </span> <span class="label">${this.label}</span> <span class="touch"></span> <span class="trailing leading icon" aria-hidden="true"> ${this.renderTrailingIcon()} </span> `}renderTrailingIcon(){return r.dy`<slot name="trailing-icon"></slot>`}constructor(...t){super(...t),this.filled=!1,this.active=!1}}d.styles=[o.W,c.W,n.W,r.iv`:host{--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-surface:var(--primary-text-color);--md-assist-chip-container-shape:var(
          --ha-assist-chip-container-shape,
          16px
        );--md-assist-chip-outline-color:var(--outline-color);--md-assist-chip-label-text-weight:400}.filled{display:flex;pointer-events:none;border-radius:inherit;inset:0;position:absolute;background-color:var(--ha-assist-chip-filled-container-color)}::slotted([slot=icon]),::slotted([slot=trailing-icon]){display:flex;--mdc-icon-size:var(--md-input-chip-icon-size, 18px);font-size:var(--_label-text-size)!important}.trailing.icon ::slotted(*),.trailing.icon svg{margin-inline-end:unset;margin-inline-start:var(--_icon-label-space)}::before{background:var(--ha-assist-chip-container-color,transparent);opacity:var(--ha-assist-chip-container-opacity, 1)}:where(.active)::before{background:var(--ha-assist-chip-active-container-color);opacity:var(--ha-assist-chip-active-container-opacity)}.label{font-family:var(--ha-font-family-body)}`],(0,a.__decorate)([(0,l.Cb)({type:Boolean,reflect:!0})],d.prototype,"filled",void 0),(0,a.__decorate)([(0,l.Cb)({type:Boolean})],d.prototype,"active",void 0),d=(0,a.__decorate)([(0,l.Mo)("ha-assist-chip")],d)},26488:function(t,e,i){i.d(e,{Q:()=>a});const a=["relative","total","date","time","datetime"]},55367:function(t,e,i){i.a(t,async function(t,a){try{i.r(e),i.d(e,{HuiStatisticsGraphCardEditor:()=>w});i(2394),i(81738),i(94814),i(29981),i(22960),i(6989),i(72489),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761);var s=i(73742),n=i(59048),o=i(26292),c=i(28105),r=i(95632),l=i(45332),d=i(39884),h=i(65829),_=i(56665),p=i(23395),m=(i(87979),i(7214)),u=i(55577),y=i(90806),g=i(94177),f=i(75382),v=t([p,f,_]);[p,f,_]=v.then?(await v)():v;const b=(0,r.G0)([(0,r.i0)("state"),(0,r.i0)("sum"),(0,r.i0)("change"),(0,r.i0)("min"),(0,r.i0)("max"),(0,r.i0)("mean")]),x=(0,r.f0)(y.I,(0,r.Ry)({entities:(0,r.IX)(g.K),title:(0,r.jt)((0,r.Z_)()),days_to_show:(0,r.jt)((0,r.Rx)()),period:(0,r.jt)((0,r.G0)([(0,r.i0)("5minute"),(0,r.i0)("hour"),(0,r.i0)("day"),(0,r.i0)("week"),(0,r.i0)("month")])),chart_type:(0,r.jt)((0,r.G0)([(0,r.i0)("bar"),(0,r.i0)("line")])),stat_types:(0,r.jt)((0,r.G0)([(0,r.IX)(b),b])),unit:(0,r.jt)((0,r.Z_)()),hide_legend:(0,r.jt)((0,r.O7)()),logarithmic_scale:(0,r.jt)((0,r.O7)()),min_y_axis:(0,r.jt)((0,r.Rx)()),max_y_axis:(0,r.jt)((0,r.Rx)()),fit_y_data:(0,r.jt)((0,r.O7)())})),j=["5minute","hour","day","week","month"],$=["mean","min","max","sum","state","change"];class w extends n.oi{setConfig(t){(0,r.hu)(t,x),this._config=t,this._configEntities=t.entities?(0,u.A)(t.entities,!1).map(t=>t.entity):[]}willUpdate(t){t.has("_configEntities")&&!(0,h.v)(this._configEntities,t.get("_configEntities"))&&(this._metaDatas=void 0,this._configEntities?.length&&this._getStatisticsMetaData(this._configEntities))}render(){if(!this.hass||!this._config)return n.Ld;const t=this._schema(this.hass.localize,this._configEntities,this._metaDatas,void 0!==this._config.min_y_axis||void 0!==this._config.max_y_axis),e=this._config.stat_types?(0,l.r)(this._config.stat_types):$.filter(t=>this._metaDatas?.some(e=>(0,m.Z0)(e,t))),i={chart_type:"line",period:"hour",...this._config,stat_types:e},a=this._metaDatas?.[0]?.unit_class,s=a?void 0:this._metaDatas?.[0]?.statistics_unit_of_measurement;return n.dy` <ha-form .hass="${this.hass}" .data="${i}" .schema="${t}" .computeLabel="${this._computeLabelCallback}" @value-changed="${this._valueChanged}"></ha-form> <ha-statistics-picker allow-custom-entity .hass="${this.hass}" .placeholder="${this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.pick_statistic")}" .label="${this.hass.localize("ui.panel.lovelace.editor.card.statistics-graph.picked_statistic")}" .includeStatisticsUnitOfMeasurement="${s}" .includeUnitClass="${a}" .ignoreRestrictionsOnFirstStatistic="${!0}" .value="${this._configEntities}" .configValue="${"entities"}" @value-changed="${this._entitiesChanged}"></ha-statistics-picker> `}_valueChanged(t){(0,d.B)(this,"config-changed",{config:t.detail.value})}async _entitiesChanged(t){const e=t.detail.value,i=e.map(t=>this._config.entities.find(e=>"string"!=typeof e&&e.entity===t)??t),a={...this._config,entities:i};e?.some(t=>(0,m.Hs)(t))&&"5minute"===a.period&&delete a.period;const s=a.stat_types||a.unit?await(0,m.Py)(this.hass,e):void 0;a.stat_types&&a.entities.length&&(a.stat_types=(0,l.r)(a.stat_types).filter(t=>s.some(e=>(0,m.Z0)(e,t))),a.stat_types.length||delete a.stat_types),a.unit&&!s.some(t=>(0,m.dO)(this.hass,t?.statistic_id,t)===a.unit)&&delete a.unit,(0,d.B)(this,"config-changed",{config:a})}constructor(...t){super(...t),this._getStatisticsMetaData=async t=>{this._metaDatas=await(0,m.Py)(this.hass,t||[])},this._schema=(0,c.Z)((t,e,i,a)=>{const s=new Set;i?.forEach(t=>{const e=(0,m.dO)(this.hass,t.statistic_id,t);e&&s.add(e)});const n=[{name:"title",selector:{text:{}}},{name:"",type:"grid",schema:[{name:"period",required:!0,selector:{select:{options:j.map(i=>({value:i,label:t(`ui.panel.lovelace.editor.card.statistics-graph.periods.${i}`),disabled:"5minute"===i&&e?.some(t=>(0,m.Hs)(t))}))}}},{name:"days_to_show",default:f.DEFAULT_DAYS_TO_SHOW,selector:{number:{min:1,mode:"box"}}},{name:"stat_types",required:!0,selector:{select:{multiple:!0,mode:"list",options:$.map(e=>({value:e,label:t(`ui.panel.lovelace.editor.card.statistics-graph.stat_type_labels.${e}`),disabled:!i||!i.some(t=>(0,m.Z0)(t,_.O[e]))}))}}},{name:"chart_type",required:!0,type:"select",options:[["line",t("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.line")],["bar",t("ui.panel.lovelace.editor.card.statistics-graph.chart_type_labels.bar")]]},{name:"",type:"grid",schema:[{name:"min_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}},{name:"max_y_axis",required:!1,selector:{number:{mode:"box",step:"any"}}}]},...a?[{name:"fit_y_data",required:!1,selector:{boolean:{}}}]:[],{name:"hide_legend",required:!1,selector:{boolean:{}}},{name:"logarithmic_scale",required:!1,selector:{boolean:{}}}]}];return s.size>1&&n[1].schema.push({name:"unit",required:!1,selector:{select:{options:Array.from(s).map(t=>({value:t,label:t}))}}}),n}),this._computeLabelCallback=t=>{switch(t.name){case"chart_type":case"stat_types":case"period":case"unit":case"hide_legend":case"logarithmic_scale":case"min_y_axis":case"max_y_axis":case"fit_y_data":return this.hass.localize(`ui.panel.lovelace.editor.card.statistics-graph.${t.name}`);default:return this.hass.localize(`ui.panel.lovelace.editor.card.generic.${t.name}`)}}}}w.styles=n.iv`ha-statistics-picker{width:100%}`,(0,s.__decorate)([(0,o.Cb)({attribute:!1})],w.prototype,"hass",void 0),(0,s.__decorate)([(0,o.SB)()],w.prototype,"_config",void 0),(0,s.__decorate)([(0,o.SB)()],w.prototype,"_configEntities",void 0),(0,s.__decorate)([(0,o.SB)()],w.prototype,"_metaDatas",void 0),w=(0,s.__decorate)([(0,o.Mo)("hui-statistics-graph-card-editor")],w),a()}catch(t){a(t)}})},90806:function(t,e,i){i.d(e,{I:()=>s});var a=i(95632);const s=(0,a.Ry)({type:(0,a.Z_)(),view_layout:(0,a.Yj)(),layout_options:(0,a.Yj)(),grid_options:(0,a.Yj)(),visibility:(0,a.Yj)()})},94177:function(t,e,i){i.d(e,{K:()=>o});var a=i(95632),s=i(26488),n=i(20560);const o=(0,a.G0)([(0,a.Ry)({entity:(0,a.Z_)(),name:(0,a.jt)((0,a.Z_)()),icon:(0,a.jt)((0,a.Z_)()),image:(0,a.jt)((0,a.Z_)()),secondary_info:(0,a.jt)((0,a.Z_)()),format:(0,a.jt)((0,a.kE)(s.Q)),state_color:(0,a.jt)((0,a.O7)()),tap_action:(0,a.jt)(n.fJ),hold_action:(0,a.jt)(n.fJ),double_tap_action:(0,a.jt)(n.fJ),confirmation:(0,a.jt)(n.TX)}),(0,a.Z_)()])}};
//# sourceMappingURL=87215.68ab781181b2a7b6.js.map