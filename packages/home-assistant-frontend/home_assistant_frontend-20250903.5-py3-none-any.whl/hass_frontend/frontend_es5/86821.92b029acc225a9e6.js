"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["86821"],{84075:function(e,t,i){i.d(t,{$H:function(){return n},DJ:function(){return s},RQ:function(){return r},iJ:function(){return a},pB:function(){return o}});i(26847),i(81738),i(94814),i(29981),i(87799),i(27530);const n=(e,t)=>e.callWS({type:"config_entries/subentries/list",entry_id:t}),s=(e,t,i)=>{const n={type:"config_entries/subscribe"};return i&&i.type&&(n.type_filter=i.type),e.connection.subscribeMessage(e=>t(e),n)},o=(e,t)=>{const i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS(Object.assign({type:"config_entries/get"},i))},r=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),a=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`)},20990:function(e,t,i){i.d(t,{D4:function(){return o},D7:function(){return d},Ky:function(){return s},V3:function(){return l},XO:function(){return r},d4:function(){return c},oi:function(){return a}});i(96222);const n={"HA-Frontend-Base":`${location.protocol}//${location.host}`},s=(e,t,i)=>{var s;return e.callApi("POST","config/config_entries/flow",{handler:t,show_advanced_options:Boolean(null===(s=e.userData)||void 0===s?void 0:s.showAdvanced),entry_id:i},n)},o=(e,t)=>e.callApi("GET",`config/config_entries/flow/${t}`,void 0,n),r=(e,t,i)=>e.callApi("POST",`config/config_entries/flow/${t}`,i,n),a=(e,t)=>e.callApi("DELETE",`config/config_entries/flow/${t}`),c=(e,t)=>e.callApi("GET","config/config_entries/flow_handlers"+(t?`?type=${t}`:"")),d=e=>e.sendMessagePromise({type:"config_entries/flow/progress"}),l=(e,t)=>e.connection.subscribeMessage(e=>t(e),{type:"config_entries/flow/subscribe"})},51106:function(e,t,i){i.d(t,{k:function(){return n}});const n=e=>e.callWS({type:"usb/scan"})},6291:function(e,t,i){i.d(t,{f:function(){return o}});i(39710),i(26847),i(81738),i(72489),i(1455),i(56389),i(27530);var n=i(73742),s=i(7616);const o=e=>{class t extends e{connectedCallback(){super.connectedCallback(),this._checkSubscribed()}disconnectedCallback(){if(super.disconnectedCallback(),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then(e=>e()):e()}this.__unsubs=void 0}}updated(e){if(super.updated(e),e.has("hass"))this._checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of e.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this._checkSubscribed()}hassSubscribe(){return[]}_checkSubscribed(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some(e=>void 0===this[e])||(this.__unsubs=this.hassSubscribe())}}return(0,n.__decorate)([(0,s.Cb)({attribute:!1})],t.prototype,"hass",void 0),t}},91403:function(e,t,i){i(26847),i(27530);var n=i(73742),s=i(59048),o=i(7616),r=i(35580);let a,c,d=e=>e;class l extends s.oi{render(){return(0,s.dy)(a||(a=d` <div class="icon"> <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer"> </div> <div class="title">${0}</div> `),(0,r.X1)({domain:this.domain,type:"icon",darkOptimized:this.darkOptimizedIcon}),this.title)}constructor(...e){super(...e),this.darkOptimizedIcon=!1,this.clickable=!1}}l.styles=(0,s.iv)(c||(c=d`:host{display:inline-flex;flex-direction:column;text-align:center;color:var(--primary-text-color)}img{max-width:100%;max-height:100%}.icon{position:relative;margin:0 auto 8px;height:40px;width:40px;display:flex;align-items:center;justify-content:center}.title{min-height:2.3em;word-break:break-word}`)),(0,n.__decorate)([(0,o.Cb)()],l.prototype,"domain",void 0),(0,n.__decorate)([(0,o.Cb)({attribute:!1})],l.prototype,"title",void 0),(0,n.__decorate)([(0,o.Cb)({attribute:"dark-optimized-icon",type:Boolean})],l.prototype,"darkOptimizedIcon",void 0),(0,n.__decorate)([(0,o.Cb)({attribute:!1,type:Boolean,reflect:!0})],l.prototype,"clickable",void 0),l=(0,n.__decorate)([(0,o.Mo)("integration-badge")],l)},16570:function(e,t,i){i.a(e,async function(e,n){try{i.r(t);i(26847),i(2394),i(18574),i(81738),i(94814),i(22960),i(6989),i(1455),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(27530);var s=i(73742),o=i(59048),r=i(7616),a=i(37528),c=i(39884),d=i(36221),l=i(72953),h=i(84075),u=i(20990),p=i(96222),f=i(51106),_=i(6291),g=(i(91403),i(77908)),b=e([l]);l=(b.then?(await b)():b)[0];let y,v,m,k,$,w=e=>e;const S=new Set(["backup","google_translate","hassio","met","radio_browser","rpi_power","shopping_list","sun"]);class x extends((0,_.f)(o.oi)){hassSubscribe(){return[(0,u.V3)(this.hass,e=>{e.forEach(e=>{"removed"===e.type||S.has(e.flow.handler)||this._discoveredDomains.add(e.flow.handler)}),this.hass.loadBackendTranslation("title",Array.from(this._discoveredDomains)),this._discoveredDomainsReceived=!0}),(0,h.DJ)(this.hass,e=>{let t=!1;const i=[],n=new Set;if(e.forEach(e=>{if(null===e.type||"added"===e.type){if(S.has(e.entry.domain))return;i.push(e.entry),n.add(e.entry.domain),null===e.type&&(t=!0)}else if("removed"===e.type)this._entries=this._entries.filter(t=>t.entry_id!==e.entry.entry_id);else if("updated"===e.type){if(S.has(e.entry.domain))return;const t=e.entry;this._entries=this._entries.map(e=>e.entry_id===t.entry_id?t:e)}}),!i.length&&!t)return;this.hass.loadBackendTranslation("title",Array.from(n));const s=t?[]:this._entries;this._entries=[...s,...i]},{type:["device","hub","service"]})]}render(){if(!this._discoveredDomainsReceived)return o.Ld;let e=new Set;this._entries.forEach(t=>{e.add(t.domain)}),e=new Set([...e,...this._discoveredDomains]);let t=[];for(const n of e.values())t.push([n,(0,p.Lh)(this.hass.localize,n)]);t=t.sort((e,t)=>(0,d.$K)(e[0],t[0],this.hass.locale.language));const i=t.length;return 0===i?(0,o.dy)(y||(y=w` <div class="all-set-icon">ðŸŽ‰</div> <h1> ${0} </h1> <p> ${0} </p> <div class="footer"> <ha-button @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.all_set"),this.onboardingLocalize("ui.panel.page-onboarding.integration.lets_start"),this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")):(t.length>12&&(t=t.slice(0,11)),(0,o.dy)(v||(v=w` <h1> ${0} </h1> <p> ${0} </p> <div class="badges"> ${0} ${0} </div> <div class="footer"> <ha-button @click="${0}"> ${0} </ha-button> </div> `),this.onboardingLocalize("ui.panel.page-onboarding.integration.header"),this.onboardingLocalize("ui.panel.page-onboarding.integration.intro"),t.map(([e,t])=>{var i;return(0,o.dy)(m||(m=w`<integration-badge .domain="${0}" .title="${0}" .darkOptimizedIcon="${0}"></integration-badge>`),e,t,null===(i=this.hass.themes)||void 0===i?void 0:i.darkMode)}),i>t.length?(0,o.dy)(k||(k=w`<div class="more"> ${0} </div>`),this.onboardingLocalize("ui.panel.page-onboarding.integration.more_integrations",{count:i-t.length})):o.Ld,this._finish,this.onboardingLocalize("ui.panel.page-onboarding.integration.finish")))}firstUpdated(e){super.firstUpdated(e),this.hass.loadBackendTranslation("title"),this._scanUSBDevices()}async _scanUSBDevices(){(0,a.p)(this.hass,"usb")&&await(0,f.k)(this.hass)}async _finish(){(0,c.B)(this,"onboarding-step",{type:"integration"})}static get styles(){return[g.I,(0,o.iv)($||($=w`.badges{margin-top:24px;display:grid;grid-template-columns:repeat(auto-fill,minmax(106px,1fr));row-gap:24px}.more{display:flex;justify-content:center;align-items:center;height:100%}.all-set-icon{font-size:64px;text-align:center}`))]}constructor(...e){super(...e),this._entries=[],this._discoveredDomains=new Set,this._discoveredDomainsReceived=!1}}(0,s.__decorate)([(0,r.Cb)({attribute:!1})],x.prototype,"hass",void 0),(0,s.__decorate)([(0,r.Cb)({attribute:!1})],x.prototype,"onboardingLocalize",void 0),(0,s.__decorate)([(0,r.SB)()],x.prototype,"_entries",void 0),(0,s.__decorate)([(0,r.SB)()],x.prototype,"_discoveredDomains",void 0),(0,s.__decorate)([(0,r.SB)()],x.prototype,"_discoveredDomainsReceived",void 0),x=(0,s.__decorate)([(0,r.Mo)("onboarding-integrations")],x),n()}catch(y){n(y)}})},35580:function(e,t,i){i.d(t,{X1:function(){return n},u4:function(){return s},zC:function(){return o}});i(44261);const n=e=>`https://brands.home-assistant.io/${e.brand?"brands/":""}${e.useFallback?"_/":""}${e.domain}/${e.darkOptimized?"dark_":""}${e.type}.png`,s=e=>e.split("/")[4],o=e=>e.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=86821.92b029acc225a9e6.js.map