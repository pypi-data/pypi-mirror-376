"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["78456"],{30669:function(e,t,a){a.a(e,async function(e,i){try{a.r(t),a.d(t,{ZHAAddGroupPage:function(){return u}});a(26847),a(81738),a(6989),a(70820),a(1455),a(27530);var s=a(73742),o=a(59048),d=a(7616),n=a(67050),h=a(72953),r=a(68986),c=(a(51869),a(3301),a(37492),a(98730),e([h]));h=(c.then?(await c)():c)[0];let p,l,g=e=>e;class u extends o.oi{connectedCallback(){super.connectedCallback(),this.hass&&this._firstUpdatedCalled&&this._fetchData()}firstUpdated(e){super.firstUpdated(e),this.hass&&this._fetchData(),this._firstUpdatedCalled=!0}render(){return(0,o.dy)(p||(p=g` <hass-subpage .hass="${0}" .narrow="${0}" .header="${0}"> <ha-config-section .isWide="${0}"> <p slot="introduction"> ${0} </p> <ha-textfield type="string" .value="${0}" @change="${0}" .placeholder="${0}"></ha-textfield> <ha-textfield type="number" .value="${0}" @change="${0}" .placeholder="${0}"></ha-textfield> <div class="header"> ${0} </div> <zha-device-endpoint-data-table .hass="${0}" .deviceEndpoints="${0}" .narrow="${0}" selectable @selection-changed="${0}"> </zha-device-endpoint-data-table> <div class="buttons"> <ha-button .disabled="${0}" @click="${0}" class="button" .loading="${0}"> ${0}</ha-button> </div> </ha-config-section> </hass-subpage> `),this.hass,this.narrow,this.hass.localize("ui.panel.config.zha.groups.create_group"),!this.narrow,this.hass.localize("ui.panel.config.zha.groups.create_group_details"),this._groupName,this._handleNameChange,this.hass.localize("ui.panel.config.zha.groups.group_name_placeholder"),this._groupId,this._handleGroupIdChange,this.hass.localize("ui.panel.config.zha.groups.group_id_placeholder"),this.hass.localize("ui.panel.config.zha.groups.add_members"),this.hass,this.deviceEndpoints,this.narrow,this._handleAddSelectionChanged,!this._groupName||""===this._groupName||this._processingAdd,this._createGroup,this._processingAdd,this.hass.localize("ui.panel.config.zha.groups.create"))}async _fetchData(){this.deviceEndpoints=await(0,r.pT)(this.hass)}_handleAddSelectionChanged(e){this._selectedDevicesToAdd=e.detail.value}async _createGroup(){this._processingAdd=!0;const e=this._selectedDevicesToAdd.map(e=>{const t=e.split("_");return{ieee:t[0],endpoint_id:t[1]}}),t=this._groupId?parseInt(this._groupId,10):void 0,a=await(0,r.Rp)(this.hass,this._groupName,t,e);this._selectedDevicesToAdd=[],this._processingAdd=!1,this._groupName="",this._zhaDevicesDataTable.clearSelection(),(0,n.c)(`/config/zha/group/${a.group_id}`,{replace:!0})}_handleGroupIdChange(e){this._groupId=e.target.value}_handleNameChange(e){this._groupName=e.target.value||""}static get styles(){return[(0,o.iv)(l||(l=g`.header{font-family:var(--ha-font-family-body);-webkit-font-smoothing:var(--ha-font-smoothing);-moz-osx-font-smoothing:var(--ha-moz-osx-font-smoothing);font-size:var(--ha-font-size-4xl);font-weight:var(--ha-font-weight-normal);line-height:var(--ha-line-height-condensed);opacity:var(--dark-primary-opacity)}.button{float:right}ha-config-section :last-child{padding-bottom:24px}.buttons{align-items:flex-end;padding:16px}.buttons .warning{--mdc-theme-primary:var(--error-color)}`))]}constructor(...e){super(...e),this.narrow=!1,this.deviceEndpoints=[],this._processingAdd=!1,this._groupName="",this._firstUpdatedCalled=!1,this._selectedDevicesToAdd=[]}}(0,s.__decorate)([(0,d.Cb)({attribute:!1})],u.prototype,"hass",void 0),(0,s.__decorate)([(0,d.Cb)({type:Boolean})],u.prototype,"narrow",void 0),(0,s.__decorate)([(0,d.Cb)({attribute:!1,type:Array})],u.prototype,"deviceEndpoints",void 0),(0,s.__decorate)([(0,d.SB)()],u.prototype,"_processingAdd",void 0),(0,s.__decorate)([(0,d.SB)()],u.prototype,"_groupName",void 0),(0,s.__decorate)([(0,d.SB)()],u.prototype,"_groupId",void 0),(0,s.__decorate)([(0,d.IO)("zha-device-endpoint-data-table",!0)],u.prototype,"_zhaDevicesDataTable",void 0),u=(0,s.__decorate)([(0,d.Mo)("zha-add-group-page")],u),i()}catch(p){i(p)}})}}]);
//# sourceMappingURL=78456.7bcc067c7461645d.js.map