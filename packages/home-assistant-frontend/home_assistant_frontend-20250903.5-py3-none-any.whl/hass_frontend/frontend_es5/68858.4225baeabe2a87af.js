"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["68858"],{2595:function(e,t,r){r.d(t,{h:function(){return a}});r(40777),r(26847),r(81738),r(22960),r(27530);var i=r(59048),n=r(79104);const a=(0,n.XM)(class extends n.Xe{update(e,[t,r]){return this._element&&this._element.localName===t?(r&&Object.entries(r).forEach(([e,t])=>{this._element[e]=t}),i.Jb):this.render(t,r)}render(e,t){return this._element=document.createElement(e),t&&Object.entries(t).forEach(([e,t])=>{this._element[e]=t}),this._element}constructor(e){if(super(e),e.type!==n.pX.CHILD)throw new Error("dynamicElementDirective can only be used in content bindings")}})},87979:function(e,t,r){r(26847),r(81738),r(22960),r(6989),r(87799),r(1455),r(27530);var i=r(73742),n=r(59048),a=r(7616),o=r(2595),s=r(39884);r(12942),r(52658);let l,d,c,u,h,b,m,p,_,v=e=>e;const f={boolean:()=>Promise.all([r.e("55540"),r.e("99979")]).then(r.bind(r,87925)),constant:()=>r.e("11303").then(r.bind(r,29815)),float:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("16157")]).then(r.bind(r,93358)),grid:()=>r.e("6858").then(r.bind(r,767)),expandable:()=>r.e("60203").then(r.bind(r,77691)),integer:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("55540"),r.e("21351"),r.e("75480"),r.e("460")]).then(r.bind(r,88375)),multi_select:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("98831"),r.e("99028"),r.e("55540"),r.e("79576"),r.e("54216"),r.e("3198")]).then(r.bind(r,90915)),positive_time_period_dict:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("837"),r.e("93437")]).then(r.bind(r,15542)),select:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("86689"),r.e("15601"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("55540"),r.e("20278"),r.e("42382"),r.e("21673"),r.e("1020"),r.e("44446")]).then(r.bind(r,97300)),string:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("76113")]).then(r.bind(r,73620)),optional_actions:()=>r.e("22341").then(r.bind(r,39804))},y=(e,t)=>e?!t.name||t.flatten?e:e[t.name]:null;class g extends n.oi{getFormProperties(){return{}}async focus(){await this.updateComplete;const e=this.renderRoot.querySelector(".root");if(e)for(const t of e.children)if("HA-ALERT"!==t.tagName){t instanceof n.fl&&await t.updateComplete,t.focus();break}}willUpdate(e){e.has("schema")&&this.schema&&this.schema.forEach(e=>{var t;"selector"in e||null===(t=f[e.type])||void 0===t||t.call(f)})}render(){return(0,n.dy)(l||(l=v` <div class="root" part="root"> ${0} ${0} </div> `),this.error&&this.error.base?(0,n.dy)(d||(d=v` <ha-alert alert-type="error"> ${0} </ha-alert> `),this._computeError(this.error.base,this.schema)):"",this.schema.map(e=>{var t;const r=((e,t)=>e&&t.name?e[t.name]:null)(this.error,e),i=((e,t)=>e&&t.name?e[t.name]:null)(this.warning,e);return(0,n.dy)(c||(c=v` ${0} ${0} `),r?(0,n.dy)(u||(u=v` <ha-alert own-margin alert-type="error"> ${0} </ha-alert> `),this._computeError(r,e)):i?(0,n.dy)(h||(h=v` <ha-alert own-margin alert-type="warning"> ${0} </ha-alert> `),this._computeWarning(i,e)):"","selector"in e?(0,n.dy)(b||(b=v`<ha-selector .schema="${0}" .hass="${0}" .narrow="${0}" .name="${0}" .selector="${0}" .value="${0}" .label="${0}" .disabled="${0}" .placeholder="${0}" .helper="${0}" .localizeValue="${0}" .required="${0}" .context="${0}"></ha-selector>`),e,this.hass,this.narrow,e.name,e.selector,y(this.data,e),this._computeLabel(e,this.data),e.disabled||this.disabled||!1,e.required?"":e.default,this._computeHelper(e),this.localizeValue,e.required||!1,this._generateContext(e)):(0,o.h)(this.fieldElementName(e.type),Object.assign({schema:e,data:y(this.data,e),label:this._computeLabel(e,this.data),helper:this._computeHelper(e),disabled:this.disabled||e.disabled||!1,hass:this.hass,localize:null===(t=this.hass)||void 0===t?void 0:t.localize,computeLabel:this.computeLabel,computeHelper:this.computeHelper,localizeValue:this.localizeValue,context:this._generateContext(e)},this.getFormProperties())))}))}fieldElementName(e){return`ha-form-${e}`}_generateContext(e){if(!e.context)return;const t={};for(const[r,i]of Object.entries(e.context))t[r]=this.data[i];return t}createRenderRoot(){const e=super.createRenderRoot();return this.addValueChangedListener(e),e}addValueChangedListener(e){e.addEventListener("value-changed",e=>{e.stopPropagation();const t=e.target.schema;if(e.target===this)return;const r=!t.name||"flatten"in t&&t.flatten?e.detail.value:{[t.name]:e.detail.value};this.data=Object.assign(Object.assign({},this.data),r),(0,s.B)(this,"value-changed",{value:this.data})})}_computeLabel(e,t){return this.computeLabel?this.computeLabel(e,t):e?e.name:""}_computeHelper(e){return this.computeHelper?this.computeHelper(e):""}_computeError(e,t){return Array.isArray(e)?(0,n.dy)(m||(m=v`<ul> ${0} </ul>`),e.map(e=>(0,n.dy)(p||(p=v`<li> ${0} </li>`),this.computeError?this.computeError(e,t):e))):this.computeError?this.computeError(e,t):e}_computeWarning(e,t){return this.computeWarning?this.computeWarning(e,t):e}constructor(...e){super(...e),this.narrow=!1,this.disabled=!1}}g.styles=(0,n.iv)(_||(_=v`.root>*{display:block}.root>:not([own-margin]):not(:last-child){margin-bottom:24px}ha-alert[own-margin]{margin-bottom:4px}`)),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,i.__decorate)([(0,a.Cb)({type:Boolean})],g.prototype,"narrow",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"data",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"schema",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"error",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"warning",void 0),(0,i.__decorate)([(0,a.Cb)({type:Boolean})],g.prototype,"disabled",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"computeError",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"computeWarning",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"computeLabel",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"computeHelper",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],g.prototype,"localizeValue",void 0),g=(0,i.__decorate)([(0,a.Mo)("ha-form")],g)},52658:function(e,t,r){r(26847),r(1455),r(64455),r(67886),r(65451),r(46015),r(38334),r(94880),r(75643),r(29761),r(6202),r(27530);var i=r(73742),n=r(59048),a=r(7616),o=r(28105),s=r(2595),l=r(37555);let d,c=e=>e;const u={action:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("86689"),r.e("15601"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("69676"),r.e("15634"),r.e("55540"),r.e("22092"),r.e("26452"),r.e("79576"),r.e("15139"),r.e("71353"),r.e("35582"),r.e("96"),r.e("22937"),r.e("32629"),r.e("39432"),r.e("2769"),r.e("9930"),r.e("19596"),r.e("21542"),r.e("96859"),r.e("33913"),r.e("88914"),r.e("43735"),r.e("23157"),r.e("71644"),r.e("88193"),r.e("30776")]).then(r.bind(r,19879)),addon:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("95002"),r.e("88553")]).then(r.bind(r,50430)),area:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("15634"),r.e("10783"),r.e("2769"),r.e("33790")]).then(r.bind(r,43004)),areas_display:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("16327"),r.e("5375"),r.e("84099"),r.e("61137")]).then(r.bind(r,64015)),attribute:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("20838"),r.e("17035")]).then(r.bind(r,171)),assist_pipeline:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("85525"),r.e("85985")]).then(r.bind(r,40006)),boolean:()=>Promise.all([r.e("50283"),r.e("98082")]).then(r.bind(r,69851)),color_rgb:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("49288")]).then(r.bind(r,94007)),condition:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("86689"),r.e("15601"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("69676"),r.e("15634"),r.e("26452"),r.e("79576"),r.e("15139"),r.e("71353"),r.e("35582"),r.e("96"),r.e("22937"),r.e("39432"),r.e("2769"),r.e("9930"),r.e("19596"),r.e("21542"),r.e("33913"),r.e("43735"),r.e("23157"),r.e("88193"),r.e("72182")]).then(r.bind(r,2477)),config_entry:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("99495"),r.e("39262")]).then(r.bind(r,16873)),conversation_agent:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("80753"),r.e("91959")]).then(r.bind(r,78002)),constant:()=>r.e("92006").then(r.bind(r,93957)),country:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("47350"),r.e("96659")]).then(r.bind(r,5979)),date:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("56326")]).then(r.bind(r,43106)),datetime:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("60627"),r.e("19010")]).then(r.bind(r,466)),device:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("15634"),r.e("94324"),r.e("2769"),r.e("87147")]).then(r.bind(r,49565)),duration:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("68991"),r.e("57332")]).then(r.bind(r,23307)),entity:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("15634"),r.e("26452"),r.e("12859"),r.e("39432"),r.e("2769"),r.e("19596"),r.e("21542"),r.e("88365")]).then(r.bind(r,60358)),statistic:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("15634"),r.e("49443"),r.e("39432"),r.e("2769"),r.e("29330"),r.e("91319")]).then(r.bind(r,96464)),file:()=>r.e("37621").then(r.bind(r,40984)),floor:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("15634"),r.e("58110"),r.e("2769"),r.e("48604")]).then(r.bind(r,66757)),label:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("15634"),r.e("839"),r.e("2769"),r.e("59905"),r.e("95222")]).then(r.bind(r,88342)),image:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("20278"),r.e("18244"),r.e("46666")]).then(r.bind(r,35526)),background:()=>r.e("9328").then(r.bind(r,30076)),language:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("21504"),r.e("52615")]).then(r.bind(r,6143)),navigation:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("39991"),r.e("75186"),r.e("75797")]).then(r.bind(r,39454)),number:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("21351"),r.e("47415")]).then(r.bind(r,45955)),object:()=>Promise.all([r.e("97103"),r.e("69676"),r.e("15139"),r.e("67359"),r.e("9930"),r.e("2177")]).then(r.bind(r,84538)),qr_code:()=>Promise.all([r.e("69676"),r.e("16892"),r.e("6219")]).then(r.bind(r,62450)),select:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("86689"),r.e("15601"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("55540"),r.e("20278"),r.e("42382"),r.e("1020"),r.e("82120")]).then(r.bind(r,20323)),selector:()=>r.e("88685").then(r.bind(r,81488)),state:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("28993"),r.e("39362")]).then(r.bind(r,92981)),backup_location:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("814"),r.e("145")]).then(r.bind(r,94063)),stt:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("85325"),r.e("46212")]).then(r.bind(r,44822)),target:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("98831"),r.e("15634"),r.e("22092"),r.e("26452"),r.e("72105"),r.e("70516"),r.e("39432"),r.e("2769"),r.e("19596"),r.e("21542"),r.e("35532"),r.e("68296")]).then(r.bind(r,84373)),template:()=>Promise.all([r.e("9930"),r.e("95653")]).then(r.bind(r,50802)),text:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("21133")]).then(r.bind(r,26326)),time:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("69210"),r.e("60627"),r.e("23325")]).then(r.bind(r,15346)),icon:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("68760"),r.e("39432"),r.e("51441")]).then(r.bind(r,8839)),media:()=>r.e("55220").then(r.bind(r,69039)),theme:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("21656"),r.e("71367")]).then(r.bind(r,60260)),button_toggle:()=>r.e("9797").then(r.bind(r,87440)),trigger:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("86689"),r.e("15601"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("69676"),r.e("15634"),r.e("55540"),r.e("26452"),r.e("79576"),r.e("15139"),r.e("71353"),r.e("35582"),r.e("96"),r.e("22937"),r.e("39432"),r.e("2769"),r.e("9930"),r.e("19596"),r.e("21542"),r.e("33913"),r.e("88914"),r.e("23157"),r.e("88193"),r.e("48496")]).then(r.bind(r,5214)),tts:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("411"),r.e("6842")]).then(r.bind(r,49229)),tts_voice:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("2261"),r.e("44315")]).then(r.bind(r,41590)),location:()=>Promise.all([r.e("69676"),r.e("12488"),r.e("51134"),r.e("39432"),r.e("75556"),r.e("99873"),r.e("27151")]).then(r.bind(r,60463)),color_temp:()=>Promise.all([r.e("97103"),r.e("57530"),r.e("21351"),r.e("96"),r.e("27195"),r.e("23157"),r.e("43826")]).then(r.bind(r,88043)),ui_action:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15486"),r.e("86689"),r.e("15601"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("69676"),r.e("15634"),r.e("55540"),r.e("22092"),r.e("15139"),r.e("39991"),r.e("60935"),r.e("39432"),r.e("2769"),r.e("9930"),r.e("96859"),r.e("96670"),r.e("40160")]).then(r.bind(r,73307)),ui_color:()=>Promise.all([r.e("2243"),r.e("15486"),r.e("86689"),r.e("98831"),r.e("99028"),r.e("46118"),r.e("77123"),r.e("93258")]).then(r.bind(r,69933)),ui_state_content:()=>Promise.all([r.e("73614"),r.e("2243"),r.e("97103"),r.e("15601"),r.e("29775"),r.e("73494")]).then(r.bind(r,86438))},h=new Set(["ui-action","ui-color"]);class b extends n.oi{async focus(){var e;await this.updateComplete,null===(e=this.renderRoot.querySelector("#selector"))||void 0===e||e.focus()}get _type(){const e=Object.keys(this.selector)[0];return h.has(e)?e.replace("-","_"):e}willUpdate(e){var t;e.has("selector")&&this.selector&&(null===(t=u[this._type])||void 0===t||t.call(u))}render(){return(0,n.dy)(d||(d=c` ${0} `),(0,s.h)(`ha-selector-${this._type}`,{hass:this.hass,narrow:this.narrow,name:this.name,selector:this._handleLegacySelector(this.selector),value:this.value,label:this.label,placeholder:this.placeholder,disabled:this.disabled,required:this.required,helper:this.helper,context:this.context,localizeValue:this.localizeValue,id:"selector"}))}constructor(...e){super(...e),this.narrow=!1,this.disabled=!1,this.required=!0,this._handleLegacySelector=(0,o.Z)(e=>{if("entity"in e)return(0,l.CM)(e);if("device"in e)return(0,l.c9)(e);const t=Object.keys(this.selector)[0];return h.has(t)?{[t.replace("-","_")]:e[t]}:e})}}(0,i.__decorate)([(0,a.Cb)({attribute:!1})],b.prototype,"hass",void 0),(0,i.__decorate)([(0,a.Cb)({type:Boolean})],b.prototype,"narrow",void 0),(0,i.__decorate)([(0,a.Cb)()],b.prototype,"name",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],b.prototype,"selector",void 0),(0,i.__decorate)([(0,a.Cb)()],b.prototype,"value",void 0),(0,i.__decorate)([(0,a.Cb)()],b.prototype,"label",void 0),(0,i.__decorate)([(0,a.Cb)()],b.prototype,"helper",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],b.prototype,"localizeValue",void 0),(0,i.__decorate)([(0,a.Cb)()],b.prototype,"placeholder",void 0),(0,i.__decorate)([(0,a.Cb)({type:Boolean})],b.prototype,"disabled",void 0),(0,i.__decorate)([(0,a.Cb)({type:Boolean})],b.prototype,"required",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],b.prototype,"context",void 0),b=(0,i.__decorate)([(0,a.Mo)("ha-selector")],b)},37555:function(e,t,r){r.d(t,{CM:function(){return g},QQ:function(){return v},aV:function(){return m},bq:function(){return C},c9:function(){return P},dh:function(){return E},lE:function(){return f},lV:function(){return y},o1:function(){return u},qJ:function(){return _},qR:function(){return h},vI:function(){return p},xO:function(){return b}});var i=r(47817),n=(r(81315),r(39710),r(26847),r(2394),r(78152),r(81738),r(94814),r(55770),r(22960),r(72489),r(87799),r(67886),r(65451),r(46015),r(38334),r(94880),r(75643),r(29761),r(56389),r(27530),r(45332)),a=r(6219),o=r(36590),s=r(19331),l=r(10500);const d=["domain","integration","device_class"],c=["integration","manufacturer","model"],u=(e,t,r,i,n,a,o)=>{const s=[],l=[],d=[];return Object.values(r).forEach(r=>{r.labels.includes(t)&&p(e,n,i,r.area_id,a,o)&&d.push(r.area_id)}),Object.values(i).forEach(r=>{r.labels.includes(t)&&_(e,Object.values(n),r,a,o)&&l.push(r.id)}),Object.values(n).forEach(r=>{r.labels.includes(t)&&v(e.states[r.entity_id],a,o)&&s.push(r.entity_id)}),{areas:d,devices:l,entities:s}},h=(e,t,r,i,n)=>{const a=[];return Object.values(r).forEach(r=>{r.floor_id===t&&p(e,e.entities,e.devices,r.area_id,i,n)&&a.push(r.area_id)}),{areas:a}},b=(e,t,r,i,n,a)=>{const o=[],s=[];return Object.values(r).forEach(r=>{r.area_id===t&&_(e,Object.values(i),r,n,a)&&s.push(r.id)}),Object.values(i).forEach(r=>{r.area_id===t&&v(e.states[r.entity_id],n,a)&&o.push(r.entity_id)}),{devices:s,entities:o}},m=(e,t,r,i,n)=>{const a=[];return Object.values(r).forEach(r=>{r.device_id===t&&v(e.states[r.entity_id],i,n)&&a.push(r.entity_id)}),{entities:a}},p=(e,t,r,i,n,a)=>!!Object.values(r).some(r=>!(r.area_id!==i||!_(e,Object.values(t),r,n,a)))||Object.values(t).some(t=>!(t.area_id!==i||!v(e.states[t.entity_id],n,a))),_=(e,t,r,i,a)=>{var o,s;const d=a?(0,l.HP)(a,t):void 0;if(null!==(o=i.target)&&void 0!==o&&o.device&&!(0,n.r)(i.target.device).some(e=>f(e,r,d)))return!1;if(null!==(s=i.target)&&void 0!==s&&s.entity){return t.filter(e=>e.device_id===r.id).some(t=>{const r=e.states[t.entity_id];return v(r,i,a)})}return!0},v=(e,t,r)=>{var i;return!!e&&(null===(i=t.target)||void 0===i||!i.entity||(0,n.r)(t.target.entity).some(t=>y(t,e,r)))},f=(e,t,r)=>{const{manufacturer:i,model:n,model_id:a,integration:o}=e;if(i&&t.manufacturer!==i)return!1;if(n&&t.model!==n)return!1;if(a&&t.model_id!==a)return!1;var s;if(o&&r&&(null==r||null===(s=r[t.id])||void 0===s||!s.has(o)))return!1;return!0},y=(e,t,r)=>{var i;const{domain:s,device_class:l,supported_features:d,integration:c}=e;if(s){const e=(0,a.N)(t);if(Array.isArray(s)?!s.includes(e):e!==s)return!1}if(l){const e=t.attributes.device_class;if(e&&Array.isArray(l)?!l.includes(e):e!==l)return!1}return!(d&&!(0,n.r)(d).some(e=>(0,o.e)(t,e)))&&(!c||(null==r||null===(i=r[t.entity_id])||void 0===i?void 0:i.domain)===c)},g=e=>{if(!e.entity)return{entity:null};if("filter"in e.entity)return e;const t=e.entity,{domain:r,integration:n,device_class:a}=t,o=(0,i.Z)(t,d);return r||n||a?{entity:Object.assign(Object.assign({},o),{},{filter:{domain:r,integration:n,device_class:a}})}:{entity:o}},P=e=>{if(!e.device)return{device:null};if("filter"in e.device)return e;const t=e.device,{integration:r,manufacturer:n,model:a}=t,o=(0,i.Z)(t,c);return r||n||a?{device:Object.assign(Object.assign({},o),{},{filter:{integration:r,manufacturer:n,model:a}})}:{device:o}},C=e=>{let t;var r;if("target"in e)t=(0,n.r)(null===(r=e.target)||void 0===r?void 0:r.entity);else if("entity"in e){var i,a;if(null!==(i=e.entity)&&void 0!==i&&i.include_entities)return;t=(0,n.r)(null===(a=e.entity)||void 0===a?void 0:a.filter)}if(!t)return;const o=t.flatMap(e=>e.integration||e.device_class||e.supported_features||!e.domain?[]:(0,n.r)(e.domain).filter(e=>(0,s.X)(e)));return[...new Set(o)]},E=(e,t,r,i,a)=>{if(!t)return[];const o={target:{}},s=new Set((0,n.r)(t.entity_id)),l=new Set((0,n.r)(t.device_id)),d=new Set((0,n.r)(t.area_id)),c=new Set((0,n.r)(t.floor_id));return new Set((0,n.r)(t.label_id)).forEach(t=>{const n=u(e,t,a,i,r,o);n.devices.forEach(e=>l.add(e)),n.entities.forEach(e=>s.add(e)),n.areas.forEach(e=>d.add(e))}),c.forEach(t=>{h(e,t,a,o).areas.forEach(e=>d.add(e))}),d.forEach(t=>{const n=b(e,t,i,r,o);n.devices.forEach(e=>l.add(e)),n.entities.forEach(e=>s.add(e))}),l.forEach(t=>{m(e,t,r,o).entities.forEach(e=>s.add(e))}),Array.from(s)}}}]);
//# sourceMappingURL=68858.4225baeabe2a87af.js.map