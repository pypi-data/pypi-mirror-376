"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["88645"],{37814:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HuiConditionalElementEditor:function(){return p}});i(26847),i(87799),i(27530);var s=i(73742),o=i(59048),a=i(7616),c=i(95632),h=i(39884),l=(i(87979),i(98955)),d=i(58646),g=i(52558),r=e([l,d,g]);[l,d,g]=r.then?(await r)():r;let f,_,m=e=>e;const u=(0,c.Ry)({type:(0,c.i0)("conditional"),conditions:(0,c.jt)((0,c.IX)((0,c.Yj)())),elements:(0,c.jt)((0,c.IX)((0,c.Yj)())),title:(0,c.jt)((0,c.Z_)())}),b=[{name:"title",selector:{text:{}}}];class p extends o.oi{setConfig(e){(0,c.hu)(e,u),this._config=e}render(){return this.hass&&this._config?this._subElementEditorConfig?(0,o.dy)(f||(f=m` <hui-sub-element-editor .hass="${0}" .config="${0}" @go-back="${0}" @config-changed="${0}"> </hui-sub-element-editor> `),this.hass,this._subElementEditorConfig,this._goBack,this._handleSubElementChanged):(0,o.dy)(_||(_=m` <ha-form .hass="${0}" .data="${0}" .schema="${0}" .computeLabel="${0}" @value-changed="${0}"></ha-form> <ha-card-conditions-editor .hass="${0}" .conditions="${0}" @value-changed="${0}"> </ha-card-conditions-editor> <hui-picture-elements-card-row-editor .hass="${0}" .elements="${0}" @elements-changed="${0}" @edit-detail-element="${0}"></hui-picture-elements-card-row-editor> `),this.hass,this._config,b,this._computeLabelCallback,this._formChanged,this.hass,this._config.conditions||[],this._conditionChanged,this.hass,this._config.elements||[],this._elementsChanged,this._editDetailElement):o.Ld}_formChanged(e){(0,h.B)(this,"config-changed",{config:e.detail.value})}_conditionChanged(e){if(e.stopPropagation(),!this._config)return;const t=e.detail.value;this._config=Object.assign(Object.assign({},this._config),{},{conditions:t}),(0,h.B)(this,"config-changed",{config:this._config})}_elementsChanged(e){var t,i;e.stopPropagation();const n=(null===(t=this._config)||void 0===t||null===(t=t.elements)||void 0===t?void 0:t.length)||0,s=Object.assign(Object.assign({},this._config),{},{elements:e.detail.elements});(0,h.B)(this,"config-changed",{config:s});const o=(null===(i=e.detail.elements)||void 0===i?void 0:i.length)||0;if(o===n+1){const t=o-1;this._subElementEditorConfig={index:t,type:"element",elementConfig:Object.assign({},e.detail.elements[t])}}}_handleSubElementChanged(e){var t;if(e.stopPropagation(),!this._config||!this.hass)return;const i=null===(t=this._subElementEditorConfig)||void 0===t?void 0:t.type,n=e.detail.config;if("element"===i){const e=this._config.elements.concat();n?e[this._subElementEditorConfig.index]=n:(e.splice(this._subElementEditorConfig.index,1),this._goBack()),this._config=Object.assign(Object.assign({},this._config),{},{elements:e})}this._subElementEditorConfig=Object.assign(Object.assign({},this._subElementEditorConfig),{},{elementConfig:n}),(0,h.B)(this,"config-changed",{config:this._config})}_editDetailElement(e){this._subElementEditorConfig=e.detail.subElementConfig}_goBack(e){null==e||e.stopPropagation(),this._subElementEditorConfig=void 0}constructor(...e){super(...e),this._computeLabelCallback=e=>this.hass.localize(`ui.panel.lovelace.editor.card.generic.${e.name}`)||this.hass.localize(`ui.panel.lovelace.editor.elements.${e.name}`)||e.name}}(0,s.__decorate)([(0,a.Cb)({attribute:!1})],p.prototype,"hass",void 0),(0,s.__decorate)([(0,a.SB)()],p.prototype,"_config",void 0),(0,s.__decorate)([(0,a.SB)()],p.prototype,"_subElementEditorConfig",void 0),p=(0,s.__decorate)([(0,a.Mo)("hui-conditional-element-editor")],p),n()}catch(f){n(f)}})}}]);
//# sourceMappingURL=88645.ccabed1286fcd0ce.js.map