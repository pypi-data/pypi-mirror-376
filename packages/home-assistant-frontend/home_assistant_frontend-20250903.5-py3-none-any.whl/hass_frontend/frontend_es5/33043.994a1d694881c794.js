/*! For license information please see 33043.994a1d694881c794.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["33043"],{64961:function(e,s,t){t.a(e,async function(e,n){try{t.r(s),t.d(s,{EnergySetupWizard:function(){return M}});t(26847),t(1455),t(27530);var i=t(73742),r=t(59048),a=t(7616),h=t(39884),o=t(6640),c=t(72242),p=t(95814),l=t(99622),d=t(11714),f=t(43349),u=t(74119),_=t(4338),g=t(94968),y=t(72953),v=e([l,d,f,u,_,g,y,o]);[l,d,f,u,_,g,y,o]=v.then?(await v)():v;let $,b,k,w,x,C,m,z,D,S,Y,A,B=e=>e;class M extends r.oi{getCardSize(){return 10}setConfig(e){e.preferences&&(this._preferences=e.preferences)}firstUpdated(){this.hass.loadFragmentTranslation("config"),this._fetchconfig()}render(){return(0,r.dy)($||($=B` <p> ${0} </p> ${0} <div class="buttons"> ${0} ${0} </div> `),this.hass.localize("ui.panel.energy.setup.step",{step:this._step+1,steps:6}),0===this._step?(0,r.dy)(b||(b=B`<ha-energy-grid-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-grid-settings>`),this.hass,this._preferences,this._prefsChanged):1===this._step?(0,r.dy)(k||(k=B`<ha-energy-solar-settings .hass="${0}" .preferences="${0}" .info="${0}" @value-changed="${0}"></ha-energy-solar-settings>`),this.hass,this._preferences,this._info,this._prefsChanged):2===this._step?(0,r.dy)(w||(w=B`<ha-energy-battery-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-battery-settings>`),this.hass,this._preferences,this._prefsChanged):3===this._step?(0,r.dy)(x||(x=B`<ha-energy-gas-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-gas-settings>`),this.hass,this._preferences,this._prefsChanged):4===this._step?(0,r.dy)(C||(C=B`<ha-energy-water-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-water-settings>`),this.hass,this._preferences,this._prefsChanged):(0,r.dy)(m||(m=B`<ha-energy-device-settings .hass="${0}" .preferences="${0}" @value-changed="${0}"></ha-energy-device-settings>`),this.hass,this._preferences,this._prefsChanged),this._step>0?(0,r.dy)(z||(z=B`<ha-button appearance="plain" @click="${0}">${0}</ha-button>`),this._back,this.hass.localize("ui.panel.energy.setup.back")):(0,r.dy)(D||(D=B`<div></div>`)),this._step<4?(0,r.dy)(S||(S=B`<ha-button @click="${0}">${0}</ha-button>`),this._next,this.hass.localize("ui.panel.energy.setup.next")):(0,r.dy)(Y||(Y=B`<ha-button @click="${0}"> ${0} </ha-button>`),this._setupDone,this.hass.localize("ui.panel.energy.setup.done")))}async _fetchconfig(){this._info=await(0,o.xZ)(this.hass)}_prefsChanged(e){this._preferences=e.detail.value}_back(){0!==this._step&&this._step--}_next(){5!==this._step&&this._step++}async _setupDone(){if(this._preferences)if(0!==this._preferences.device_consumption.length||0!==this._preferences.energy_sources.length){try{this._preferences=await(0,o._Z)(this.hass,this._preferences)}catch(e){(0,c.showAlertDialog)(this,{title:`Failed to save config: ${e.message}`})}(0,h.B)(this,"reload-energy-panel")}else(0,c.showAlertDialog)(this,{title:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_title"),text:this.hass.localize("ui.panel.energy.setup.no_statistics_selected_description")})}static get styles(){return[p.Qx,(0,r.iv)(A||(A=B`:host{display:block;padding:16px;max-width:700px;margin:0 auto}ha-button{margin-top:8px}.buttons{display:flex;justify-content:space-between}`))]}constructor(...e){super(...e),this._step=0,this._preferences={energy_sources:[],device_consumption:[]}}}(0,i.__decorate)([(0,a.Cb)({attribute:!1})],M.prototype,"hass",void 0),(0,i.__decorate)([(0,a.Cb)({attribute:!1})],M.prototype,"lovelace",void 0),(0,i.__decorate)([(0,a.SB)()],M.prototype,"_info",void 0),(0,i.__decorate)([(0,a.SB)()],M.prototype,"_step",void 0),(0,i.__decorate)([(0,a.SB)()],M.prototype,"_preferences",void 0),M=(0,i.__decorate)([(0,a.Mo)("energy-setup-wizard-card")],M),n()}catch($){n($)}})},88245:function(e,s,t){t.d(s,{r:function(){return h}});t(40777),t(26847),t(27530);var n=t(35340),i=t(83522),r=t(5277);const a=(e,s,t)=>{const n=new Map;for(let i=s;i<=t;i++)n.set(e[i],i);return n},h=(0,i.XM)(class extends i.Xe{dt(e,s,t){let n;void 0===t?t=s:void 0!==s&&(n=s);const i=[],r=[];let a=0;for(const h of e)i[a]=n?n(h,a):a,r[a]=t(h,a),a++;return{values:r,keys:i}}render(e,s,t){return this.dt(e,s,t).values}update(e,[s,t,i]){var h;const o=(0,r.i9)(e),{values:c,keys:p}=this.dt(s,t,i);if(!Array.isArray(o))return this.ut=p,c;const l=null!==(h=this.ut)&&void 0!==h?h:this.ut=[],d=[];let f,u,_=0,g=o.length-1,y=0,v=c.length-1;for(;_<=g&&y<=v;)if(null===o[_])_++;else if(null===o[g])g--;else if(l[_]===p[y])d[y]=(0,r.fk)(o[_],c[y]),_++,y++;else if(l[g]===p[v])d[v]=(0,r.fk)(o[g],c[v]),g--,v--;else if(l[_]===p[v])d[v]=(0,r.fk)(o[_],c[v]),(0,r._Y)(e,d[v+1],o[_]),_++,v--;else if(l[g]===p[y])d[y]=(0,r.fk)(o[g],c[y]),(0,r._Y)(e,o[_],o[g]),g--,y++;else if(void 0===f&&(f=a(p,y,v),u=a(l,_,g)),f.has(l[_]))if(f.has(l[g])){const s=u.get(p[y]),t=void 0!==s?o[s]:null;if(null===t){const s=(0,r._Y)(e,o[_]);(0,r.fk)(s,c[y]),d[y]=s}else d[y]=(0,r.fk)(t,c[y]),(0,r._Y)(e,o[_],t),o[s]=null;y++}else(0,r.ws)(o[g]),g--;else(0,r.ws)(o[_]),_++;for(;y<=v;){const s=(0,r._Y)(e,d[v+1]);(0,r.fk)(s,c[y]),d[y++]=s}for(;_<=g;){const e=o[_++];null!==e&&(0,r.ws)(e)}return this.ut=p,(0,r.hl)(e,d),n.Jb}constructor(e){if(super(e),e.type!==i.pX.CHILD)throw Error("repeat() can only be used in text expressions")}})}}]);
//# sourceMappingURL=33043.994a1d694881c794.js.map