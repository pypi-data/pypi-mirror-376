"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["19176"],{10005:function(t,i,e){e.a(t,async function(t,a){try{e.r(i),e.d(i,{HuiHomeSummaryCard:function(){return k}});e(26847),e(81738),e(94814),e(6989),e(15519),e(27530);var o=e(73742),n=e(59048),r=e(7616),s=e(31733),c=e(25191),l=e(36180),d=e(34394),h=e(44272),u=e(68626),m=e(28598),_=(e(31138),e(46358),e(82601),e(97985),e(484),e(12089)),g=e(76815),f=e(88887),y=e(37807),v=e(29746),p=t([_,m]);[_,m]=p.then?(await p)():p;let b,x,w=t=>t;const $={lights:"amber",climate:"deep-orange",security:"blue-grey",media_players:"blue"};class k extends n.oi{setConfig(t){this._config=t}getCardSize(){var t;return null!==(t=this._config)&&void 0!==t&&t.vertical?2:1}getGridOptions(){var t;let i=6,e=1;return null!==(t=this._config)&&void 0!==t&&t.vertical&&(e++,i=3),{columns:6,rows:e,min_columns:i,min_rows:e}}_handleAction(t){(0,f.G)(this,this.hass,this._config,t.detail.action)}get _hasCardAction(){var t,i,e;return(0,y._)(null===(t=this._config)||void 0===t?void 0:t.tap_action)||(0,y._)(null===(i=this._config)||void 0===i?void 0:i.hold_action)||(0,y._)(null===(e=this._config)||void 0===e?void 0:e.double_tap_action)}_computeSummaryState(){if(!this._config||!this.hass)return"";const t=Object.keys(this.hass.states),i=Object.values(this.hass.areas),e=(0,u.$)(this.hass,{area:i.map(t=>t.area_id)}),a=t.filter(e);switch(this._config.summary){case"lights":{const t=v.x8.lights.map(t=>(0,u.$)(this.hass,t)),i=(0,v.jL)(a,t).filter(t=>{var i;return"on"===(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)});return i.length?this.hass.localize("ui.card.home-summary.count_lights_on",{count:i.length}):this.hass.localize("ui.card.home-summary.all_lights_off")}case"climate":{var o,n;const t=i.map(t=>t.temperature_entity_id).filter(Boolean).map(t=>{var i;return parseFloat(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)||NaN}).filter(t=>!isNaN(t));if(0===t.length)return"";const e=Math.min(...t),a=Math.max(...t);if(isNaN(e)||isNaN(a))return"";const r=(0,m.uf)(e,null===(o=this.hass)||void 0===o?void 0:o.locale,{minimumFractionDigits:1,maximumFractionDigits:1}),s=(0,m.uf)(a,null===(n=this.hass)||void 0===n?void 0:n.locale,{minimumFractionDigits:1,maximumFractionDigits:1});return r===s?`${r}°`:`${r} - ${s}°`}case"security":{const t=v.x8.security.map(t=>(0,u.$)(this.hass,t)),i=(0,v.jL)(a,t),e=i.filter(t=>"lock"===(0,h.M)(t)),o=i.filter(t=>"alarm_control_panel"===(0,h.M)(t)),n=o.filter(t=>{var i;return"disarmed"===(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)});if(!e.length&&!o.length)return"";const r=e.filter(t=>{var i;const e=null===(i=this.hass.states[t])||void 0===i?void 0:i.state;return"unlocked"===e||"jammed"===e||"open"===e});return r.length?this.hass.localize("ui.card.home-summary.count_locks_unlocked",{count:r.length}):n.length?this.hass.localize("ui.card.home-summary.count_alarms_disarmed",{count:n.length}):this.hass.localize("ui.card.home-summary.all_secure")}case"media_players":{const t=v.x8.media_players.map(t=>(0,u.$)(this.hass,t)),i=(0,v.jL)(a,t).filter(t=>{var i;return"playing"===(null===(i=this.hass.states[t])||void 0===i?void 0:i.state)});return i.length?this.hass.localize("ui.card.home-summary.count_media_playing",{count:i.length}):this.hass.localize("ui.card.home-summary.no_media_playing")}}return""}render(){if(!this._config||!this.hass)return n.Ld;const t={vertical:Boolean(this._config.vertical)},i={"--tile-color":(0,d.I)($[this._config.summary])},e=this._computeSummaryState(),a=(0,v.KX)(this.hass.localize,this._config.summary),o=v.Q8[this._config.summary];return(0,n.dy)(b||(b=w` <ha-card style="${0}"> <div class="background" @action="${0}" .actionHandler="${0}" role="${0}" tabindex="${0}" aria-labelledby="info"> <ha-ripple .disabled="${0}"></ha-ripple> </div> <div class="container"> <div class="content ${0}"> <ha-tile-icon> <ha-icon slot="icon" .icon="${0}"></ha-icon> </ha-tile-icon> <ha-tile-info id="info" .primary="${0}" .secondary="${0}"></ha-tile-info> </div> </div> </ha-card> `),(0,l.V)(i),this._handleAction,(0,g.K)({hasHold:(0,y._)(this._config.hold_action),hasDoubleClick:(0,y._)(this._config.double_tap_action)}),(0,c.o)(this._hasCardAction?"button":void 0),(0,c.o)(this._hasCardAction?"0":void 0),!this._hasCardAction,(0,s.$)(t),o,a,e)}}k.styles=(0,n.iv)(x||(x=w`:host{--tile-color:var(--state-inactive-color);-webkit-tap-highlight-color:transparent}ha-card:has(.background:focus-visible){--shadow-default:var(--ha-card-box-shadow, 0 0 0 0 transparent);--shadow-focus:0 0 0 1px var(--tile-color);border-color:var(--tile-color);box-shadow:var(--shadow-default),var(--shadow-focus)}ha-card{--ha-ripple-color:var(--tile-color);--ha-ripple-hover-opacity:0.04;--ha-ripple-pressed-opacity:0.12;height:100%;transition:box-shadow 180ms ease-in-out,border-color 180ms ease-in-out;display:flex;flex-direction:column;justify-content:space-between}ha-card.active{--tile-color:var(--state-icon-color)}[role=button]{cursor:pointer;pointer-events:auto}[role=button]:focus{outline:0}.background{position:absolute;top:0;left:0;bottom:0;right:0;border-radius:var(--ha-card-border-radius,12px);margin:calc(-1 * var(--ha-card-border-width,1px));overflow:hidden}.container{margin:calc(-1 * var(--ha-card-border-width,1px));display:flex;flex-direction:column;flex:1}.container.horizontal{flex-direction:row}.content{position:relative;display:flex;flex-direction:row;align-items:center;padding:10px;flex:1;min-width:0;box-sizing:border-box;pointer-events:none;gap:10px}.vertical{flex-direction:column;text-align:center;justify-content:center}.vertical ha-tile-info{width:100%;flex:none}ha-tile-icon{--tile-icon-color:var(--tile-color);position:relative;padding:6px;margin:-6px}ha-tile-info{position:relative;min-width:0;transition:background-color 180ms ease-in-out;box-sizing:border-box}`)),(0,o.__decorate)([(0,r.Cb)({attribute:!1})],k.prototype,"hass",void 0),(0,o.__decorate)([(0,r.SB)()],k.prototype,"_config",void 0),k=(0,o.__decorate)([(0,r.Mo)("hui-home-summary-card")],k),a()}catch(b){a(b)}})},29746:function(t,i,e){e.d(i,{KX:function(){return s},Q8:function(){return o},jL:function(){return r},lv:function(){return a},x8:function(){return n}});e(26847),e(2394),e(67886),e(65451),e(46015),e(38334),e(94880),e(75643),e(29761),e(27530);const a=["lights","climate","security","media_players"],o={lights:"mdi:lamps",climate:"mdi:home-thermometer",security:"mdi:security",media_players:"mdi:multimedia"},n={lights:[{domain:"light",entity_category:"none"}],climate:[{domain:"climate",entity_category:"none"},{domain:"humidifier",entity_category:"none"},{domain:"fan",entity_category:"none"},{domain:"water_heater",entity_category:"none"},{domain:"cover",device_class:["awning","blind","curtain","shade","shutter","window","none"],entity_category:"none"},{domain:"binary_sensor",device_class:["window"],entity_category:"none"}],security:[{domain:"camera",entity_category:"none"},{domain:"alarm_control_panel",entity_category:"none"},{domain:"lock",entity_category:"none"},{domain:"cover",device_class:["door","garage","gate"],entity_category:"none"},{domain:"binary_sensor",device_class:["door","garage_door","motion"],entity_category:"none"}],media_players:[{domain:"media_player",entity_category:"none"}]},r=(t,i)=>{const e=new Set,a=[];for(const o of i)for(const i of t)o(i)&&!e.has(i)&&(e.add(i),a.push(i));return a},s=(t,i)=>t(`ui.panel.lovelace.strategy.home.summary_list.${i}`)}}]);
//# sourceMappingURL=19176.40ec96cb75993ec0.js.map