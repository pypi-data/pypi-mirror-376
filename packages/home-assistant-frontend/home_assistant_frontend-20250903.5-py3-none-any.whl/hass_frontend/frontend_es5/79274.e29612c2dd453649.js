"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["79274"],{7214:function(t,a,e){e.d(a,{Cj:function(){return u},F7:function(){return s},Hs:function(){return C},Kd:function(){return w},Kj:function(){return y},Nw:function(){return g},PA:function(){return c},Py:function(){return _},Qm:function(){return K},Z0:function(){return p},_Y:function(){return i},_m:function(){return r},dL:function(){return n},dO:function(){return k},hN:function(){return m},h_:function(){return h},j2:function(){return v},q6:function(){return b},uR:function(){return o},yf:function(){return d}});e(39710),e(26847),e(81738),e(72489),e(56389),e(27530);var l=e(15459),s=function(t){return t[t.NONE=0]="NONE",t[t.ARITHMETIC=1]="ARITHMETIC",t[t.CIRCULAR=2]="CIRCULAR",t}({});const c=99387==e.j?["entity_not_recorded","entity_no_longer_recorded","state_class_removed","units_changed","mean_type_changed","no_state"]:null,d=["L","gal","ft³","m³","CCF"],r=t=>t.sendMessagePromise({type:"recorder/info"}),o=(t,a)=>t.callWS({type:"recorder/list_statistic_ids",statistic_type:a}),_=(t,a)=>t.callWS({type:"recorder/get_statistics_metadata",statistic_ids:a}),n=(t,a,e,l,s="hour",c,d)=>t.callWS({type:"recorder/statistics_during_period",start_time:a.toISOString(),end_time:null==e?void 0:e.toISOString(),statistic_ids:l,period:s,units:c,types:d}),i=(t,a,e,l)=>t.callWS({type:"recorder/statistic_during_period",statistic_id:a,units:l,fixed_period:e.fixed_period?{start_time:e.fixed_period.start instanceof Date?e.fixed_period.start.toISOString():e.fixed_period.start,end_time:e.fixed_period.end instanceof Date?e.fixed_period.end.toISOString():e.fixed_period.end}:void 0,calendar:e.calendar,rolling_window:e.rolling_window}),h=t=>t.callWS({type:"recorder/validate_statistics"}),u=(t,a,e)=>t.callWS({type:"recorder/update_statistics_metadata",statistic_id:a,unit_of_measurement:e}),m=(t,a)=>t.callWS({type:"recorder/clear_statistics",statistic_ids:a}),y=t=>{let a=null;if(!t)return null;for(const e of t)null!==e.change&&void 0!==e.change&&(null===a?a=e.change:a+=e.change);return a},b=(t,a)=>{let e=null;for(const l of a){if(!(l in t))continue;const a=y(t[l]);null!==a&&(null===e?e=a:e+=a)}return e},g=(t,a)=>t.some(t=>void 0!==t[a]&&null!==t[a]),f=["mean","min","max"],$=["sum","state","change"],p=(t,a)=>!(!f.includes(a)||0===t.mean_type)||!(!$.includes(a)||!t.has_sum),v=(t,a,e,l,s)=>{const c=new Date(e).toISOString();return t.callWS({type:"recorder/adjust_sum_statistics",statistic_id:a,start_time:c,adjustment:l,adjustment_unit_of_measurement:s})},w=(t,a,e)=>{const s=t.states[a];return s?(0,l.C)(s):(null==e?void 0:e.name)||a},k=(t,a,e)=>{let l;var s;a&&(l=null===(s=t.states[a])||void 0===s?void 0:s.attributes.unit_of_measurement);return void 0===l?null==e?void 0:e.statistics_unit_of_measurement:l},C=t=>t.includes(":"),K=t=>t.callWS({type:"recorder/update_statistics_issues"})},94412:function(t,a,e){e.d(a,{H:function(){return c}});e(20655);var l=e(45657),s=e(66169);function c(t,a,e,c,d,r){const o=t.getPropertyValue(d+"-"+r).trim(),_=o.length>0?o:t.getPropertyValue(d).trim();let n=(0,l.Rq)(_);return 0===o.length&&r&&(n=(0,l.CO)((0,l.p3)(a?(0,s.C)((0,l.Rw)((0,l.wK)(n)),r):(0,s.W)((0,l.Rw)((0,l.wK)(n)),r)))),c?n+=e?"32":"7F":e&&(n+="7F"),n}},49859:function(t,a,e){e.a(t,async function(t,l){try{e.r(a),e.d(a,{HuiEnergySourcesTableCard:function(){return kt}});e(26847),e(81738),e(6989),e(72489),e(27530);var s=e(73742),c=e(23985),d=e(59048),r=e(7616),o=e(31733),_=e(36180),n=e(28598),i=e(94412),h=(e(31138),e(6640)),u=e(7214),m=e(6291),y=e(93647),b=e(39884),g=t([h,n]);[h,n]=g.then?(await g)():g;let f,$,p,v,w,k,C,K,M,j,H,S,W,x,I,z,R,O,V,N,E,P,T,U,A,B,L,F,q,D,J,Q,Y,Z,G,X,tt,at,et,lt,st,ct,dt,rt,ot,_t,nt,it,ht,ut,mt,yt,bt,gt,ft,$t,pt,vt=t=>t;const wt={grid_return:"--energy-grid-return-color",grid_consumption:"--energy-grid-consumption-color",battery_in:"--energy-battery-in-color",battery_out:"--energy-battery-out-color",solar:"--energy-solar-color",gas:"--energy-gas-color",water:"--energy-water-color"};class kt extends((0,m.f)(d.oi)){hassSubscribe(){var t;return[(0,h.UB)(this.hass,{key:null===(t=this._config)||void 0===t?void 0:t.collection_key}).subscribe(t=>{this._data=t})]}getCardSize(){return 3}setConfig(t){this._config=t}shouldUpdate(t){return(0,y.SN)(this,t)||t.size>1||!t.has("hass")}render(){var t,a,e,l,s,c,r,m,y,b,g;if(!this.hass||!this._config)return d.Ld;if(!this._data)return(0,d.dy)(f||(f=vt`${0}`),this.hass.localize("ui.panel.lovelace.cards.energy.loading"));let pt=0,kt=0,Ct=0,Kt=0,Mt=0,jt=0,Ht=0,St=0,Wt=!1,xt=!1,It=!1,zt=0,Rt=0,Ot=0,Vt=0,Nt=0,Et=0,Pt=0,Tt=0;const Ut=(0,h.Jj)(this._data.prefs),At=getComputedStyle(this),Bt=(null===(t=Ut.grid)||void 0===t?void 0:t[0].flow_from.some(t=>t.stat_cost||t.entity_energy_price||t.number_energy_price))||(null===(a=Ut.grid)||void 0===a?void 0:a[0].flow_to.some(t=>t.stat_compensation||t.entity_energy_price||t.number_energy_price))||(null===(e=Ut.gas)||void 0===e?void 0:e.some(t=>t.stat_cost||t.entity_energy_price||t.number_energy_price))||(null===(l=Ut.water)||void 0===l?void 0:l.some(t=>t.stat_cost||t.entity_energy_price||t.number_energy_price)),Lt=this._data.gasUnit,Ft=this._data.waterUnit,qt=void 0!==this._data.statsCompare;return(0,d.dy)($||($=vt` <ha-card> ${0} <div class="mdc-data-table"> <div class="mdc-data-table__table-container"> <table class="mdc-data-table__table" aria-label="Energy sources"> <thead> <tr class="mdc-data-table__header-row"> <th class="mdc-data-table__header-cell"></th> <th class="mdc-data-table__header-cell" role="columnheader" scope="col"> ${0} </th> ${0} <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th> ${0} </tr> </thead> <tbody class="mdc-data-table__content"> ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} ${0} </tbody> </table> </div> </div> </ha-card>`),this._config.title?(0,d.dy)(p||(p=vt`<h1 class="card-header">${0}</h1>`),this._config.title):"",this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.source"),qt?(0,d.dy)(v||(v=vt`<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th> ${0}`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.previous_energy"),Bt?(0,d.dy)(w||(w=vt`<th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.previous_cost")):""):"",this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.energy"),Bt?(0,d.dy)(k||(k=vt` <th class="mdc-data-table__header-cell mdc-data-table__header-cell--numeric" role="columnheader" scope="col"> ${0} </th>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.cost")):"",null===(s=Ut.solar)||void 0===s?void 0:s.map((t,a)=>{var e;const l=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;Ct+=l;const s=qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;return Ot+=s,(0,d.dy)(C||(C=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.solar,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.solar,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),qt?(0,d.dy)(K||(K=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(s,this.hass.locale),Bt?(0,d.dy)(M||(M=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,n.uf)(l,this.hass.locale),Bt?(0,d.dy)(j||(j=vt`<td class="mdc-data-table__cell"></td>`)):"")}),Ut.solar?(0,d.dy)(H||(H=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.solar_total"),qt?(0,d.dy)(S||(S=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(Ot,this.hass.locale),Bt?(0,d.dy)(W||(W=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,n.uf)(Ct,this.hass.locale),Bt?(0,d.dy)(x||(x=vt`<td class="mdc-data-table__cell"></td>`)):""):"",null===(c=Ut.battery)||void 0===c?void 0:c.map((t,a)=>{var e,l;const s=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0,c=(0,u.Kj)(this._data.stats[t.stat_energy_to])||0;Kt+=s-c;const r=qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0,h=qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_to])||0;return Vt+=r-h,(0,d.dy)(I||(I=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr> <tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.battery_out,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.battery_out,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),qt?(0,d.dy)(z||(z=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(r,this.hass.locale),Bt?(0,d.dy)(R||(R=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,n.uf)(s,this.hass.locale),Bt?(0,d.dy)(O||(O=vt`<td class="mdc-data-table__cell"></td>`)):"",(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_to)}),this._handleMoreInfo,t.stat_energy_to,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.battery_in,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.battery_in,a)}),(0,u.Kd)(this.hass,t.stat_energy_to,null===(l=this._data)||void 0===l?void 0:l.statsMetadata[t.stat_energy_to]),qt?(0,d.dy)(V||(V=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(-1*h,this.hass.locale),Bt?(0,d.dy)(N||(N=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,n.uf)(-1*c,this.hass.locale),Bt?(0,d.dy)(E||(E=vt`<td class="mdc-data-table__cell"></td>`)):"")}),Ut.battery?(0,d.dy)(P||(P=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.battery_total"),qt?(0,d.dy)(T||(T=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(Vt,this.hass.locale),Bt?(0,d.dy)(U||(U=vt`<td class="mdc-data-table__cell"></td>`)):""):"",(0,n.uf)(Kt,this.hass.locale),Bt?(0,d.dy)(A||(A=vt`<td class="mdc-data-table__cell"></td>`)):""):"",null===(r=Ut.grid)||void 0===r?void 0:r.map(t=>(0,d.dy)(B||(B=vt`${0} ${0}`),t.flow_from.map((t,a)=>{var e;const l=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;pt+=l;const s=qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;zt+=s;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],r=c?(0,u.Kj)(this._data.stats[c])||0:null;null!==r&&(Wt=!0,kt+=r);const h=qt&&c?(0,u.Kj)(this._data.statsCompare[c])||0:null;return null!==h&&(Rt+=h),(0,d.dy)(L||(L=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.grid_consumption,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.grid_consumption,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),qt?(0,d.dy)(F||(F=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(s,this.hass.locale),Bt?(0,d.dy)(q||(q=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,n.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(l,this.hass.locale),Bt?(0,d.dy)(D||(D=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==r?(0,n.uf)(r,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")}),t.flow_to.map((t,a)=>{var e;const l=-1*((0,u.Kj)(this._data.stats[t.stat_energy_to])||0);pt+=l;const s=t.stat_compensation||this._data.info.cost_sensors[t.stat_energy_to],c=s?-1*((0,u.Kj)(this._data.stats[s])||0):null;null!==c&&(Wt=!0,kt+=c);const r=-1*(qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_to])||0);zt+=r;const h=qt&&s?-1*((0,u.Kj)(this._data.statsCompare[s])||0):null;return null!==h&&(Rt+=h),(0,d.dy)(J||(J=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_to)}),this._handleMoreInfo,t.stat_energy_to,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.grid_return,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.grid_return,a)}),(0,u.Kd)(this.hass,t.stat_energy_to,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_to]),qt?(0,d.dy)(Q||(Q=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(r,this.hass.locale),Bt?(0,d.dy)(Y||(Y=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,n.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(l,this.hass.locale),Bt?(0,d.dy)(Z||(Z=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==c?(0,n.uf)(c,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")}))),Ut.grid&&(null!==(m=Ut.grid)&&void 0!==m&&null!==(m=m[0].flow_from)&&void 0!==m&&m.length||null!==(y=Ut.grid)&&void 0!==y&&null!==(y=y[0].flow_to)&&void 0!==y&&y.length)?(0,d.dy)(G||(G=vt` <tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.grid_total"),qt?(0,d.dy)(X||(X=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} kWh </td> ${0}`),(0,n.uf)(zt,this.hass.locale),Bt?(0,d.dy)(tt||(tt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),Wt?(0,n.uf)(Rt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(pt,this.hass.locale),Bt?(0,d.dy)(at||(at=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),Wt?(0,n.uf)(kt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",null===(b=Ut.gas)||void 0===b?void 0:b.map((t,a)=>{var e;const l=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;Mt+=l;const s=qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;Nt+=s;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],r=c?(0,u.Kj)(this._data.stats[c])||0:null;null!==r&&(xt=!0,jt+=r);const h=qt&&c?(0,u.Kj)(this._data.statsCompare[c])||0:null;return null!==h&&(Et+=h),(0,d.dy)(et||(et=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.gas,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.gas,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),qt?(0,d.dy)(lt||(lt=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,n.uf)(s,this.hass.locale),Lt,Bt?(0,d.dy)(st||(st=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,n.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(l,this.hass.locale),Lt,Bt?(0,d.dy)(ct||(ct=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==r?(0,n.uf)(r,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")}),Ut.gas?(0,d.dy)(dt||(dt=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.gas_total"),qt?(0,d.dy)(rt||(rt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,n.uf)(Nt,this.hass.locale),Lt,Bt?(0,d.dy)(ot||(ot=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),xt?(0,n.uf)(Et,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(Mt,this.hass.locale),Lt,Bt?(0,d.dy)(_t||(_t=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),xt?(0,n.uf)(jt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",null===(g=Ut.water)||void 0===g?void 0:g.map((t,a)=>{var e;const l=(0,u.Kj)(this._data.stats[t.stat_energy_from])||0;Ht+=l;const s=qt&&(0,u.Kj)(this._data.statsCompare[t.stat_energy_from])||0;Pt+=s;const c=t.stat_cost||this._data.info.cost_sensors[t.stat_energy_from],r=c?(0,u.Kj)(this._data.stats[c])||0:null;null!==r&&(It=!0,St+=r);const h=qt&&c?(0,u.Kj)(this._data.statsCompare[c])||0:null;return null!==h&&(Tt+=h),(0,d.dy)(nt||(nt=vt`<tr class="mdc-data-table__row ${0}" @click="${0}" .entity="${0}"> <td class="mdc-data-table__cell cell-bullet"> <div class="bullet" style="${0}"></div> </td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),(0,o.$)({clickable:!(0,u.Hs)(t.stat_energy_from)}),this._handleMoreInfo,t.stat_energy_from,(0,_.V)({borderColor:(0,i.H)(At,this.hass.themes.darkMode,!1,!1,wt.water,a),backgroundColor:(0,i.H)(At,this.hass.themes.darkMode,!0,!1,wt.water,a)}),(0,u.Kd)(this.hass,t.stat_energy_from,null===(e=this._data)||void 0===e?void 0:e.statsMetadata[t.stat_energy_from]),qt?(0,d.dy)(it||(it=vt` <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,n.uf)(s,this.hass.locale),Ft,Bt?(0,d.dy)(ht||(ht=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==h?(0,n.uf)(h,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(l,this.hass.locale),Ft,Bt?(0,d.dy)(ut||(ut=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),null!==r?(0,n.uf)(r,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):"")}),Ut.water?(0,d.dy)(mt||(mt=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0} </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.water_total"),qt?(0,d.dy)(yt||(yt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} ${0} </td> ${0}`),(0,n.uf)(Pt,this.hass.locale),Ft,Bt?(0,d.dy)(bt||(bt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),It?(0,n.uf)(Tt,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",(0,n.uf)(Ht,this.hass.locale),Ft,Bt?(0,d.dy)(gt||(gt=vt`<td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),It?(0,n.uf)(St,this.hass.locale,{style:"currency",currency:this.hass.config.currency}):""):""):"",[xt,It,Wt].filter(Boolean).length>1?(0,d.dy)(ft||(ft=vt`<tr class="mdc-data-table__row total"> <td class="mdc-data-table__cell"></td> <th class="mdc-data-table__cell" scope="row"> ${0} </th> ${0} <td class="mdc-data-table__cell"></td> <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td> </tr>`),this.hass.localize("ui.panel.lovelace.cards.energy.energy_sources_table.total_costs"),qt?(0,d.dy)($t||($t=vt`<td class="mdc-data-table__cell"></td> <td class="mdc-data-table__cell mdc-data-table__cell--numeric"> ${0} </td>`),(0,n.uf)(Et+Rt+Tt,this.hass.locale,{style:"currency",currency:this.hass.config.currency})):"",(0,n.uf)(jt+kt+St,this.hass.locale,{style:"currency",currency:this.hass.config.currency})):"")}_handleMoreInfo(t){var a;const e=null===(a=t.currentTarget)||void 0===a?void 0:a.entity;e&&!(0,u.Hs)(e)&&(0,b.B)(this,"hass-more-info",{entityId:e})}static get styles(){return(0,d.iv)(pt||(pt=vt`${0} .mdc-data-table{width:100%;border:0}.mdc-data-table__cell,.mdc-data-table__header-cell{color:var(--primary-text-color);border-bottom-color:var(--divider-color);text-align:var(--float-start)}.mdc-data-table__row:not(.mdc-data-table__row--selected):hover{background-color:rgba(var(--rgb-primary-text-color),.04)}.clickable{cursor:pointer}.total{--mdc-typography-body2-font-weight:var(--ha-font-weight-medium)}.total .mdc-data-table__cell{border-top:1px solid var(--divider-color)}ha-card{height:100%;overflow:hidden}.card-header{padding-bottom:0}.content{padding:16px}.has-header{padding-top:0}.cell-bullet{width:32px;padding-right:0;padding-inline-end:0;padding-inline-start:16px;direction:var(--direction)}.bullet{border-width:1px;border-style:solid;border-radius:4px;height:16px;width:32px}.mdc-data-table__cell--numeric{direction:ltr}`),(0,d.$m)(c))}constructor(...t){super(...t),this.hassSubscribeRequiredHostProps=["_config"]}}(0,s.__decorate)([(0,r.Cb)({attribute:!1})],kt.prototype,"hass",void 0),(0,s.__decorate)([(0,r.SB)()],kt.prototype,"_config",void 0),(0,s.__decorate)([(0,r.SB)()],kt.prototype,"_data",void 0),kt=(0,s.__decorate)([(0,r.Mo)("hui-energy-sources-table-card")],kt),l()}catch(f){l(f)}})}}]);
//# sourceMappingURL=79274.e29612c2dd453649.js.map