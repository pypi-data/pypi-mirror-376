"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["60915"],{2110:function(t,e,i){i.d(e,{Z:function(){return a}});const n=t=>t<10?`0${t}`:t;function a(t){const e=Math.floor(t/3600),i=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return e>0?`${e}:${n(i)}:${n(a)}`:i>0?`${i}:${n(a)}`:a>0?""+a:null}},17684:function(t,e,i){i.d(e,{aT:function(){return a},rv:function(){return u},mZ:function(){return s},mK:function(){return c},eF:function(){return r},WH:function(){return o}});i(87799),i(81738),i(6989);var n=i(2110);const a=t=>t.callWS({type:"timer/list"}),r=(t,e)=>t.callWS(Object.assign({type:"timer/create"},e)),s=(t,e,i)=>t.callWS(Object.assign({type:"timer/update",timer_id:e},i)),o=(t,e)=>t.callWS({type:"timer/delete",timer_id:e}),c=t=>{if(!t.attributes.remaining)return;let e=function(t){const e=t.split(":").map(Number);return 3600*e[0]+60*e[1]+e[2]}(t.attributes.remaining);if("active"===t.state){const i=(new Date).getTime(),n=new Date(t.attributes.finishes_at).getTime();e=Math.max((n-i)/1e3,0)}return e},u=(t,e,i)=>{if(!e)return null;if("idle"===e.state||0===i)return t.formatEntityState(e);let a=(0,n.Z)(i||0)||"0";return"paused"===e.state&&(a=`${a} (${t.formatEntityState(e)})`),a}},60502:function(t,e,i){i.a(t,async function(t,n){try{i.r(e);i(40777);var a=i(73742),r=i(59048),s=i(7616),o=(i(6595),i(93647)),c=i(75948),u=i(99389),h=t([c]);c=(h.then?(await h)():h)[0];let l,d,m=t=>t;class f extends r.oi{setConfig(t){if(!t)throw new Error("Invalid configuration");this._config=t}render(){if(!this._config||!this.hass)return r.Ld;const t=this.hass.states[this._config.entity];return t?(0,r.dy)(d||(d=m` <hui-generic-entity-row .hass="${0}" .config="${0}"> <div class="text-content"> <ha-timer-remaining-time .hass="${0}" .stateObj="${0}"></ha-timer-remaining-time> </div> </hui-generic-entity-row> `),this.hass,this._config,this.hass,t):(0,r.dy)(l||(l=m` <hui-warning .hass="${0}"> ${0} </hui-warning> `),this.hass,(0,u.i)(this.hass,this._config.entity))}shouldUpdate(t){return(0,o.G2)(this,t)}}(0,a.__decorate)([(0,s.Cb)({attribute:!1})],f.prototype,"hass",void 0),(0,a.__decorate)([(0,s.SB)()],f.prototype,"_config",void 0),f=(0,a.__decorate)([(0,s.Mo)("hui-timer-entity-row")],f),n()}catch(l){n(l)}})},6595:function(t,e,i){i.r(e);var n=i(73742),a=i(59048),r=i(7616),s=i(17684);class o extends a.fl{createRenderRoot(){return this}update(t){var e;super.update(t),this.innerHTML=null!==(e=(0,s.rv)(this.hass,this.stateObj,this.timeRemaining))&&void 0!==e?e:"-"}connectedCallback(){super.connectedCallback(),this.stateObj&&this._startInterval(this.stateObj)}disconnectedCallback(){super.disconnectedCallback(),this._clearInterval()}willUpdate(t){super.willUpdate(t),t.has("stateObj")&&this._startInterval(this.stateObj)}_clearInterval(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=null)}_startInterval(t){this._clearInterval(),this._calculateRemaining(t),"active"===t.state&&(this._updateRemaining=setInterval(()=>this._calculateRemaining(this.stateObj),1e3))}_calculateRemaining(t){this.timeRemaining=(0,s.mK)(t)}}(0,n.__decorate)([(0,r.Cb)({attribute:!1})],o.prototype,"hass",void 0),(0,n.__decorate)([(0,r.Cb)({attribute:!1})],o.prototype,"stateObj",void 0),(0,n.__decorate)([(0,r.SB)()],o.prototype,"timeRemaining",void 0),o=(0,n.__decorate)([(0,r.Mo)("ha-timer-remaining-time")],o)}}]);
//# sourceMappingURL=60915.26ad3d02ff9edbb8.js.map