/*! For license information please see 52276.43c43f841852b73e.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["52276"],{80471:function(e,t,i){var n=i(73742),a=i(33856),r=i(24584),o=i(7616),s=i(59048),d=i(83054);let l,c,f,p=e=>e;class u extends a._{firstUpdated(e){super.firstUpdated(e),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}u.styles=[r.W,(0,s.iv)(l||(l=p`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`)),"rtl"===d.E.document.dir?(0,s.iv)(c||(c=p`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`)):(0,s.iv)(f||(f=p``))],u=(0,n.__decorate)([(0,o.Mo)("ha-fab")],u)},37492:function(e,t,i){i.d(t,{f:function(){return h}});i(26847),i(27530);var n=i(73742),a=i(94068),r=i(16880),o=i(59048),s=i(7616),d=i(83054);let l,c,f,p,u=e=>e;class h extends a.P{updated(e){super.updated(e),(e.has("invalid")||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||this.validationMessage||"Invalid":""),(this.invalid||this.validateOnInitialRender||e.has("invalid")&&void 0!==e.get("invalid"))&&this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(!1===this.autocorrect?this.formElement.setAttribute("autocorrect","off"):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}renderIcon(e,t=!1){const i=t?"trailing":"leading";return(0,o.dy)(l||(l=u` <span class="mdc-text-field__icon mdc-text-field__icon--${0}" tabindex="${0}"> <slot name="${0}Icon"></slot> </span> `),i,t?1:-1,i)}constructor(...e){super(...e),this.icon=!1,this.iconTrailing=!1,this.autocorrect=!0}}h.styles=[r.W,(0,o.iv)(c||(c=u`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:ltr}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){max-width:calc(100% - 16px)}.mdc-floating-label--float-above{max-width:calc((100% - 16px)/ .75);transition:none}input{text-align:var(--text-field-text-align,start)}input[type=color]{height:20px}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=color]::-webkit-color-swatch-wrapper{padding:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{padding-inline-end:16px;padding-inline-start:initial;inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start);box-sizing:border-box;text-overflow:ellipsis}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px);padding-inline-end:var(--text-field-prefix-padding-right,2px);padding-inline-start:initial}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}#helper-text ha-markdown{display:inline-block}`)),"rtl"===d.E.document.dir?(0,o.iv)(f||(f=u`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl;--direction:rtl}`)):(0,o.iv)(p||(p=u``))],(0,n.__decorate)([(0,s.Cb)({type:Boolean})],h.prototype,"invalid",void 0),(0,n.__decorate)([(0,s.Cb)({attribute:"error-message"})],h.prototype,"errorMessage",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean})],h.prototype,"icon",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean})],h.prototype,"iconTrailing",void 0),(0,n.__decorate)([(0,s.Cb)()],h.prototype,"autocomplete",void 0),(0,n.__decorate)([(0,s.Cb)({type:Boolean})],h.prototype,"autocorrect",void 0),(0,n.__decorate)([(0,s.Cb)({attribute:"input-spellcheck"})],h.prototype,"inputSpellcheck",void 0),(0,n.__decorate)([(0,s.IO)("input")],h.prototype,"formElement",void 0),h=(0,n.__decorate)([(0,s.Mo)("ha-textfield")],h)},20282:function(e,t,i){i.d(t,{Qc:function(){return l},Xr:function(){return d},zJ:function(){return s}});i(39710),i(26847),i(81738),i(22960),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(27530);const n=["zone","persistent_notification"],a=(e,t)=>{var i,n,a,r,o,s,d,l;if(!("call-service"===t.action&&(null!==(i=t.target)&&void 0!==i&&i.entity_id||null!==(n=t.service_data)&&void 0!==n&&n.entity_id||null!==(a=t.data)&&void 0!==a&&a.entity_id)))return;let c=null!==(r=null!==(o=null===(s=t.service_data)||void 0===s?void 0:s.entity_id)&&void 0!==o?o:null===(d=t.data)||void 0===d?void 0:d.entity_id)&&void 0!==r?r:null===(l=t.target)||void 0===l?void 0:l.entity_id;Array.isArray(c)||(c=[c]);for(const f of c)e.add(f)},r=(e,t)=>{t&&("string"!=typeof t?(t.entity&&e.add(t.entity),t.camera_image&&e.add(t.camera_image),t.tap_action&&a(e,t.tap_action),t.hold_action&&a(e,t.hold_action)):e.add(t))},o=(e,t)=>{t.entity&&r(e,t.entity),t.entities&&Array.isArray(t.entities)&&t.entities.forEach(t=>r(e,t)),t.card&&o(e,t.card),t.cards&&Array.isArray(t.cards)&&t.cards.forEach(t=>o(e,t)),t.elements&&Array.isArray(t.elements)&&t.elements.forEach(t=>o(e,t)),t.badges&&Array.isArray(t.badges)&&t.badges.forEach(t=>r(e,t)),t.sections&&Array.isArray(t.sections)&&t.sections.forEach(t=>o(e,t))},s=e=>{const t=new Set;return e.views.forEach(e=>{o(t,e)}),t},d=(e,t)=>{const i=new Set;for(const a of Object.keys(e.states))t.has(a)||n.includes(a.split(".",1)[0])||i.add(a);return i},l=(e,t)=>{const i=s(t);return d(e,i)}},46987:function(e,t,i){i.d(t,{f:function(){return r}});i(26847),i(1455),i(27530);var n=i(39884);const a=()=>Promise.all([i.e("46118"),i.e("69676"),i.e("55540"),i.e("15139"),i.e("57530"),i.e("21351"),i.e("82663"),i.e("49910"),i.e("75778"),i.e("9930"),i.e("68858"),i.e("87267"),i.e("27195"),i.e("58325"),i.e("70970"),i.e("8515"),i.e("45271"),i.e("27415"),i.e("67260"),i.e("1502"),i.e("12836"),i.e("60293")]).then(i.bind(i,85734)),r=(e,t)=>{(0,n.B)(e,"show-dialog",{dialogTag:"hui-dialog-suggest-card",dialogImport:a,dialogParams:t})}},89125:function(e,t,i){i.d(t,{i:function(){return a}});i(26847),i(1455),i(27530);var n=i(39884);const a=(e,t)=>{(0,n.B)(e,"show-dialog",{dialogTag:"hui-dialog-select-view",dialogImport:()=>Promise.all([i.e("75696"),i.e("86689"),i.e("46118"),i.e("20278"),i.e("41198")]).then(i.bind(i,22980)),dialogParams:t})}},44656:function(e,t,i){i.a(e,async function(e,n){try{i.r(t),i.d(t,{HuiUnusedEntities:function(){return y}});i(26847),i(18574),i(27530);var a=i(73742),r=i(59048),o=i(7616),s=i(31733),d=(i(80471),i(993),i(20282)),l=i(73804),c=i(7299),f=i(46987),p=i(89125),u=e([c]);c=(u.then?(await u)():u)[0];let h,g,v,m,x=e=>e;const b="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z";class y extends r.oi{get _config(){return this.lovelace.config}updated(e){super.updated(e),e.has("lovelace")&&this._getUnusedEntities()}render(){return this.hass&&this.lovelace?"storage"===this.lovelace.mode&&!1===this.lovelace.editMode?r.Ld:(0,r.dy)(h||(h=x` <div class="container"> ${0} <hui-entity-picker-table .hass="${0}" .narrow="${0}" .entities="${0}" @selected-changed="${0}"></hui-entity-picker-table> </div> <div class="fab ${0}"> <ha-fab .label="${0}" extended @click="${0}"> <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-fab> </div> `),this.narrow?"":(0,r.dy)(g||(g=x` <ha-card header="${0}"> <div class="card-content"> ${0} ${0} </div> </ha-card> `),this.hass.localize("ui.panel.lovelace.unused_entities.title"),this.hass.localize("ui.panel.lovelace.unused_entities.available_entities"),"storage"===this.lovelace.mode?(0,r.dy)(v||(v=x` <br>${0} `),this.hass.localize("ui.panel.lovelace.unused_entities.select_to_add")):""),this.hass,this.narrow,this._unusedEntities,this._handleSelectedChanged,(0,s.$)({selected:this._selectedEntities.length}),this.hass.localize("ui.panel.lovelace.editor.edit_card.add"),this._addToLovelaceView,b):r.Ld}_getUnusedEntities(){if(!this.hass||!this.lovelace)return;this._selectedEntities=[];const e=(0,d.Qc)(this.hass,this._config);this._unusedEntities=[...e].sort()}_handleSelectedChanged(e){this._selectedEntities=e.detail.selectedEntities}_addToLovelaceView(){const e=(0,l.VG)(this.hass.states,this._selectedEntities,{}),t=(0,l.lY)(this._selectedEntities,{});1!==this.lovelace.config.views.length?(0,p.i)(this,{lovelaceConfig:this.lovelace.config,allowDashboardChange:!1,viewSelectedCallback:(i,n,a)=>{(0,f.f)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[a],entities:this._selectedEntities,cardConfig:e,sectionConfig:t})}}):(0,f.f)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[0],entities:this._selectedEntities,cardConfig:e,sectionConfig:t})}constructor(...e){super(...e),this.narrow=!1,this._unusedEntities=[],this._selectedEntities=[]}}y.styles=(0,r.iv)(m||(m=x`:host{overflow:hidden}.container{display:flex;flex-direction:column;height:100%}ha-card{--ha-card-box-shadow:none;--ha-card-border-radius:0}hui-entity-picker-table{flex-grow:1}.fab{position:sticky;float:var(--float-end);right:calc(16px + var(--safe-area-inset-right));bottom:calc(16px + var(--safe-area-inset-bottom));inset-inline-end:calc(16px + var(--safe-area-inset-right));inset-inline-start:initial;z-index:1}ha-fab{position:relative;bottom:calc(-80px - var(--safe-area-inset-bottom));transition:bottom .3s}.fab.selected ha-fab{bottom:0}`)),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],y.prototype,"lovelace",void 0),(0,a.__decorate)([(0,o.Cb)({attribute:!1})],y.prototype,"hass",void 0),(0,a.__decorate)([(0,o.Cb)({type:Boolean})],y.prototype,"narrow",void 0),(0,a.__decorate)([(0,o.SB)()],y.prototype,"_unusedEntities",void 0),(0,a.__decorate)([(0,o.SB)()],y.prototype,"_selectedEntities",void 0),y=(0,a.__decorate)([(0,o.Mo)("hui-unused-entities")],y),n()}catch(h){n(h)}})},86190:function(e,t,i){i.d(t,{Ud:function(){return p}});i(84730),i(40777),i(26847),i(44438),i(13715),i(81738),i(6989),i(93190),i(87799),i(1455),i(65640),i(28660),i(64455),i(32192),i(56303),i(52530),i(27530);const n=Symbol("Comlink.proxy"),a=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),d=e=>"object"==typeof e&&null!==e||"function"==typeof e,l=new Map([["proxy",{canHandle:e=>d(e)&&e[n],serialize(e){const{port1:t,port2:i}=new MessageChannel;return c(e,t),[i,[i]]},deserialize(e){return e.start(),p(e)}}],["throw",{canHandle:e=>d(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function c(e,t=globalThis,i=["*"]){t.addEventListener("message",function a(r){if(!r||!r.data)return;if(!function(e,t){for(const i of e){if(t===i||"*"===i)return!0;if(i instanceof RegExp&&i.test(t))return!0}return!1}(i,r.origin))return void console.warn(`Invalid origin '${r.origin}' for comlink proxy`);const{id:d,type:l,path:p}=Object.assign({path:[]},r.data),u=(r.data.argumentList||[]).map(_);let h;try{const t=p.slice(0,-1).reduce((e,t)=>e[t],e),i=p.reduce((e,t)=>e[t],e);switch(l){case"GET":h=i;break;case"SET":t[p.slice(-1)[0]]=_(r.data.value),h=!0;break;case"APPLY":h=i.apply(t,u);break;case"CONSTRUCT":h=function(e){return Object.assign(e,{[n]:!0})}(new i(...u));break;case"ENDPOINT":{const{port1:t,port2:i}=new MessageChannel;c(e,i),h=function(e,t){return b.set(e,t),e}(t,[t])}break;case"RELEASE":h=void 0;break;default:return}}catch(g){h={value:g,[s]:0}}Promise.resolve(h).catch(e=>({value:e,[s]:0})).then(i=>{const[n,r]=y(i);t.postMessage(Object.assign(Object.assign({},n),{id:d}),r),"RELEASE"===l&&(t.removeEventListener("message",a),f(t),o in e&&"function"==typeof e[o]&&e[o]())}).catch(e=>{const[i,n]=y({value:new TypeError("Unserializable return value"),[s]:0});t.postMessage(Object.assign(Object.assign({},i),{id:d}),n)})}),t.start&&t.start()}function f(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function p(e,t){const i=new Map;return e.addEventListener("message",function(e){const{data:t}=e;if(!t||!t.id)return;const n=i.get(t.id);if(n)try{n(t)}finally{i.delete(t.id)}}),m(e,i,[],t)}function u(e){if(e)throw new Error("Proxy has been released and is not useable")}function h(e){return w(e,new Map,{type:"RELEASE"}).then(()=>{f(e)})}const g=new WeakMap,v="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(g.get(e)||0)-1;g.set(e,t),0===t&&h(e)});function m(e,t,i=[],n=function(){}){let o=!1;const s=new Proxy(n,{get(n,a){if(u(o),a===r)return()=>{!function(e){v&&v.unregister(e)}(s),h(e),t.clear(),o=!0};if("then"===a){if(0===i.length)return{then:()=>s};const n=w(e,t,{type:"GET",path:i.map(e=>e.toString())}).then(_);return n.then.bind(n)}return m(e,t,[...i,a])},set(n,a,r){u(o);const[s,d]=y(r);return w(e,t,{type:"SET",path:[...i,a].map(e=>e.toString()),value:s},d).then(_)},apply(n,r,s){u(o);const d=i[i.length-1];if(d===a)return w(e,t,{type:"ENDPOINT"}).then(_);if("bind"===d)return m(e,t,i.slice(0,-1));const[l,c]=x(s);return w(e,t,{type:"APPLY",path:i.map(e=>e.toString()),argumentList:l},c).then(_)},construct(n,a){u(o);const[r,s]=x(a);return w(e,t,{type:"CONSTRUCT",path:i.map(e=>e.toString()),argumentList:r},s).then(_)}});return function(e,t){const i=(g.get(t)||0)+1;g.set(t,i),v&&v.register(e,t,e)}(s,e),s}function x(e){const t=e.map(y);return[t.map(e=>e[0]),(i=t.map(e=>e[1]),Array.prototype.concat.apply([],i))];var i}const b=new WeakMap;function y(e){for(const[t,i]of l)if(i.canHandle(e)){const[n,a]=i.serialize(e);return[{type:"HANDLER",name:t,value:n},a]}return[{type:"RAW",value:e},b.get(e)||[]]}function _(e){switch(e.type){case"HANDLER":return l.get(e.name).deserialize(e.value);case"RAW":return e.value}}function w(e,t,i,n){return new Promise(a=>{const r=new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-");t.set(r,a),e.start&&e.start(),e.postMessage(Object.assign({id:r},i),n)})}}}]);
//# sourceMappingURL=52276.43c43f841852b73e.js.map