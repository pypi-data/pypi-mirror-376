"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["8439"],{68135:function(t,e,i){i.a(t,async function(t,o){try{i.d(e,{G:function(){return c}});var a=i(62229),n=i(28105),s=i(43890),r=t([a,s]);[a,s]=r.then?(await r)():r;const l=(0,n.Z)(t=>new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})),c=(t,e,i,o=!0)=>{const a=(0,s.W)(t,i,e);return o?l(e).format(a.value,a.unit):Intl.NumberFormat(e.language,{style:"unit",unit:a.unit,unitDisplay:"long"}).format(Math.abs(a.value))};o()}catch(l){o(l)}})},43890:function(t,e,i){i.a(t,async function(t,o){try{i.d(e,{W:function(){return u}});i(87799);var a=i(7722),n=i(66233),s=i(58104),r=i(34302),l=t([r]);r=(l.then?(await l)():l)[0];const d=1e3,h=60,p=60*h;function u(t,e=Date.now(),i,o={}){const l=Object.assign(Object.assign({},g),o||{}),c=(+t-+e)/d;if(Math.abs(c)<l.second)return{value:Math.round(c),unit:"second"};const u=c/h;if(Math.abs(u)<l.minute)return{value:Math.round(u),unit:"minute"};const f=c/p;if(Math.abs(f)<l.hour)return{value:Math.round(f),unit:"hour"};const m=new Date(t),_=new Date(e);m.setHours(0,0,0,0),_.setHours(0,0,0,0);const v=(0,a.j)(m,_);if(0===v)return{value:Math.round(f),unit:"hour"};if(Math.abs(v)<l.day)return{value:v,unit:"day"};const y=(0,r.Bt)(i),b=(0,n.z)(m,{weekStartsOn:y}),x=(0,n.z)(_,{weekStartsOn:y}),w=(0,s.p)(b,x);if(0===w)return{value:v,unit:"day"};if(Math.abs(w)<l.week)return{value:w,unit:"week"};const $=m.getFullYear()-_.getFullYear(),C=12*$+m.getMonth()-_.getMonth();return 0===C?{value:w,unit:"week"}:Math.abs(C)<l.month||0===$?{value:C,unit:"month"}:{value:Math.round($),unit:"year"}}const g={second:45,minute:45,hour:22,day:5,week:4,month:11};o()}catch(c){o(c)}})},41037:function(t,e,i){i(26847),i(81738),i(22960),i(27530);var o=i(73742),a=i(59048),n=i(7616),s=i(83054);i(12066),i(39765);let r,l,c=t=>t;class d extends a.oi{get items(){var t;return null===(t=this._menu)||void 0===t?void 0:t.items}get selected(){var t;return null===(t=this._menu)||void 0===t?void 0:t.selected}focus(){var t,e;null!==(t=this._menu)&&void 0!==t&&t.open?this._menu.focusItemAtIndex(0):null===(e=this._triggerButton)||void 0===e||e.focus()}render(){return(0,a.dy)(r||(r=c` <div @click="${0}"> <slot name="trigger" @slotchange="${0}"></slot> </div> <ha-menu .corner="${0}" .menuCorner="${0}" .fixed="${0}" .multi="${0}" .activatable="${0}" .y="${0}" .x="${0}"> <slot></slot> </ha-menu> `),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}firstUpdated(t){super.firstUpdated(t),"rtl"===s.E.document.dir&&this.updateComplete.then(()=>{this.querySelectorAll("ha-list-item").forEach(t=>{const e=document.createElement("style");e.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",t.shadowRoot.appendChild(e)})})}_handleClick(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}get _triggerButton(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"]')}_setTriggerAria(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}constructor(...t){super(...t),this.corner="BOTTOM_START",this.menuCorner="START",this.x=null,this.y=null,this.multi=!1,this.activatable=!1,this.disabled=!1,this.fixed=!1,this.noAnchor=!1}}d.styles=(0,a.iv)(l||(l=c`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`)),(0,o.__decorate)([(0,n.Cb)()],d.prototype,"corner",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:"menu-corner"})],d.prototype,"menuCorner",void 0),(0,o.__decorate)([(0,n.Cb)({type:Number})],d.prototype,"x",void 0),(0,o.__decorate)([(0,n.Cb)({type:Number})],d.prototype,"y",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"multi",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"activatable",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"disabled",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"fixed",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean,attribute:"no-anchor"})],d.prototype,"noAnchor",void 0),(0,o.__decorate)([(0,n.IO)("ha-menu",!0)],d.prototype,"_menu",void 0),d=(0,o.__decorate)([(0,n.Mo)("ha-button-menu")],d)},63752:function(t,e,i){var o=i(73742),a=i(35423),n=i(21306),s=i(59048),r=i(7616);let l;class c extends a.A{}c.styles=[n.W,(0,s.iv)(l||(l=(t=>t)`:host{--mdc-theme-secondary:var(--primary-color)}`))],c=(0,o.__decorate)([(0,r.Mo)("ha-checkbox")],c)},80471:function(t,e,i){var o=i(73742),a=i(33856),n=i(24584),s=i(7616),r=i(59048),l=i(83054);let c,d,h,p=t=>t;class u extends a._{firstUpdated(t){super.firstUpdated(t),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}}u.styles=[n.W,(0,r.iv)(c||(c=p`:host{--mdc-typography-button-text-transform:none;--mdc-typography-button-font-size:var(--ha-font-size-l);--mdc-typography-button-font-family:var(--ha-font-family-body);--mdc-typography-button-font-weight:var(--ha-font-weight-medium)}:host .mdc-fab--extended{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab.mdc-fab--extended .ripple{border-radius:var(--ha-button-border-radius,var(--ha-border-radius-pill))}:host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}:disabled{--mdc-theme-secondary:var(--disabled-text-color);pointer-events:none}`)),"rtl"===l.E.document.dir?(0,r.iv)(d||(d=p`:host .mdc-fab--extended .mdc-fab__icon{direction:rtl}`)):(0,r.iv)(h||(h=p``))],u=(0,o.__decorate)([(0,s.Mo)("ha-fab")],u)},69760:function(t,e,i){var o=i(73742),a=i(84859),n=i(7686),s=i(59048),r=i(7616);let l,c,d,h=t=>t;class p extends a.K{renderRipple(){return this.noninteractive?"":super.renderRipple()}static get styles(){return[n.W,(0,s.iv)(l||(l=h`:host{padding-left:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-inline-start:var(--mdc-list-side-padding-left,var(--mdc-list-side-padding,20px));padding-right:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px));padding-inline-end:var(--mdc-list-side-padding-right,var(--mdc-list-side-padding,20px))}:host([graphic=avatar]:not([twoLine])),:host([graphic=icon]:not([twoLine])){height:48px}span.material-icons:first-of-type{margin-inline-start:0px!important;margin-inline-end:var(--mdc-list-item-graphic-margin,16px)!important;direction:var(--direction)!important}span.material-icons:last-of-type{margin-inline-start:auto!important;margin-inline-end:0px!important;direction:var(--direction)!important}.mdc-deprecated-list-item__meta{display:var(--mdc-list-item-meta-display);align-items:center;flex-shrink:0}:host([graphic=icon]:not([twoline])) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,20px)!important}:host([multiline-secondary]){height:auto}:host([multiline-secondary]) .mdc-deprecated-list-item__text{padding:8px 0}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text{text-overflow:initial;white-space:normal;overflow:auto;display:inline-block;margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text{margin-top:10px}:host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text::before{display:none}:host([multiline-secondary]) .mdc-deprecated-list-item__primary-text::before{display:none}:host([disabled]){color:var(--disabled-text-color)}:host([noninteractive]){pointer-events:unset}`)),"rtl"===document.dir?(0,s.iv)(c||(c=h`span.material-icons:first-of-type,span.material-icons:last-of-type{direction:rtl!important;--direction:rtl}`)):(0,s.iv)(d||(d=h``))]}}p=(0,o.__decorate)([(0,r.Mo)("ha-list-item")],p)},64881:function(t,e,i){var o=i(73742),a=i(92560),n=i(84862),s=i(7616);class r extends a.Kh{}r.styles=n.W,r=(0,o.__decorate)([(0,s.Mo)("ha-list")],r)},36963:function(t,e,i){i(26847),i(27530);var o=i(73742),a=i(59048),n=i(7616),s=i(39884);i(12066),i(94092);let r,l,c=t=>t;class d extends a.oi{get items(){return this._menu.items}focus(){var t;this._menu.open?this._menu.focus():null===(t=this._triggerButton)||void 0===t||t.focus()}render(){return(0,a.dy)(r||(r=c` <div @click="${0}"> <slot name="trigger" @slotchange="${0}"></slot> </div> <ha-md-menu .quick="${0}" .positioning="${0}" .hasOverflow="${0}" .anchorCorner="${0}" .menuCorner="${0}" @opening="${0}" @closing="${0}"> <slot></slot> </ha-md-menu> `),this._handleClick,this._setTriggerAria,this.quick,this.positioning,this.hasOverflow,this.anchorCorner,this.menuCorner,this._handleOpening,this._handleClosing)}_handleOpening(){(0,s.B)(this,"opening",void 0,{composed:!1})}_handleClosing(){(0,s.B)(this,"closing",void 0,{composed:!1})}_handleClick(){this.disabled||(this._menu.anchorElement=this,this._menu.open?this._menu.close():this._menu.show())}get _triggerButton(){return this.querySelector('ha-icon-button[slot="trigger"], ha-button[slot="trigger"], ha-assist-chip[slot="trigger"]')}_setTriggerAria(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}constructor(...t){super(...t),this.disabled=!1,this.anchorCorner="end-start",this.menuCorner="start-start",this.hasOverflow=!1,this.quick=!1}}d.styles=(0,a.iv)(l||(l=c`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`)),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"disabled",void 0),(0,o.__decorate)([(0,n.Cb)()],d.prototype,"positioning",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:"anchor-corner"})],d.prototype,"anchorCorner",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:"menu-corner"})],d.prototype,"menuCorner",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean,attribute:"has-overflow"})],d.prototype,"hasOverflow",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"quick",void 0),(0,o.__decorate)([(0,n.IO)("ha-md-menu",!0)],d.prototype,"_menu",void 0),d=(0,o.__decorate)([(0,n.Mo)("ha-md-button-menu")],d)},57701:function(t,e,i){var o=i(73742),a=i(66923),n=i(93952),s=i(59048),r=i(7616);let l;class c extends a.i{}c.styles=[n.W,(0,s.iv)(l||(l=(t=>t)`:host{--md-divider-color:var(--divider-color)}`))],c=(0,o.__decorate)([(0,r.Mo)("ha-md-divider")],c)},92952:function(t,e,i){var o=i(73742),a=i(5798),n=i(15215),s=i(59048),r=i(7616);let l;class c extends a.${}c.styles=[n.W,(0,s.iv)(l||(l=(t=>t)`:host{--ha-icon-display:block;--md-sys-color-primary:var(--primary-text-color);--md-sys-color-on-primary:var(--primary-text-color);--md-sys-color-secondary:var(--secondary-text-color);--md-sys-color-surface:var(--card-background-color);--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-sys-color-secondary-container:rgba(
          var(--rgb-primary-color),
          0.15
        );--md-sys-color-on-secondary-container:var(--text-primary-color);--mdc-icon-size:16px;--md-sys-color-on-primary-container:var(--primary-text-color);--md-sys-color-on-secondary-container:var(--primary-text-color);--md-menu-item-label-text-font:Roboto,sans-serif}:host(.warning){--md-menu-item-label-text-color:var(--error-color);--md-menu-item-leading-icon-color:var(--error-color)}::slotted([slot=headline]){text-wrap:nowrap}`))],(0,o.__decorate)([(0,r.Cb)({attribute:!1})],c.prototype,"clickAction",void 0),c=(0,o.__decorate)([(0,r.Mo)("ha-md-menu-item")],c)},94092:function(t,e,i){var o=i(73742),a=i(19334),n=i(91646),s=i(67419),r=i(59048),l=i(7616);let c;class d extends a.v2{connectedCallback(){super.connectedCallback(),this.addEventListener("close-menu",this._handleCloseMenu)}_handleCloseMenu(t){var e,i;t.detail.reason.kind===s.GB.KEYDOWN&&t.detail.reason.key===s.KC.ESCAPE||null===(e=(i=t.detail.initiator).clickAction)||void 0===e||e.call(i,t.detail.initiator)}}d.styles=[n.W,(0,r.iv)(c||(c=(t=>t)`:host{--md-sys-color-surface-container:var(--card-background-color)}`))],d=(0,o.__decorate)([(0,l.Mo)("ha-md-menu")],d)},39765:function(t,e,i){var o=i(73742),a=i(69287),n=i(70840),s=i(59048),r=i(7616),l=i(31733);i(64881);let c,d=t=>t;class h extends a.HB{get listElement(){return this.listElement_||(this.listElement_=this.renderRoot.querySelector("ha-list")),this.listElement_}renderList(){const t="menu"===this.innerRole?"menuitem":"option",e=this.renderListClasses();return(0,s.dy)(c||(c=d`<ha-list rootTabbable .innerAriaLabel="${0}" .innerRole="${0}" .multi="${0}" class="${0}" .itemRoles="${0}" .wrapFocus="${0}" .activatable="${0}" @action="${0}"> <slot></slot> </ha-list>`),this.innerAriaLabel,this.innerRole,this.multi,(0,l.$)(e),t,this.wrapFocus,this.activatable,this.onAction)}}h.styles=n.W,h=(0,o.__decorate)([(0,r.Mo)("ha-menu")],h)},80298:function(t,e,i){i.a(t,async function(t,e){try{var o=i(73742),a=i(52634),n=i(62685),s=i(59048),r=i(7616),l=i(75535),c=t([a]);a=(c.then?(await c)():c)[0];let d,h=t=>t;(0,l.jx)("tooltip.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:150,easing:"ease"}}),(0,l.jx)("tooltip.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:400,easing:"ease"}});class p extends a.Z{}p.styles=[n.Z,(0,s.iv)(d||(d=h`:host{--sl-tooltip-background-color:var(--secondary-background-color);--sl-tooltip-color:var(--primary-text-color);--sl-tooltip-font-family:var(
          --ha-tooltip-font-family,
          var(--ha-font-family-body)
        );--sl-tooltip-font-size:var(
          --ha-tooltip-font-size,
          var(--ha-font-size-s)
        );--sl-tooltip-font-weight:var(
          --ha-tooltip-font-weight,
          var(--ha-font-weight-normal)
        );--sl-tooltip-line-height:var(
          --ha-tooltip-line-height,
          var(--ha-line-height-condensed)
        );--sl-tooltip-padding:8px;--sl-tooltip-border-radius:var(--ha-tooltip-border-radius, 4px);--sl-tooltip-arrow-size:var(--ha-tooltip-arrow-size, 8px);--sl-z-index-tooltip:var(--ha-tooltip-z-index, 1000)}`))],p=(0,o.__decorate)([(0,r.Mo)("ha-tooltip")],p),e()}catch(d){e(d)}})},39091:function(t,e,i){i(26847),i(81738),i(94814),i(1455),i(27530);var o=i(73742),a=i(59048),n=i(7616),s=i(39884),r=(i(48017),i(92272)),l=i(86963),c=i(85635),d=i(3939),h=i(90086),p=i(73097),u=i(21595);let g,f,m=t=>t;class _ extends h.e{constructor(...t){super(...t),this.fieldTag=(0,d.i0)(g||(g=m`ha-outlined-field`))}}_.styles=[u.W,p.W,(0,a.iv)(f||(f=m`.container::before{display:block;content:"";position:absolute;inset:0;background-color:var(--ha-outlined-field-container-color,transparent);opacity:var(--ha-outlined-field-container-opacity, 1);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}`))],_=(0,o.__decorate)([(0,n.Mo)("ha-outlined-field")],_);let v,y,b=t=>t;class x extends r.x{constructor(...t){super(...t),this.fieldTag=(0,d.i0)(v||(v=b`ha-outlined-field`))}}x.styles=[c.W,l.W,(0,a.iv)(y||(y=b`:host{--md-sys-color-on-surface:var(--primary-text-color);--md-sys-color-primary:var(--primary-text-color);--md-outlined-text-field-input-text-color:var(--primary-text-color);--md-sys-color-on-surface-variant:var(--secondary-text-color);--md-outlined-field-outline-color:var(--outline-color);--md-outlined-field-focus-outline-color:var(--primary-color);--md-outlined-field-hover-outline-color:var(--outline-hover-color)}:host([dense]){--md-outlined-field-top-space:5.5px;--md-outlined-field-bottom-space:5.5px;--md-outlined-field-container-shape-start-start:10px;--md-outlined-field-container-shape-start-end:10px;--md-outlined-field-container-shape-end-end:10px;--md-outlined-field-container-shape-end-start:10px;--md-outlined-field-focus-outline-width:1px;--md-outlined-field-with-leading-content-leading-space:8px;--md-outlined-field-with-trailing-content-trailing-space:8px;--md-outlined-field-content-space:8px;--mdc-icon-size:var(--md-input-chip-icon-size, 18px)}.input{font-family:var(--ha-font-family-body)}`))],x=(0,o.__decorate)([(0,n.Mo)("ha-outlined-text-field")],x);i(993);let w,$,C,L=t=>t;class z extends a.oi{focus(){var t;null===(t=this._input)||void 0===t||t.focus()}render(){const t=this.placeholder||this.hass.localize("ui.common.search");return(0,a.dy)(w||(w=L` <ha-outlined-text-field .autofocus="${0}" .aria-label="${0}" .placeholder="${0}" .value="${0}" icon .iconTrailing="${0}" @input="${0}" dense> <slot name="prefix" slot="leading-icon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${0}"></ha-svg-icon> </slot> ${0} </ha-outlined-text-field> `),this.autofocus,this.label||this.hass.localize("ui.common.search"),t,this.filter||"",this.filter||this.suffix,this._filterInputChanged,"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",this.filter?(0,a.dy)($||($=L`<ha-icon-button aria-label="Clear input" slot="trailing-icon" @click="${0}" .path="${0}"> </ha-icon-button>`),this._clearSearch,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):a.Ld)}async _filterChanged(t){(0,s.B)(this,"value-changed",{value:String(t)})}async _filterInputChanged(t){this._filterChanged(t.target.value)}async _clearSearch(){this._filterChanged("")}constructor(...t){super(...t),this.suffix=!1,this.autofocus=!1}}z.styles=(0,a.iv)(C||(C=L`:host{display:inline-flex;z-index:0}ha-outlined-text-field{display:block;width:100%;--ha-outlined-field-container-color:var(--card-background-color)}ha-icon-button,ha-svg-icon{--mdc-icon-button-size:24px;height:var(--mdc-icon-button-size);display:flex;color:var(--primary-text-color)}ha-svg-icon{outline:0}`)),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],z.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)()],z.prototype,"filter",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],z.prototype,"suffix",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],z.prototype,"autofocus",void 0),(0,o.__decorate)([(0,n.Cb)({type:String})],z.prototype,"label",void 0),(0,o.__decorate)([(0,n.Cb)({type:String})],z.prototype,"placeholder",void 0),(0,o.__decorate)([(0,n.IO)("ha-outlined-text-field",!0)],z.prototype,"_input",void 0),z=(0,o.__decorate)([(0,n.Mo)("search-input-outlined")],z)},58047:function(t,e,i){i(26847),i(81738),i(94814),i(1455),i(27530);var o=i(73742),a=i(59048),n=i(7616),s=(i(48017),i(993),i(37492),i(39884));let r,l,c,d=t=>t;class h extends a.oi{focus(){var t;null===(t=this._input)||void 0===t||t.focus()}render(){return(0,a.dy)(r||(r=d` <ha-textfield .autofocus="${0}" .label="${0}" .value="${0}" icon .iconTrailing="${0}" @input="${0}"> <slot name="prefix" slot="leadingIcon"> <ha-svg-icon tabindex="-1" class="prefix" .path="${0}"></ha-svg-icon> </slot> <div class="trailing" slot="trailingIcon"> ${0} <slot name="suffix"></slot> </div> </ha-textfield> `),this.autofocus,this.label||this.hass.localize("ui.common.search"),this.filter||"",this.filter||this.suffix,this._filterInputChanged,"M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z",this.filter&&(0,a.dy)(l||(l=d` <ha-icon-button @click="${0}" .label="${0}" .path="${0}" class="clear-button"></ha-icon-button> `),this._clearSearch,this.hass.localize("ui.common.clear"),"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"))}async _filterChanged(t){(0,s.B)(this,"value-changed",{value:String(t)})}async _filterInputChanged(t){this._filterChanged(t.target.value)}async _clearSearch(){this._filterChanged("")}constructor(...t){super(...t),this.suffix=!1,this.autofocus=!1}}h.styles=(0,a.iv)(c||(c=d`:host{display:inline-flex}ha-icon-button,ha-svg-icon{color:var(--primary-text-color)}ha-svg-icon{outline:0}.clear-button{--mdc-icon-size:20px}ha-textfield{display:inherit}.trailing{display:flex;align-items:center}`)),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],h.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)()],h.prototype,"filter",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],h.prototype,"suffix",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],h.prototype,"autofocus",void 0),(0,o.__decorate)([(0,n.Cb)({type:String})],h.prototype,"label",void 0),(0,o.__decorate)([(0,n.IO)("ha-textfield",!0)],h.prototype,"_input",void 0),h=(0,o.__decorate)([(0,n.Mo)("search-input")],h)},84075:function(t,e,i){i.d(e,{$H:function(){return o},DJ:function(){return l},LZ:function(){return s},Nn:function(){return u},Ny:function(){return g},Pk:function(){return m},Q4:function(){return r},RQ:function(){return d},SO:function(){return h},T0:function(){return f},aR:function(){return n},iJ:function(){return p},m4:function(){return a},pB:function(){return c}});i(26847),i(81738),i(94814),i(29981),i(87799),i(27530);const o=(t,e)=>t.callWS({type:"config_entries/subentries/list",entry_id:e}),a=(t,e,i,o)=>t.callWS(Object.assign({type:"config_entries/subentries/update",entry_id:e,subentry_id:i},o)),n=(t,e,i)=>t.callWS({type:"config_entries/subentries/delete",entry_id:e,subentry_id:i}),s=["migration_error","setup_error","setup_retry"],r=["not_loaded","loaded","setup_error","setup_retry"],l=(t,e,i)=>{const o={type:"config_entries/subscribe"};return i&&i.type&&(o.type_filter=i.type),t.connection.subscribeMessage(t=>e(t),o)},c=(t,e)=>{const i={};return e&&(e.type&&(i.type_filter=e.type),e.domain&&(i.domain=e.domain)),t.callWS(Object.assign({type:"config_entries/get"},i))},d=(t,e)=>t.callWS({type:"config_entries/get_single",entry_id:e}),h=(t,e,i)=>t.callWS(Object.assign({type:"config_entries/update",entry_id:e},i)),p=(t,e)=>t.callApi("DELETE",`config/config_entries/entry/${e}`),u=(t,e)=>t.callApi("POST",`config/config_entries/entry/${e}/reload`),g=(t,e)=>t.callWS({type:"config_entries/disable",entry_id:e,disabled_by:"user"}),f=(t,e)=>t.callWS({type:"config_entries/disable",entry_id:e,disabled_by:null}),m=(t,e)=>{if(!e)return t;const i=t.find(t=>t.entry_id===e);if(!i)return t;return[i,...t.filter(t=>t.entry_id!==e)]}},51106:function(t,e,i){i.d(e,{k:function(){return o}});const o=t=>t.callWS({type:"usb/scan"})},51869:function(t,e,i){i(26847),i(27530);var o=i(73742),a=i(59048),n=i(7616),s=i(89868),r=(i(45109),i(11969),i(95814));let l,c,d,h,p,u=t=>t;class g extends a.oi{render(){var t;return(0,a.dy)(l||(l=u` <div class="toolbar"> ${0} <div class="main-title"><slot name="header">${0}</slot></div> <slot name="toolbar-icon"></slot> </div> <div class="content ha-scrollbar" @scroll="${0}"> <slot></slot> </div> <div id="fab"> <slot name="fab"></slot> </div> `),this.mainPage||null!==(t=history.state)&&void 0!==t&&t.root?(0,a.dy)(c||(c=u` <ha-menu-button .hassio="${0}" .hass="${0}" .narrow="${0}"></ha-menu-button> `),this.supervisor,this.hass,this.narrow):this.backPath?(0,a.dy)(d||(d=u` <a href="${0}"> <ha-icon-button-arrow-prev .hass="${0}"></ha-icon-button-arrow-prev> </a> `),this.backPath,this.hass):(0,a.dy)(h||(h=u` <ha-icon-button-arrow-prev .hass="${0}" @click="${0}"></ha-icon-button-arrow-prev> `),this.hass,this._backTapped),this.header,this._saveScrollPos)}_saveScrollPos(t){this._savedScrollPos=t.target.scrollTop}_backTapped(){this.backCallback?this.backCallback():history.back()}static get styles(){return[r.$c,(0,a.iv)(p||(p=u`:host{display:block;height:100%;background-color:var(--primary-background-color);overflow:hidden;position:relative}:host([narrow]){width:100%;position:fixed}.toolbar{display:flex;align-items:center;font-size:var(--ha-font-size-xl);height:var(--header-height);padding:8px 12px;background-color:var(--app-header-background-color);font-weight:var(--ha-font-weight-normal);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}.toolbar a{color:var(--sidebar-text-color);text-decoration:none}::slotted([slot=toolbar-icon]),ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto;color:var(--sidebar-icon-color)}.main-title{margin:var(--margin-title);line-height:var(--ha-line-height-normal);min-width:0;flex-grow:1;overflow-wrap:break-word;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis;padding-bottom:1px}.content{position:relative;width:100%;height:calc(100% - 1px - var(--header-height));overflow-y:auto;overflow:auto;-webkit-overflow-scrolling:touch}#fab{position:absolute;right:calc(16px + var(--safe-area-inset-right));inset-inline-end:calc(16px + var(--safe-area-inset-right));inset-inline-start:initial;bottom:calc(16px + var(--safe-area-inset-bottom));z-index:1;display:flex;flex-wrap:wrap;justify-content:flex-end;gap:8px}:host([narrow]) #fab.tabs{bottom:calc(84px + var(--safe-area-inset-bottom))}#fab[is-wide]{bottom:24px;right:24px;inset-inline-end:24px;inset-inline-start:initial}`))]}constructor(...t){super(...t),this.mainPage=!1,this.narrow=!1,this.supervisor=!1}}(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)()],g.prototype,"header",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean,attribute:"main-page"})],g.prototype,"mainPage",void 0),(0,o.__decorate)([(0,n.Cb)({type:String,attribute:"back-path"})],g.prototype,"backPath",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"backCallback",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean,reflect:!0})],g.prototype,"narrow",void 0),(0,o.__decorate)([(0,n.Cb)({type:Boolean})],g.prototype,"supervisor",void 0),(0,o.__decorate)([(0,s.i)(".content")],g.prototype,"_savedScrollPos",void 0),(0,o.__decorate)([(0,n.hO)({passive:!0})],g.prototype,"_saveScrollPos",null),g=(0,o.__decorate)([(0,n.Mo)("hass-subpage")],g)},43698:function(t,e,i){i.d(e,{U:function(){return a}});i(26847),i(56303),i(27530);var o=i(58577);const a=t=>class extends t{connectedCallback(){super.connectedCallback(),this.addKeyboardShortcuts()}disconnectedCallback(){this.removeKeyboardShortcuts(),super.disconnectedCallback()}addKeyboardShortcuts(){this._listenersAdded||(this._listenersAdded=!0,window.addEventListener("keydown",this._keydownEvent))}removeKeyboardShortcuts(){this._listenersAdded=!1,window.removeEventListener("keydown",this._keydownEvent)}supportedShortcuts(){return{}}supportedSingleKeyShortcuts(){return{}}constructor(...t){super(...t),this._keydownEvent=t=>{const e=this.supportedShortcuts();if((t.ctrlKey||t.metaKey)&&!t.shiftKey&&!t.altKey&&t.key in e){var i;if(!(0,o.I)(t.composedPath()))return;if(null!==(i=window.getSelection())&&void 0!==i&&i.toString())return;return t.preventDefault(),void e[t.key]()}const a=this.supportedSingleKeyShortcuts();t.key in a&&(t.preventDefault(),a[t.key]())},this._listenersAdded=!1}}},50571:function(t,e,i){i.a(t,async function(t,e){try{i(39710),i(1455),i(64455),i(56389),i(6202),i(44261);var o=i(73742),a=i(59048),n=i(7616),s=i(31733),r=i(39884),l=i(72953),c=(i(41037),i(69760),i(20990)),d=i(89081),h=i(72242),p=i(42399),u=(i(52196),t([l]));l=(u.then?(await u)():u)[0];let g,f,m,_,v,y,b=t=>t;const x="M9 3V18H12V3H9M12 5L16 18L19 17L15 4L12 5M5 5V18H8V5H5M3 19V21H21V19H3Z",w="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z",$="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",C="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z";class L extends a.oi{render(){const t=c.P3.includes(this.flow.context.source);return(0,a.dy)(g||(g=b` <ha-integration-action-card class="${0}" .hass="${0}" .manifest="${0}" .domain="${0}" .label="${0}"> ${0} <ha-button @click="${0}" variant="${0}" appearance="filled"> ${0} </ha-button> ${0} </ha-integration-action-card> `),(0,s.$)({attention:t}),this.hass,this.manifest,this.flow.handler,this.flow.localized_title,c.pV.includes(this.flow.context.source)&&this.flow.context.unique_id?(0,a.dy)(f||(f=b`<ha-button appearance="plain" @click="${0}">${0}</ha-button>`),this._ignoreFlow,this.hass.localize("ui.panel.config.integrations.ignore.ignore")):"",this._continueFlow,t?"danger":"brand",this.hass.localize(t?"ui.panel.config.integrations.reconfigure":"ui.common.add"),this.flow.context.configuration_url||this.manifest?(0,a.dy)(m||(m=b`<ha-button-menu slot="header-button"> <ha-icon-button slot="trigger" .label="${0}" .path="${0}"></ha-icon-button> ${0} ${0} </ha-button-menu>`),this.hass.localize("ui.common.menu"),$,this.flow.context.configuration_url?(0,a.dy)(_||(_=b`<a href="${0}" rel="noreferrer" target="${0}"> <ha-list-item graphic="icon" hasMeta> ${0} <ha-svg-icon slot="graphic" .path="${0}"></ha-svg-icon> <ha-svg-icon slot="meta" .path="${0}"></ha-svg-icon> </ha-list-item> </a>`),this.flow.context.configuration_url.replace(/^homeassistant:\/\//,"/"),this.flow.context.configuration_url.startsWith("homeassistant://")?"_self":"_blank",this.hass.localize("ui.panel.config.integrations.config_entry.open_configuration_url"),w,C):"",this.manifest?(0,a.dy)(v||(v=b`<a href="${0}" rel="noreferrer" target="_blank"> <ha-list-item graphic="icon" hasMeta> ${0} <ha-svg-icon slot="graphic" .path="${0}"></ha-svg-icon> <ha-svg-icon slot="meta" .path="${0}"></ha-svg-icon> </ha-list-item> </a>`),this.manifest.is_built_in?(0,p.R)(this.hass,`/integrations/${this.manifest.domain}`):this.manifest.documentation,this.hass.localize("ui.panel.config.integrations.config_entry.documentation"),x,C):""):"")}_continueFlow(){"external"!==this.flow.flow_id?(0,d.t)(this,{continueFlowId:this.flow.flow_id,navigateToResult:!0,dialogClosedCallback:()=>{this._handleFlowUpdated()}}):this.hass.auth.external.fireMessage({type:"improv/configure_device",payload:{name:this.flow.localized_title||this.flow.context.title_placeholders.name}})}async _ignoreFlow(){await(0,h.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.ignore.confirm_ignore_title",{name:(0,c.WW)(this.hass.localize,this.flow)}),text:this.hass.localize("ui.panel.config.integrations.ignore.confirm_ignore"),confirmText:this.hass.localize("ui.panel.config.integrations.ignore.ignore")})&&(await(0,c.zO)(this.hass,this.flow.flow_id,(0,c.WW)(this.hass.localize,this.flow)),this._handleFlowUpdated())}_handleFlowUpdated(){(0,r.B)(this,"change",void 0,{bubbles:!1})}}L.styles=(0,a.iv)(y||(y=b`a{text-decoration:none;color:var(--primary-color)}ha-button-menu{color:var(--secondary-text-color)}ha-svg-icon[slot=meta]{width:18px;height:18px}.attention{--mdc-theme-primary:var(--error-color);--ha-card-border-color:var(--error-color)}`)),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],L.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],L.prototype,"flow",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],L.prototype,"manifest",void 0),L=(0,o.__decorate)([(0,n.Mo)("ha-config-flow-card")],L),e()}catch(g){e(g)}})},779:function(t,e,i){i.a(t,async function(t,e){try{i(39710),i(26847),i(2394),i(18574),i(81738),i(94814),i(29981),i(22960),i(6989),i(72489),i(87799),i(1455),i(64455),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(56389),i(41381),i(27530),i(73249),i(36330),i(38221),i(75863);var o=i(73742),a=i(39230),n=i(59048),s=i(7616),r=i(25191),l=i(28105),c=i(37528),d=i(29150),h=i(67050),p=i(36221),u=i(64637),g=i(65863),f=(i(41037),i(93673),i(63752),i(80471),i(72953)),m=(i(48017),i(993),i(58047),i(39091),i(84075)),_=i(27689),v=i(70947),y=i(33832),b=i(96222),x=i(28968),w=i(51106),$=i(89081),C=i(72242),L=i(41906),z=(i(92622),i(43698)),k=i(6291),M=i(95814),E=i(94590),S=i(19331),A=i(50571),I=i(23604),D=i(75012),H=i(94181),B=(i(62597),i(65470)),P=t([f,L,A,I,D,H]);[f,L,A,I,D,H]=P.then?(await P)():P;let V,O,W,T,R,F,Z,j,U,K,N,q,Q,G,J,X,Y,tt,et,it,ot,at=t=>t;const nt="M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",st="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",rt=t=>{const e=new Map;return t.forEach(t=>{e.has(t.domain)?e.get(t.domain).push(t):e.set(t.domain,[t])}),e};class lt extends((0,z.U)((0,k.f)(n.oi))){disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("improv-discovered-device",this._handleImprovDiscovered),window.removeEventListener("improv-device-setup-done",this._reScanImprovDevices)}hassSubscribe(){return[(0,v.LM)(this.hass.connection,t=>{this._entityRegistryEntries=t}),(0,b.O)(this.hass.connection,t=>{const e={};for(const i of t)e[i.domain]=i;this._logInfos=e})]}firstUpdated(t){super.firstUpdated(t),this._fetchManifests(),this._fetchEntitySources(),"/add"===this.route.path&&this._handleAdd(),this._scanUSBDevices(),this._scanImprovDevices(),(0,c.p)(this.hass,"diagnostics")&&(0,_.pD)(this.hass).then(t=>{const e={};for(const i of t)e[i.domain]=i.handlers.config_entry;this._diagnosticHandlers=e})}updated(t){super.updated(t),(this._searchParms.has("config_entry")||this._searchParms.has("domain"))&&t.has("configEntries")&&!t.get("configEntries")&&this.configEntries&&this._highlightEntry(),t.has("configEntriesInProgress")&&this.configEntriesInProgress&&this._fetchIntegrationManifests(this.configEntriesInProgress.map(t=>t.handler)),t.has("configEntries")&&this.configEntries&&this._fetchIntegrationManifests(this.configEntries.map(t=>t.domain))}render(){if(!this.configEntries||!this.configEntriesInProgress)return(0,n.dy)(V||(V=at`<hass-loading-screen .hass="${0}" .narrow="${0}"></hass-loading-screen>`),this.hass,this.narrow);const[t,e,i]=this._filterConfigEntries(this.hass.config.components,this._manifests,this.configEntries,this._entityRegistryEntries,this.hass.localize,this._filter),o=this._filterConfigEntriesInProgress(this.configEntriesInProgress,this._improvDiscovered,this._filter),a=(0,n.dy)(O||(O=at` <div slot="${0}"> <div class="menu-badge-container"> ${0} <ha-button-menu multi @action="${0}"> <ha-icon-button slot="trigger" .label="${0}" .path="${0}"> </ha-icon-button> <ha-check-list-item left .selected="${0}"> ${0} </ha-check-list-item> <ha-check-list-item left .selected="${0}"> ${0} </ha-check-list-item> </ha-button-menu> </div> ${0} </div> `),(0,r.o)(this.narrow?"toolbar-icon":void 0),!this._showDisabled&&this.narrow&&i.length?(0,n.dy)(W||(W=at`<span class="badge">${0}</span>`),i.length):"",this._handleMenuAction,this.hass.localize("ui.common.menu"),nt,this._showIgnored,this.hass.localize("ui.panel.config.integrations.ignore.show_ignored"),this._showDisabled,this.hass.localize("ui.panel.config.integrations.disable.show_disabled"),this.narrow?(0,n.dy)(T||(T=at` <ha-integration-overflow-menu .hass="${0}" slot="toolbar-icon"></ha-integration-overflow-menu> `),this.hass):"");return(0,n.dy)(R||(R=at` <hass-tabs-subpage .hass="${0}" .narrow="${0}" back-path="/config" .route="${0}" .tabs="${0}" has-fab> ${0} ${0} ${0} ${0} ${0} <div class="container"> ${0} </div> <ha-fab slot="fab" .label="${0}" extended @click="${0}"> <ha-svg-icon slot="icon" .path="${0}"></ha-svg-icon> </ha-fab> </hass-tabs-subpage> `),this.hass,this.narrow,this.route,E.configSections.devices,this.narrow?(0,n.dy)(F||(F=at` <div slot="header" class="header"> <search-input-outlined .hass="${0}" .filter="${0}" @value-changed="${0}" .label="${0}"> </search-input-outlined> </div> ${0} `),this.hass,this._filter,this._handleSearchChange,this.hass.localize("ui.panel.config.integrations.search"),a):(0,n.dy)(Z||(Z=at` <ha-integration-overflow-menu .hass="${0}" slot="toolbar-icon"></ha-integration-overflow-menu> <div class="search"> <search-input-outlined .hass="${0}" .filter="${0}" @value-changed="${0}" .label="${0}"> </search-input-outlined> <div class="filters"> ${0} ${0} </div> </div> `),this.hass,this.hass,this._filter,this._handleSearchChange,this.hass.localize("ui.panel.config.integrations.search"),!this._showDisabled&&i.length?(0,n.dy)(j||(j=at`<div class="active-filters" @click="${0}"> ${0} <ha-button appearance="plain" size="small" @click="${0}"> ${0} </ha-button> </div>`),this._preventDefault,this.hass.localize("ui.panel.config.integrations.disable.disabled_integrations",{number:i.length}),this._toggleShowDisabled,this.hass.localize("ui.panel.config.integrations.disable.show")):"",a),this._showIgnored?(0,n.dy)(U||(U=at`<h1> ${0} </h1> <div class="container"> ${0} </div>`),this.hass.localize("ui.panel.config.integrations.ignore.ignored"),e.length>0?e.map(t=>(0,n.dy)(K||(K=at` <ha-ignored-config-entry-card .hass="${0}" .manifest="${0}" .entry="${0}" @change="${0}"></ha-ignored-config-entry-card> `),this.hass,this._manifests[t.domain],t,this._handleFlowUpdated)):(0,n.dy)(N||(N=at`${0}`),this.hass.localize("ui.panel.config.integrations.no_ignored_integrations"))):"",o.length?(0,n.dy)(q||(q=at`<h1> ${0} </h1> <div class="container"> ${0} </div>`),this.hass.localize("ui.panel.config.integrations.discovered"),o.map(t=>(0,n.dy)(Q||(Q=at` <ha-config-flow-card .hass="${0}" .manifest="${0}" .flow="${0}" @change="${0}"></ha-config-flow-card> `),this.hass,this._manifests[t.handler],t,this._handleFlowUpdated))):"",this._showDisabled?(0,n.dy)(G||(G=at`<h1> ${0} </h1> <div class="container"> ${0} </div>`),this.hass.localize("ui.panel.config.integrations.disabled"),i.length>0?i.map(t=>(0,n.dy)(J||(J=at` <ha-disabled-config-entry-card .hass="${0}" .entry="${0}" .manifest="${0}" .entityRegistryEntries="${0}"></ha-disabled-config-entry-card> `),this.hass,t,this._manifests[t.domain],this._entityRegistryEntries)):(0,n.dy)(X||(X=at`${0}`),this.hass.localize("ui.panel.config.integrations.no_disabled_integrations"))):"",o.length||this._showDisabled||this._showIgnored?(0,n.dy)(Y||(Y=at`<h1> ${0} </h1>`),this.hass.localize("ui.panel.config.integrations.configured")):"",t.length?t.map(([t,e])=>(0,n.dy)(tt||(tt=at`<ha-integration-card data-domain="${0}" .hass="${0}" .domain="${0}" .items="${0}" .manifest="${0}" .entityRegistryEntries="${0}" .domainEntities="${0}" .supportsDiagnostics="${0}" .logInfo="${0}"></ha-integration-card>`),t,this.hass,t,e,this._manifests[t],this._entityRegistryEntries,this._domainEntities[t]||[],!!this._diagnosticHandlers&&this._diagnosticHandlers[t],this._logInfos?this._logInfos[t]:n.Ld)):this._filter&&!o.length&&!t.length&&this.configEntries.length?(0,n.dy)(et||(et=at` <div class="empty-message"> <h1> ${0} </h1> <p> ${0} </p> <ha-button @click="${0}" appearance="filled" size="small"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> ${0} </ha-button> </div> `),this.hass.localize("ui.panel.config.integrations.none_found"),this.hass.localize("ui.panel.config.integrations.none_found_detail"),this._createFlow,st,this.hass.localize("ui.panel.config.integrations.add_integration")):this._filter||this._showIgnored&&0!==e.length||this._showDisabled&&0!==i.length||0!==t.length?"":(0,n.dy)(it||(it=at` <div class="empty-message"> <h1> ${0} </h1> <p> ${0} </p> <ha-button @click="${0}" appearance="filled" size="small"> <ha-svg-icon slot="start" .path="${0}"></ha-svg-icon> ${0} </ha-button> </div> `),this.hass.localize("ui.panel.config.integrations.none"),this.hass.localize("ui.panel.config.integrations.no_integrations"),this._createFlow,st,this.hass.localize("ui.panel.config.integrations.add_integration")),this.hass.localize("ui.panel.config.integrations.add_integration"),this._createFlow,st)}_preventDefault(t){t.preventDefault()}async _scanUSBDevices(){(0,c.p)(this.hass,"usb")&&await(0,w.k)(this.hass)}_scanImprovDevices(){var t;null!==(t=this.hass.auth.external)&&void 0!==t&&t.config.canSetupImprov&&(window.addEventListener("improv-discovered-device",this._handleImprovDiscovered),window.addEventListener("improv-device-setup-done",this._reScanImprovDevices),this.hass.auth.external.fireMessage({type:"improv/scan"}))}async _fetchEntitySources(){const t=await(0,y.m)(this.hass),e={};for(const[i,o]of Object.entries(t))o.domain in e||(e[o.domain]=[]),e[o.domain].push(i);this._domainEntities=e}async _fetchManifests(t){const e=await(0,b.F3)(this.hass,t),i=Object.assign({},this._manifests);for(const o of e)i[o.domain]=o;this._manifests=i}async _fetchIntegrationManifests(t){const e=[];for(const i of t)if(!(i in this._manifests)){if(this._extraFetchedManifests){if(this._extraFetchedManifests.has(i))continue}else this._extraFetchedManifests=new Set;this._extraFetchedManifests.add(i),e.push(i)}e.length&&await this._fetchManifests(e)}_handleFlowUpdated(){this._reScanImprovDevices(),this._fetchManifests()}_createFlow(){(0,B.E)(this,{initialFilter:this._filter})}_handleMenuAction(t){switch(t.detail.index){case 0:this._showIgnored=!this._showIgnored;break;case 1:this._toggleShowDisabled()}}_toggleShowDisabled(){this._showDisabled=!this._showDisabled}_handleSearchChange(t){this._filter=t.detail.value,history.replaceState({filter:this._filter},"")}async _highlightEntry(){await(0,g.y)();const t=this._searchParms.get("config_entry");let e;if(t){const i=this.configEntries.find(e=>e.entry_id===t);if(!i)return;e=i.domain}else e=this._searchParms.get("domain");const i=this.shadowRoot.querySelector(`[data-domain=${e}]`);i&&(i.scrollIntoView({block:"center"}),i.classList.add("highlight"))}async _handleAdd(){const t=(0,u.io)("brand"),e=(0,u.io)("domain");if((0,h.c)("/config/integrations",{replace:!0}),t)return void(0,B.E)(this,{brand:t});if(!e)return;const i=await(0,x.G)(this.hass),o=Object.assign(Object.assign({},i.core.integration),i.custom.integration),a=(0,x.p)(o,e);if(null!=a&&a.config_flow){if(a.single_config_entry){if((await(0,m.pB)(this.hass,{domain:e})).length>0){const t=await this.hass.loadBackendTranslation("title",a.name);return void(0,C.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.config_flow.single_config_entry_title"),text:this.hass.localize("ui.panel.config.integrations.config_flow.single_config_entry",{integration_name:(0,b.Lh)(t,a.name)})})}}const t=await this.hass.loadBackendTranslation("title",e,!1);return void(await(0,C.showConfirmationDialog)(this,{title:t("ui.panel.config.integrations.confirm_new",{integration:a.name||(0,b.Lh)(t,e)})})&&(0,B.E)(this,{domain:e}))}if(null!=a&&a.supported_by){const t=await this.hass.loadBackendTranslation("title",e,!1),i=(0,x.p)(o,a.supported_by);if(!i)return;return void(0,C.showConfirmationDialog)(this,{text:this.hass.localize("ui.panel.config.integrations.config_flow.supported_brand_flow",{supported_brand:a.name||(0,b.Lh)(t,e),flow_domain_name:i.name||(0,b.Lh)(t,a.supported_by)}),confirm:async()=>{var t;d.S.includes(a.supported_by)?(0,d.D)(this,this.hass,a.supported_by):(0,$.t)(this,{dialogClosedCallback:()=>{this._handleFlowUpdated()},startFlowHandler:a.supported_by,manifest:await(0,b.t4)(this.hass,a.supported_by),showAdvanced:null===(t=this.hass.userData)||void 0===t?void 0:t.showAdvanced})}})}if((0,S.X)(e))return void(0,h.c)(`/config/helpers/add?domain=${e}`,{replace:!0});const n=Object.assign(Object.assign({},i.core.helper),i.custom.helper);(0,x.p)(n,e)?(0,h.c)(`/config/helpers/add?domain=${e}`,{replace:!0}):(0,C.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.config_flow.error"),text:this.hass.localize("ui.panel.config.integrations.config_flow.no_config_flow")})}supportedShortcuts(){return{f:()=>this._searchInput.focus()}}static get styles(){return[M.Qx,(0,n.iv)(ot||(ot=at`:host([narrow]) hass-tabs-subpage{--main-title-margin:0}ha-button-menu{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}.container{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-gap:8px 8px;padding:8px 16px 16px}.empty-message{margin:auto;text-align:center;grid-column-start:1;grid-column-end:-1}.empty-message h1{margin:0}search-input-outlined{flex:1}.header{display:flex}.search{display:flex;justify-content:space-between;width:100%;align-items:center;height:56px;position:sticky;top:0;z-index:2;background-color:var(--primary-background-color);padding:0 16px;gap:16px;box-sizing:border-box;border-bottom:1px solid var(--divider-color)}.filters{--mdc-text-field-fill-color:var(--input-fill-color);--mdc-text-field-idle-line-color:var(--input-idle-line-color);--mdc-shape-small:4px;--text-field-overflow:initial;display:flex;justify-content:flex-end;align-items:center;color:var(--primary-text-color)}.active-filters{color:var(--primary-text-color);position:relative;display:flex;align-items:center;padding-top:2px;padding-bottom:2px;padding-right:2px;padding-left:8px;padding-inline-start:8px;padding-inline-end:2px;font-size:var(--ha-font-size-m);width:max-content;cursor:initial;direction:var(--direction);height:32px}.active-filters ha-button{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}.active-filters::before{background-color:var(--primary-color);opacity:.12;border-radius:4px;position:absolute;top:0;right:0;bottom:0;left:0;content:""}.badge{min-width:20px;min-height:20px;border-radius:50%;font-weight:var(--ha-font-weight-normal);background-color:var(--primary-color);display:flex;align-items:center;justify-content:center;color:var(--text-primary-color);position:absolute;right:0px;top:4px;font-size:var(--ha-font-size-s)}.menu-badge-container{position:relative}h1{margin-top:8px;margin-left:16px;margin-inline-start:16px;margin-inline-end:initial}ha-button-menu{color:var(--primary-text-color)}`))]}constructor(...t){var e;super(...t),this.narrow=!1,this.isWide=!1,this.showAdvanced=!1,this._improvDiscovered=new Map,this._entityRegistryEntries=[],this._manifests={},this._domainEntities={},this._showIgnored=!1,this._showDisabled=!1,this._searchParms=new URLSearchParams(window.location.hash.substring(1)),this._filter=(null===(e=history.state)||void 0===e?void 0:e.filter)||"",this._filterConfigEntries=(0,l.Z)((t,e,i,o,n,s)=>{const r=new Set(i.map(t=>t.domain)),l=new Set;for(const a of t){const t=a.split(".")[0];r.has(t)||!e[t]||e[t].config_flow||e[t].integration_type&&!["device","hub","service","integration"].includes(e[t].integration_type)||l.add(t)}const c=[...l].map(t=>({domain:t,localized_domain_name:(0,b.Lh)(n,t),title:t,source:"yaml",state:"loaded",supports_options:!1,supports_remove_device:!1,supports_unload:!1,supports_reconfigure:!1,supported_subentry_types:{},num_subentries:0,pref_disable_new_entities:!1,pref_disable_polling:!1,disabled_by:null,reason:null,error_reason_translation_key:null,error_reason_translation_placeholders:null})),d=[...i.filter(t=>{var e;return t.supports_options||"hardware"!==(null===(e=this._manifests[t.domain])||void 0===e?void 0:e.integration_type)||o.some(e=>e.config_entry_id===t.entry_id)}),...c];let h;const u=[],g=[],f=[];if(s){const t={keys:["domain","localized_domain_name","title"],isCaseSensitive:!1,minMatchCharLength:Math.min(s.length,2),threshold:.2};h=new a.Z(d,t).search(s).map(t=>t.item)}else h=d;for(const a of h)"ignore"===a.source?u.push(a):null!==a.disabled_by?g.push(a):f.push(a);return[Array.from(rt(f)).sort((t,e)=>(0,p.fe)(t[1][0].localized_domain_name||t[0],e[1][0].localized_domain_name||e[0],this.hass.locale.language)),u,g]}),this._filterConfigEntriesInProgress=(0,l.Z)((t,e,i)=>{let o=[...t];const n=Array.from(e.values());let s;if(n.length&&(o=o.filter(t=>!n.some(e=>e.name===t.localized_title)),e.forEach(t=>{o.push({flow_id:"external",handler:"improv_ble",context:{title_placeholders:{name:t.name}},step_id:"bluetooth_confirm",localized_title:t.name})})),i){const t={keys:["handler","localized_title"],isCaseSensitive:!1,minMatchCharLength:Math.min(i.length,2),threshold:.2,ignoreDiacritics:!0};s=new a.Z(o,t).search(i).map(t=>t.item)}else s=o;return s.sort((t,e)=>(0,p.fe)(t.localized_title||t.handler,e.localized_title||e.handler,this.hass.locale.language))}),this._reScanImprovDevices=()=>{var t;null!==(t=this.hass.auth.external)&&void 0!==t&&t.config.canSetupImprov&&(this._improvDiscovered=new Map,this.hass.auth.external.fireMessage({type:"improv/scan"}))},this._handleImprovDiscovered=t=>{this._fetchManifests(["improv_ble"]),this._improvDiscovered.set(t.detail.name,t.detail),this._improvDiscovered=new Map(Array.from(this._improvDiscovered))}}}(0,o.__decorate)([(0,s.Cb)({attribute:!1})],lt.prototype,"hass",void 0),(0,o.__decorate)([(0,s.Cb)({type:Boolean,reflect:!0})],lt.prototype,"narrow",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:"is-wide",type:Boolean})],lt.prototype,"isWide",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],lt.prototype,"showAdvanced",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],lt.prototype,"route",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],lt.prototype,"configEntries",void 0),(0,o.__decorate)([(0,s.Cb)({attribute:!1})],lt.prototype,"configEntriesInProgress",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_improvDiscovered",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_entityRegistryEntries",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_manifests",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_domainEntities",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_showIgnored",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_showDisabled",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_searchParms",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_filter",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_diagnosticHandlers",void 0),(0,o.__decorate)([(0,s.SB)()],lt.prototype,"_logInfos",void 0),(0,o.__decorate)([(0,s.IO)("search-input-outlined")],lt.prototype,"_searchInput",void 0),lt=(0,o.__decorate)([(0,s.Mo)("ha-config-integrations-dashboard")],lt),e()}catch(V){e(V)}})},16128:function(t,e,i){i.a(t,async function(t,o){try{i.r(e);i(26847),i(2394),i(81738),i(94814),i(22960),i(6989),i(87799),i(1455),i(64455),i(41381),i(27530),i(73249),i(36330),i(38221),i(75863);var a=i(73742),n=i(7616),s=i(67050),r=i(84075),l=i(20990),c=i(96222),d=i(41906),h=i(407),p=i(6291),u=i(24094),g=i(779),f=t([d,u,g]);[d,u,g]=f.then?(await f)():f;class m extends((0,p.f)(h.n)){hassSubscribe(){return[(0,r.DJ)(this.hass,async t=>{var e;if(0===t.length)return void(this._configEntries=[]);let i=void 0===this._configEntries;const o=[];await(null===(e=this._loadTranslationsPromise)||void 0===e?void 0:e.then(()=>new Promise(t=>{window.setTimeout(t,0)}))),t.forEach(t=>{if(null===t.type||"added"===t.type)o.push(Object.assign(Object.assign({},t.entry),{},{localized_domain_name:(0,c.Lh)(this.hass.localize,t.entry.domain)})),null===t.type&&(i=!0);else if("removed"===t.type)this._configEntries=this._configEntries.filter(e=>e.entry_id!==t.entry.entry_id);else if("updated"===t.type){const e=t.entry;this._configEntries=this._configEntries.map(t=>t.entry_id===e.entry_id?Object.assign(Object.assign({},e),{},{localized_domain_name:t.localized_domain_name}):t)}});const a=i?[]:this._configEntries;this._configEntries=[...a,...o]},{type:["device","hub","service","hardware"]}),(0,l.V3)(this.hass,async t=>{if(0===t.length)return void(this._configEntriesInProgress=[]);let e=void 0===this._configEntriesInProgress;const i=[];if(t.forEach(t=>{if("removed"!==t.type)null!==t.type&&"added"!==t.type||(null===t.type&&(e=!0),i.push(t.flow));else{if(!this._configEntriesInProgress)return;this._configEntriesInProgress=this._configEntriesInProgress.filter(e=>e.flow_id!==t.flow_id)}}),!i.length&&!e)return;const o=e?[]:this._configEntriesInProgress,a=i.filter(t=>t.context.title_placeholders).map(t=>t.handler),n=a.length?await this.hass.loadBackendTranslation("config",a):this.hass.localize;this._configEntriesInProgress=[...o,...i.map(t=>Object.assign(Object.assign({},t),{},{localized_title:(0,l.WW)(n,t)}))]})]}willUpdate(t){super.willUpdate(t),this.hasUpdated||(this._loadTranslationsPromise=this.hass.loadBackendTranslation("title",this.hass.config.components.map(t=>t.split(".")[0])))}updatePageEl(t){if(t.hass=this.hass,"integration"===this._currentPage)if(this.routeTail.path)t.domain=this.routeTail.path.substring(1);else if(window.location.search){const e=new URLSearchParams(window.location.search);if(e.has("domain")){const i=e.get("domain");t.domain=i,(0,s.c)(`/config/integrations/integration/${i}`)}}t.route=this.routeTail,t.configEntries=this._configEntries,t.configEntriesInProgress=this._configEntriesInProgress,t.narrow=this.narrow,t.isWide=this.isWide,t.showAdvanced=this.showAdvanced}constructor(...t){super(...t),this.narrow=!1,this.isWide=!1,this.showAdvanced=!1,this.routerOptions={defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-integrations-dashboard",cache:!0},integration:{tag:"ha-config-integration-page"}}}}}(0,a.__decorate)([(0,n.Cb)({attribute:!1})],m.prototype,"hass",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean,reflect:!0})],m.prototype,"narrow",void 0),(0,a.__decorate)([(0,n.Cb)({attribute:"is-wide",type:Boolean})],m.prototype,"isWide",void 0),(0,a.__decorate)([(0,n.Cb)({attribute:!1})],m.prototype,"showAdvanced",void 0),(0,a.__decorate)([(0,n.SB)()],m.prototype,"_configEntries",void 0),(0,a.__decorate)([(0,n.SB)()],m.prototype,"_configEntriesInProgress",void 0),m=(0,a.__decorate)([(0,n.Mo)("ha-config-integrations")],m),o()}catch(m){o(m)}})},23604:function(t,e,i){i.a(t,async function(t,e){try{i(1455);var o=i(73742),a=i(59048),n=i(7616),s=i(72953),r=(i(48017),i(84075)),l=i(72242),c=(i(52196),t([s]));s=(c.then?(await c)():c)[0];let d,h,p=t=>t;const u="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z";class g extends a.oi{render(){return(0,a.dy)(d||(d=p` <ha-integration-action-card .hass="${0}" .manifest="${0}" .banner="${0}" .domain="${0}" .localizedDomainName="${0}" .label="${0}"> <a href="${0}" slot="header-button"> <ha-icon-button .path="${0}"></ha-icon-button> </a> <ha-button @click="${0}" appearance="filled"> ${0} </ha-button> </ha-integration-action-card> `),this.hass,this.manifest,this.hass.localize("ui.panel.config.integrations.config_entry.disable.disabled_cause",{cause:this.hass.localize(`ui.panel.config.integrations.config_entry.disable.disabled_by.${this.entry.disabled_by}`)||this.entry.disabled_by}),this.entry.domain,this.entry.localized_domain_name,this.entry.title||this.entry.localized_domain_name,`/config/integrations/integration/${this.entry.domain}`,u,this._handleEnable,this.hass.localize("ui.common.enable"))}async _handleEnable(){const t=this.entry.entry_id;let e;try{e=await(0,r.T0)(this.hass,t)}catch(i){return void(0,l.showAlertDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.config_entry.disable_error"),text:i.message})}e.require_restart&&(0,l.showAlertDialog)(this,{text:this.hass.localize("ui.panel.config.integrations.config_entry.enable_restart_confirm")})}}g.styles=(0,a.iv)(h||(h=p`:host{--state-color:var(--divider-color, #e0e0e0)}ha-button{--mdc-theme-primary:var(--primary-color)}a ha-icon-button{color:var(--secondary-text-color)}`)),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"entry",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"manifest",void 0),g=(0,o.__decorate)([(0,n.Mo)("ha-disabled-config-entry-card")],g),e()}catch(d){e(d)}})},75012:function(t,e,i){i.a(t,async function(t,e){try{i(1455);var o=i(73742),a=i(59048),n=i(7616),s=i(39884),r=i(84075),l=i(72242),c=(i(52196),i(72953)),d=t([c]);c=(d.then?(await d)():d)[0];let h,p,u=t=>t;class g extends a.oi{render(){return(0,a.dy)(h||(h=u` <ha-integration-action-card .hass="${0}" .manifest="${0}" .banner="${0}" .domain="${0}" .localizedDomainName="${0}" .label="${0}"> <ha-button appearance="plain" @click="${0}"> ${0} </ha-button> </ha-integration-action-card> `),this.hass,this.manifest,this.hass.localize("ui.panel.config.integrations.ignore.ignored"),this.entry.domain,this.entry.localized_domain_name,"Ignored"===this.entry.title?this.entry.localized_domain_name:this.entry.title,this._removeIgnoredIntegration,this.hass.localize("ui.panel.config.integrations.ignore.stop_ignore"))}async _removeIgnoredIntegration(){(0,l.showConfirmationDialog)(this,{title:this.hass.localize("ui.panel.config.integrations.ignore.confirm_delete_ignore_title",{name:this.hass.localize(`component.${this.entry.domain}.title`)}),text:this.hass.localize("ui.panel.config.integrations.ignore.confirm_delete_ignore"),confirmText:this.hass.localize("ui.panel.config.integrations.ignore.stop_ignore"),confirm:async()=>{(await(0,r.iJ)(this.hass,this.entry.entry_id)).require_restart&&alert(this.hass.localize("ui.panel.config.integrations.config_entry.restart_confirm")),(0,s.B)(this,"change",void 0,{bubbles:!1})}})}}g.styles=(0,a.iv)(p||(p=u`:host{--state-color:var(--divider-color, #e0e0e0)}ha-button{--mdc-theme-primary:var(--primary-color)}`)),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"entry",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],g.prototype,"manifest",void 0),g=(0,o.__decorate)([(0,n.Mo)("ha-ignored-config-entry-card")],g),e()}catch(h){e(h)}})},52196:function(t,e,i){var o=i(73742),a=i(59048),n=i(7616),s=i(96222),r=(i(934),i(31138),i(35580)),l=i(95814);let c,d,h=t=>t;class p extends a.oi{render(){var t;return(0,a.dy)(c||(c=h` <ha-card outlined> <div class="card-content"> <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer" @error="${0}" @load="${0}"> <h2>${0}</h2> <h3> ${0} </h3> </div> <div class="filler"></div> <div class="card-actions"><slot></slot></div> <div class="header-button"><slot name="header-button"></slot></div> </ha-card> `),(0,r.X1)({domain:this.domain,type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode}),this._onImageError,this._onImageLoad,this.label,this.localizedDomainName||(0,s.Lh)(this.hass.localize,this.domain,this.manifest))}_onImageLoad(t){t.target.style.visibility="initial"}_onImageError(t){t.target.style.visibility="hidden"}}p.styles=[l.Qx,(0,a.iv)(d||(d=h`ha-card{display:flex;flex-direction:column;height:100%}img{width:40px;height:40px}h2{font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-normal);margin-top:8px;margin-bottom:0;max-width:100%}h3{font-size:var(--ha-font-size-m);margin:0;max-width:100%;text-align:center}.header-button{position:absolute;top:8px;right:8px;inset-inline-end:8px;inset-inline-start:initial}.filler{flex:1}.attention{--state-color:var(--error-color);--text-on-state-color:var(--text-primary-color)}.card-content{display:flex;justify-content:center;flex-direction:column;align-items:center}.card-actions{border-top:none;padding-top:0;padding-bottom:16px;justify-content:center;display:flex}:host ::slotted(*){margin-right:8px;margin-inline-end:8px;margin-inline-start:initial}:host ::slotted(:last-child){margin-right:0;margin-inline-end:0;margin-inline-start:initial}`))],(0,o.__decorate)([(0,n.Cb)({attribute:!1})],p.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)()],p.prototype,"banner",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],p.prototype,"localizedDomainName",void 0),(0,o.__decorate)([(0,n.Cb)()],p.prototype,"domain",void 0),(0,o.__decorate)([(0,n.Cb)()],p.prototype,"label",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],p.prototype,"manifest",void 0),p=(0,o.__decorate)([(0,n.Mo)("ha-integration-action-card")],p)},94181:function(t,e,i){i.a(t,async function(t,e){try{i(39710),i(26847),i(81738),i(33480),i(94814),i(29981),i(6989),i(72489),i(67886),i(65451),i(46015),i(38334),i(94880),i(75643),i(29761),i(56389),i(44261),i(27530);var o=i(73742),a=i(59048),n=i(7616),s=i(31733),r=i(28105),l=i(29150),c=i(97050),d=i(72953),h=(i(31138),i(82601),i(993),i(80298)),p=i(84075),u=i(96222),g=i(95814),f=(i(934),t([d,h]));[d,h]=f.then?(await f)():f;let m,_,v,y,b,x,w,$,C,L,z=t=>t;const k="M14 2H6C4.89 2 4 2.9 4 4V20C4 21.11 4.89 22 6 22H18C19.11 22 20 21.11 20 20V8L14 2M18 20H6V4H13V9H18V20M9.54 15.65L11.63 17.74L10.35 19L7 15.65L10.35 12.3L11.63 13.56L9.54 15.65M17 15.65L13.65 19L12.38 17.74L14.47 15.65L12.38 13.56L13.65 12.3L17 15.65Z",M="M2,10.96C1.5,10.68 1.35,10.07 1.63,9.59L3.13,7C3.24,6.8 3.41,6.66 3.6,6.58L11.43,2.18C11.59,2.06 11.79,2 12,2C12.21,2 12.41,2.06 12.57,2.18L20.47,6.62C20.66,6.72 20.82,6.88 20.91,7.08L22.36,9.6C22.64,10.08 22.47,10.69 22,10.96L21,11.54V16.5C21,16.88 20.79,17.21 20.47,17.38L12.57,21.82C12.41,21.94 12.21,22 12,22C11.79,22 11.59,21.94 11.43,21.82L3.53,17.38C3.21,17.21 3,16.88 3,16.5V10.96C2.7,11.13 2.32,11.14 2,10.96M12,4.15V4.15L12,10.85V10.85L17.96,7.5L12,4.15M5,15.91L11,19.29V12.58L5,9.21V15.91M19,15.91V12.69L14,15.59C13.67,15.77 13.3,15.76 13,15.6V19.29L19,15.91M13.85,13.36L20.13,9.73L19.55,8.72L13.27,12.35L13.85,13.36Z",E="M16.36,14C16.44,13.34 16.5,12.68 16.5,12C16.5,11.32 16.44,10.66 16.36,10H19.74C19.9,10.64 20,11.31 20,12C20,12.69 19.9,13.36 19.74,14M14.59,19.56C15.19,18.45 15.65,17.25 15.97,16H18.92C17.96,17.65 16.43,18.93 14.59,19.56M14.34,14H9.66C9.56,13.34 9.5,12.68 9.5,12C9.5,11.32 9.56,10.65 9.66,10H14.34C14.43,10.65 14.5,11.32 14.5,12C14.5,12.68 14.43,13.34 14.34,14M12,19.96C11.17,18.76 10.5,17.43 10.09,16H13.91C13.5,17.43 12.83,18.76 12,19.96M8,8H5.08C6.03,6.34 7.57,5.06 9.4,4.44C8.8,5.55 8.35,6.75 8,8M5.08,16H8C8.35,17.25 8.8,18.45 9.4,19.56C7.57,18.93 6.03,17.65 5.08,16M4.26,14C4.1,13.36 4,12.69 4,12C4,11.31 4.1,10.64 4.26,10H7.64C7.56,10.66 7.5,11.32 7.5,12C7.5,12.68 7.56,13.34 7.64,14M12,4.03C12.83,5.23 13.5,6.57 13.91,8H10.09C10.5,6.57 11.17,5.23 12,4.03M18.92,8H15.97C15.65,6.75 15.19,5.55 14.59,4.44C16.43,5.07 17.96,6.34 18.92,8M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z";class S extends a.oi{render(){const t=this._getState(this.items),e=this.logInfo&&this.logInfo.level===u.WH.DEBUG;return(0,a.dy)(m||(m=z` <ha-card outlined class="${0}"> <a href="${0}" class="ripple-anchor"> <ha-ripple></ha-ripple> <ha-integration-header .hass="${0}" .domain="${0}" .localizedDomainName="${0}" .error="${0}" .warning="${0}" .manifest="${0}"> </ha-integration-header> </a> ${0} </ha-card> `),(0,s.$)({"state-loaded":"loaded"===t,"state-not-loaded":"not_loaded"===t,"state-failed-unload":"failed_unload"===t,"state-setup":"setup_in_progress"===t,"state-error":p.LZ.includes(t),"debug-logging":Boolean(e)}),`/config/integrations/integration/${this.domain}`,this.hass,this.domain,this.items[0].localized_domain_name,p.LZ.includes(t)?this.hass.localize(`ui.panel.config.integrations.config_entry.state.${t}`):void 0,"loaded"===t||p.LZ.includes(t)?e?this.hass.localize("ui.panel.config.integrations.config_entry.debug_logging_enabled"):void 0:this.hass.localize(`ui.panel.config.integrations.config_entry.state.${t}`),this.manifest,this._renderSingleEntry())}_renderSingleEntry(){var t,e;const i=this._getDevices(this.items,this.hass.devices),o=i.length?0:this._getEntityCount(this.items,this.entityRegistryEntries,this.domainEntities),n=!i.some(t=>"service"!==t.entry_type);return(0,a.dy)(_||(_=z` <div class="card-actions"> ${0} <div class="icons"> ${0} ${0} ${0} </div> </div> `),i.length>0?(0,a.dy)(v||(v=z`<ha-button appearance="plain" href="${0}"> ${0} </ha-button>`),1!==i.length||l.S.includes(this.domain)?`/config/devices/dashboard?historyBack=1&domain=${this.domain}`:`/config/devices/device/${i[0].id}`,this.hass.localize("ui.panel.config.integrations.config_entry."+(n?"services":"devices"),{count:i.length})):o>0?(0,a.dy)(y||(y=z`<ha-button appearance="plain" href="${0}"> ${0} </ha-button>`),`/config/entities?historyBack=1&domain=${this.domain}`,this.hass.localize("ui.panel.config.integrations.config_entry.entities",{count:o})):this.items.find(t=>"yaml"!==t.source)?(0,a.dy)(b||(b=z`<ha-button appearance="plain" href="${0}"> ${0} </ha-button>`),`/config/integrations/integration/${this.domain}`,this.hass.localize("ui.panel.config.integrations.config_entry.entries",{count:this.items.filter(t=>"yaml"!==t.source).length})):(0,a.dy)(x||(x=z`<div class="spacer"></div>`)),this.manifest&&!this.manifest.is_built_in?(0,a.dy)(w||(w=z`<span class="icon ${0}"> <ha-tooltip hoist .placement="${0}" .content="${0}"> <ha-svg-icon .path="${0}"></ha-svg-icon> </ha-tooltip> </span>`),this.manifest.overwrites_built_in?"overwrites":"custom",(0,c.HE)(this.hass)?"right":"left",this.hass.localize(this.manifest.overwrites_built_in?"ui.panel.config.integrations.config_entry.custom_overwrites_core":"ui.panel.config.integrations.config_entry.custom_integration"),M):a.Ld,this.manifest&&null!==(t=this.manifest.iot_class)&&void 0!==t&&t.startsWith("cloud_")?(0,a.dy)($||($=z`<div class="icon cloud"> <ha-tooltip hoist .placement="${0}" .content="${0}"> <ha-svg-icon .path="${0}"></ha-svg-icon> </ha-tooltip> </div>`),(0,c.HE)(this.hass)?"right":"left",this.hass.localize("ui.panel.config.integrations.config_entry.depends_on_cloud"),E):a.Ld,!this.manifest||null!==(e=this.manifest)&&void 0!==e&&e.config_flow||this.items.every(t=>"system"===t.source)?a.Ld:(0,a.dy)(C||(C=z`<div class="icon yaml"> <ha-tooltip hoist .placement="${0}" .content="${0}"> <ha-svg-icon .path="${0}"></ha-svg-icon></ha-tooltip> </div>`),(0,c.HE)(this.hass)?"right":"left",this.hass.localize("ui.panel.config.integrations.config_entry.no_config_flow"),k))}static get styles(){return[g.Qx,(0,a.iv)(L||(L=z`ha-card{display:flex;flex-direction:column;justify-content:space-between;height:100%;overflow:hidden;--state-color:var(--divider-color, #e0e0e0);--ha-card-border-color:var(--state-color);--state-message-color:var(--state-color)}.ripple-anchor{flex-grow:1;position:relative;outline:0}.ripple-anchor:focus-visible:before{position:absolute;display:block;content:"";inset:0;background-color:var(--secondary-text-color);opacity:.08}ha-integration-header{height:100%}.card-actions{display:flex;align-items:center;justify-content:space-between}.debug-logging{--state-color:var(--warning-color);--text-on-state-color:var(--primary-text-color)}.state-error{--state-color:var(--error-color);--text-on-state-color:var(--text-primary-color)}.state-failed-unload{--state-color:var(--warning-color);--text-on-state-color:var(--primary-text-color)}.state-not-loaded{opacity:.8;--state-color:var(--warning-color);--state-message-color:var(--primary-text-color)}.state-setup{opacity:.8;--state-message-color:var(--secondary-text-color)}:host(.highlight) ha-card{--state-color:var(--primary-color);--text-on-state-color:var(--text-primary-color)}.content{flex:1;--mdc-list-side-padding-right:20px;--mdc-list-side-padding-left:24px;--mdc-list-item-graphic-margin:24px}a{text-decoration:none;color:var(--primary-text-color)}.icons{display:flex}.icon{color:var(--label-badge-grey);padding:4px;margin-left:8px;margin-inline-start:8px;margin-inline-end:initial}.icon.custom{color:var(--warning-color)}.icon.overwrites{color:var(--error-color)}.icon ha-svg-icon{width:24px;height:24px;display:block}.spacer{height:36px}`))]}constructor(...t){super(...t),this.supportsDiagnostics=!1,this.domainEntities=[],this._getState=(0,r.Z)(t=>{if(1===t.length)return t[0].state;let e;for(const i of t){if(p.LZ.includes(i.state))return i.state;e=i.state}return e}),this._getEntityCount=(0,r.Z)((t,e,i)=>{if(!e)return i.length;const o=t.map(t=>t.entry_id).filter(Boolean);if(!o.length)return i.length;const a=e.filter(t=>t.config_entry_id&&o.includes(t.config_entry_id));if(a.length===i.length)return i.length;const n=new Set(a.map(t=>t.entity_id));for(const s of i)n.add(s);return n.size}),this._getDevices=(0,r.Z)((t,e)=>{if(!e)return[];const i=t.map(t=>t.entry_id);return Object.values(e).filter(t=>t.config_entries.some(t=>i.includes(t)))})}}(0,o.__decorate)([(0,n.Cb)({attribute:!1})],S.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)()],S.prototype,"domain",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],S.prototype,"items",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],S.prototype,"manifest",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],S.prototype,"entityRegistryEntries",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:"supports-diagnostics",type:Boolean})],S.prototype,"supportsDiagnostics",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],S.prototype,"logInfo",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],S.prototype,"domainEntities",void 0),S=(0,o.__decorate)([(0,n.Mo)("ha-integration-card")],S),e()}catch(m){e(m)}})},934:function(t,e,i){var o=i(73742),a=i(59048),n=i(7616),s=(i(5786),i(993),i(96222)),r=i(35580);let l,c,d,h,p=t=>t;class u extends a.oi{render(){var t;const e=this.localizedDomainName||(0,s.Lh)(this.hass.localize,this.domain,this.manifest);return(0,a.dy)(l||(l=p` <div class="header"> <img alt="" src="${0}" crossorigin="anonymous" referrerpolicy="no-referrer" @error="${0}" @load="${0}"> <div class="info"> <div class="primary ${0}" role="heading" aria-level="1"> ${0} </div> ${0} </div> <ha-icon-next class="header-button" .label="${0}"></ha-icon-next> </div> `),(0,r.X1)({domain:this.domain,type:"icon",darkOptimized:null===(t=this.hass.themes)||void 0===t?void 0:t.darkMode}),this._onImageError,this._onImageLoad,this.warning||this.error?"has-secondary":"",e,this.error?(0,a.dy)(c||(c=p` <div class="secondary error"> <ha-svg-icon .path="${0}"></ha-svg-icon> <span>${0}</span> </div> `),"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",this.error):this.warning?(0,a.dy)(d||(d=p` <div class="secondary warning"> <ha-svg-icon .path="${0}"></ha-svg-icon> <span>${0}</span> </div> `),"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",this.warning):a.Ld,this.hass.localize("ui.panel.config.integrations.config_entry.configure"))}_onImageLoad(t){t.target.style.visibility="initial"}_onImageError(t){t.target.style.visibility="hidden"}}u.styles=(0,a.iv)(h||(h=p`.header{display:flex;align-items:center;position:relative;padding-top:16px;padding-bottom:16px;padding-inline-start:16px;padding-inline-end:8px;direction:var(--direction);box-sizing:border-box;min-width:0}.header img{margin-inline-start:initial;margin-inline-end:16px;width:40px;height:40px;direction:var(--direction)}.header .info{position:relative;display:flex;flex-direction:column;flex:1;align-self:center;min-width:0}ha-icon-next{color:var(--secondary-text-color)}.primary{overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;font-size:var(--ha-font-size-l);font-weight:var(--ha-font-weight-normal);color:var(--primary-text-color)}.has-secondary{-webkit-line-clamp:1;font-size:var(--ha-font-size-m)}.secondary{min-width:0;--mdc-icon-size:20px;-webkit-line-clamp:1;font-size:var(--ha-font-size-s);display:flex;flex-direction:row}.secondary>span{position:relative;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.secondary>ha-svg-icon{margin-right:4px;margin-inline-end:4px;margin-inline-start:initial;flex-shrink:0}.error ha-svg-icon{color:var(--error-color)}.warning ha-svg-icon{color:var(--warning-color)}`)),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],u.prototype,"hass",void 0),(0,o.__decorate)([(0,n.Cb)()],u.prototype,"error",void 0),(0,o.__decorate)([(0,n.Cb)()],u.prototype,"warning",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],u.prototype,"localizedDomainName",void 0),(0,o.__decorate)([(0,n.Cb)()],u.prototype,"domain",void 0),(0,o.__decorate)([(0,n.Cb)({attribute:!1})],u.prototype,"manifest",void 0),u=(0,o.__decorate)([(0,n.Mo)("ha-integration-header")],u)},83788:function(t,e,i){i.a(t,async function(t,e){try{i(26847),i(1455),i(27530);"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=(await i.e("89931").then(i.bind(i,11860))).default),e()}catch(o){e(o)}},1)},35580:function(t,e,i){i.d(e,{RU:function(){return a},X1:function(){return o},u4:function(){return n},zC:function(){return s}});i(44261);const o=t=>`https://brands.home-assistant.io/${t.brand?"brands/":""}${t.useFallback?"_/":""}${t.domain}/${t.darkOptimized?"dark_":""}${t.type}.png`,a=t=>`https://brands.home-assistant.io/hardware/${t.category}/${t.darkOptimized?"dark_":""}${t.manufacturer}${t.model?`_${t.model}`:""}.png`,n=t=>t.split("/")[4],s=t=>t.startsWith("https://brands.home-assistant.io/")}}]);
//# sourceMappingURL=8439.5f8ce689fee3993e.js.map