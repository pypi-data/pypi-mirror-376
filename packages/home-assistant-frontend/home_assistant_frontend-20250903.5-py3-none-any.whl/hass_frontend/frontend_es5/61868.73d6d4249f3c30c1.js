"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["61868"],{7460:function(e,i,t){t.r(i);t(40777),t(26847),t(1455),t(27530);var s=t(73742),n=t(7616),r=t(39884),o=t(12116),a=t(20546);class h extends a.g{static async getConfigElement(){return await Promise.all([t.e("73614"),t.e("15634"),t.e("61523"),t.e("40025"),t.e("62496"),t.e("85683")]).then(t.bind(t,93912)),document.createElement("hui-conditional-card-editor")}static getStubConfig(){return{type:"conditional",conditions:[],card:{}}}setConfig(e){if(this.validateConfig(e),!e.card)throw new Error("No card configured");this._element=this._createCardElement(e.card)}getCardSize(){return(0,o.N)(this._element)}_createCardElement(e){const i=document.createElement("hui-card");return i.hass=this.hass,i.preview=this.preview,i.config=e,i.load(),i}setVisibility(e){const i=this.preview||e,t=this.hidden;super.setVisibility(e),t!==this.hidden&&(0,r.B)(this,"card-visibility-changed",{value:i})}}h=(0,s.__decorate)([(0,n.Mo)("hui-conditional-card")],h)},20546:function(e,i,t){t.d(i,{g:function(){return h}});t(44776),t(40777),t(26847),t(81738),t(94814),t(22960),t(27530);var s=t(73742),n=t(59048),r=t(7616),o=t(65829),a=t(91320);class h extends n.fl{createRenderRoot(){return this}validateConfig(e){if(!e.conditions)throw new Error("No conditions configured");if(!Array.isArray(e.conditions))throw new Error("Conditions need to be an array");if(!(0,a.s_)(e.conditions))throw new Error("Conditions are invalid");this.lastChild&&this.removeChild(this.lastChild),this._config=e}disconnectedCallback(){super.disconnectedCallback(),this._clearMediaQueries()}connectedCallback(){super.connectedCallback(),this._listenMediaQueries(),this._updateVisibility()}_clearMediaQueries(){this._listeners.forEach(e=>e()),this._listeners=[]}_listenMediaQueries(){if(!this._config||!this.hass)return;const e=this._config.conditions.filter(e=>"condition"in e),i=(0,a.Oj)(e);if((0,o.v)(i,this._mediaQueries))return;this._clearMediaQueries();const t=this._config.conditions,s=1===t.length&&"condition"in t[0]&&"screen"===t[0].condition&&!!t[0].media_query;this._listeners=(0,a.av)(e,e=>{s?this.setVisibility(e):this._updateVisibility()})}update(e){super.update(e),(e.has("_element")||e.has("_config")||e.has("hass")||e.has("preview"))&&(this._listenMediaQueries(),this._updateVisibility())}_updateVisibility(){if(!this._element||!this.hass||!this._config)return;this._element.preview=this.preview;const e=(0,a.Ec)(this._config.conditions,this.hass);this.setVisibility(e)}setVisibility(e){if(!this._element||!this.hass)return;const i=this.preview||e;this.hidden!==!i&&(this.toggleAttribute("hidden",!i),this.style.setProperty("display",i?"":"none")),i?(this._element.hass=this.hass,this._element.parentElement||this.appendChild(this._element)):this._element.parentElement&&this.removeChild(this._element)}constructor(...e){super(...e),this.preview=!1,this._listeners=[],this._mediaQueries=[]}}(0,s.__decorate)([(0,r.Cb)({attribute:!1})],h.prototype,"hass",void 0),(0,s.__decorate)([(0,r.Cb)({type:Boolean})],h.prototype,"preview",void 0),(0,s.__decorate)([(0,r.SB)()],h.prototype,"_config",void 0),h=(0,s.__decorate)([(0,r.Mo)("hui-conditional-base")],h)}}]);
//# sourceMappingURL=61868.73d6d4249f3c30c1.js.map