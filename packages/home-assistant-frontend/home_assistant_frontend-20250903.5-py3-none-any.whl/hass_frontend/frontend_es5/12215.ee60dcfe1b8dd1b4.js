"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["12215"],{15236:function(i,t,o){o.a(i,async function(i,e){try{o.r(t),o.d(t,{HuiClockCardAnalog:function(){return _}});var a=o(62229),r=(o(81738),o(29981),o(6989),o(87799),o(70820),o(73742)),n=o(59048),c=o(7616),s=o(31733),d=o(13863),l=o(34743),h=i([a,l]);[a,l]=h.then?(await h)():h;let v,g,u,p,k,m,f=i=>i;class _ extends n.oi{_initDate(){var i;if(!this.config||!this.hass)return;let t=this.hass.locale;this.config.time_format&&(t=Object.assign(Object.assign({},t),{},{time_format:this.config.time_format})),this._dateTimeFormat=new Intl.DateTimeFormat(this.hass.locale.language,{hour:"2-digit",minute:"2-digit",second:"2-digit",hourCycle:"h12",timeZone:this.config.time_zone||(0,l.f)(t.time_zone,null===(i=this.hass.config)||void 0===i?void 0:i.time_zone)}),this._tick()}updated(i){if(i.has("hass")){var t;const o=i.get("hass");o&&o.locale===(null===(t=this.hass)||void 0===t?void 0:t.locale)||this._initDate()}}connectedCallback(){super.connectedCallback(),this._startTick()}disconnectedCallback(){super.disconnectedCallback(),this._stopTick()}_startTick(){this._tickInterval=window.setInterval(()=>this._tick(),d.INTERVAL),this._tick()}_stopTick(){this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=void 0)}_tick(){var i,t,o,e;if(!this._dateTimeFormat)return;const a=this._dateTimeFormat.formatToParts(),r=null===(i=a.find(i=>"hour"===i.type))||void 0===i?void 0:i.value,n=null===(t=a.find(i=>"minute"===i.type))||void 0===t?void 0:t.value,c=null===(o=a.find(i=>"second"===i.type))||void 0===o?void 0:o.value,s=r?parseInt(r,10):0,d=n?parseInt(n,10):0,l=c?parseInt(c,10):0;this._hourDeg=30*s+.5*d,this._minuteDeg=6*d+.1*l,this._secondDeg=null!==(e=this.config)&&void 0!==e&&e.show_seconds?6*l:void 0}render(){var i,t,o,e;if(!this.config)return n.Ld;const a=this.config.clock_size?`size-${this.config.clock_size}`:"";return(0,n.dy)(v||(v=f` <div class="analog-clock ${0}" role="img" aria-label="Analog clock"> <div class="${0}"> ${0} <div class="center-dot"></div> <div class="hand hour" style="${0}"></div> <div class="hand minute" style="${0}"></div> ${0} </div> </div> `),a,(0,s.$)({dial:!0,"dial-border":null!==(i=this.config.border)&&void 0!==i&&i}),"quarter"===this.config.ticks?Array.from({length:4},(i,t)=>t).map(i=>(0,n.dy)(g||(g=f` <div aria-hidden class="tick hour" style="${0}"> <div class="line"></div> </div> `),`--tick-rotation: ${90*i}deg;`)):this.config.ticks&&"hour"!==this.config.ticks?"minute"===this.config.ticks?Array.from({length:60},(i,t)=>t).map(i=>(0,n.dy)(p||(p=f` <div aria-hidden class="tick ${0}" style="${0}"> <div class="line"></div> </div> `),i%5==0?"hour":"minute",`--tick-rotation: ${6*i}deg;`)):n.Ld:Array.from({length:12},(i,t)=>t).map(i=>(0,n.dy)(u||(u=f` <div aria-hidden class="tick hour" style="${0}"> <div class="line"></div> </div> `),`--tick-rotation: ${30*i}deg;`)),`--hand-rotation: ${null!==(t=this._hourDeg)&&void 0!==t?t:0}deg;`,`--hand-rotation: ${null!==(o=this._minuteDeg)&&void 0!==o?o:0}deg;`,this.config.show_seconds?(0,n.dy)(k||(k=f`<div class="hand second" style="${0}"></div>`),`--hand-rotation: ${null!==(e=this._secondDeg)&&void 0!==e?e:0}deg;`):n.Ld)}}_.styles=(0,n.iv)(m||(m=f`:host{display:flex;align-items:center;justify-content:center}.analog-clock{--clock-size:100px;display:inline-flex;align-items:center;justify-content:center;width:var(--clock-size);height:var(--clock-size);background:var(--ha-clock-card-analog-face-background,none);border-radius:var(--ha-clock-card-analog-face-border-radius,none);padding:var(--ha-clock-card-analog-face-padding,none)}.analog-clock.size-medium{--clock-size:160px}.analog-clock.size-large{--clock-size:220px}.dial{position:relative;width:100%;height:100%;box-sizing:border-box}.dial-border{border:2px solid var(--divider-color);border-radius:50%}.tick{position:absolute;top:0;left:0;width:100%;height:100%;transform:rotate(var(--tick-rotation));pointer-events:none;z-index:0}.tick .line{position:absolute;top:0;left:50%;transform:translateX(-50%);width:1px;height:calc(var(--clock-size) * .04);background:var(--primary-text-color);opacity:.5;border-radius:1px}.tick.hour .line{width:2px;height:calc(var(--clock-size) * .07);opacity:.8}.center-dot{position:absolute;top:50%;left:50%;width:8px;height:8px;border-radius:50%;background:var(--primary-text-color);transform:translate(-50%,-50%);z-index:3}.hand{position:absolute;left:50%;bottom:50%;transform-origin:50% 100%;transform:translate(-50%,0) rotate(var(--hand-rotation,0deg));background:var(--primary-text-color);border-radius:2px;will-change:transform}.hand.hour{width:4px;height:calc(var(--clock-size) * .25);background:var(--primary-text-color);box-shadow:0 0 8px 0 rgba(0,0,0,.2);z-index:1}.hand.minute{width:3px;height:calc(var(--clock-size) * .35);background:var(--primary-text-color);box-shadow:0 0 6px 0 rgba(0,0,0,.2);opacity:.9;z-index:3}.hand.second{width:2px;height:calc(var(--clock-size) * .42);background:var(--ha-color-border-danger-normal);box-shadow:0 0 4px 0 rgba(0,0,0,.2);opacity:.8;z-index:2}`)),(0,r.__decorate)([(0,c.Cb)({attribute:!1})],_.prototype,"hass",void 0),(0,r.__decorate)([(0,c.Cb)({attribute:!1})],_.prototype,"config",void 0),(0,r.__decorate)([(0,c.SB)()],_.prototype,"_dateTimeFormat",void 0),(0,r.__decorate)([(0,c.SB)()],_.prototype,"_hourDeg",void 0),(0,r.__decorate)([(0,c.SB)()],_.prototype,"_minuteDeg",void 0),(0,r.__decorate)([(0,c.SB)()],_.prototype,"_secondDeg",void 0),_=(0,r.__decorate)([(0,c.Mo)("hui-clock-card-analog")],_),e()}catch(v){e(v)}})}}]);
//# sourceMappingURL=12215.ee60dcfe1b8dd1b4.js.map