/*! For license information please see 3447.072b276bca8ec48a.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([["3447"],{58125:function(e,t,n){n.d(t,{wZ:function(){return r},jL:function(){return o},sU:function(){return c}});n(26847),n(81738),n(94814),n(6989),n(20655),n(27530);var i=n(28105),a=n(15459);n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761);const o=e=>{var t;return null===(t=e.name_by_user||e.name)||void 0===t?void 0:t.trim()},r=(e,t,n)=>o(e)||n&&s(t,n)||t.localize("ui.panel.config.devices.unnamed_device",{type:t.localize(`ui.panel.config.devices.type.${e.entry_type||"device"}`)}),s=(e,t)=>{for(const n of t||[]){const t="string"==typeof n?n:n.entity_id,i=e.states[t];if(i)return(0,a.C)(i)}},c=(0,i.Z)(e=>function(e){const t=new Set,n=new Set;for(const i of e)n.has(i)?t.add(i):n.add(i);return t}(Object.values(e).map(e=>o(e)).filter(e=>void 0!==e)))},61981:function(e,t,n){n.d(t,{K:function(){return r},T:function(){return s}});var i=n(58125),a=n(15459),o=n(55107);const r=(e,t)=>{const n=t.entities[e.entity_id];return n?s(n,t):(0,a.C)(e)},s=(e,t)=>{const n=e.name||("original_name"in e&&null!=e.original_name?String(e.original_name):void 0),r=e.device_id?t.devices[e.device_id]:void 0;if(!r){if(n)return n;const i=t.states[e.entity_id];return i?(0,a.C)(i):void 0}const s=(0,i.jL)(r);if(s!==n)return s&&n&&(0,o.N)(n,s)||n}},29746:function(e,t,n){n.d(t,{KX:function(){return s},Q8:function(){return a},jL:function(){return r},lv:function(){return i},x8:function(){return o}});n(26847),n(2394),n(67886),n(65451),n(46015),n(38334),n(94880),n(75643),n(29761),n(27530);const i=["lights","climate","security","media_players"],a={lights:"mdi:lamps",climate:"mdi:home-thermometer",security:"mdi:security",media_players:"mdi:multimedia"},o={lights:[{domain:"light",entity_category:"none"}],climate:[{domain:"climate",entity_category:"none"},{domain:"humidifier",entity_category:"none"},{domain:"fan",entity_category:"none"},{domain:"water_heater",entity_category:"none"},{domain:"cover",device_class:["awning","blind","curtain","shade","shutter","window","none"],entity_category:"none"},{domain:"binary_sensor",device_class:["window"],entity_category:"none"}],security:[{domain:"camera",entity_category:"none"},{domain:"alarm_control_panel",entity_category:"none"},{domain:"lock",entity_category:"none"},{domain:"cover",device_class:["door","garage","gate"],entity_category:"none"},{domain:"binary_sensor",device_class:["door","garage_door","motion"],entity_category:"none"}],media_players:[{domain:"media_player",entity_category:"none"}]},r=(e,t)=>{const n=new Set,i=[];for(const a of t)for(const t of e)a(t)&&!n.has(t)&&(n.add(t),i.push(t));return i},s=(e,t)=>e(`ui.panel.lovelace.strategy.home.summary_list.${t}`)},7108:function(e,t,n){n.a(e,async function(e,i){try{n.r(t),n.d(t,{HomeAreaViewStrategy:function(){return _}});n(40777),n(24674),n(39710),n(26847),n(2394),n(44438),n(20678),n(81738),n(94814),n(6989),n(93190),n(87799),n(1455),n(56389),n(27530);var a=n(73742),o=n(59048),r=n(7616),s=n(58125),c=n(61981),d=n(51574),l=n(68626),u=n(99144),y=n(43680),f=n(29746),m=e([y]);y=(m.then?(await m)():m)[0];const g=(e,t,n)=>({type:"heading",heading:e,icon:t,tap_action:n?{action:"navigate",navigation_path:n}:void 0});class _ extends o.fl{static async generate(e,t){if(!e.area)throw new Error("Area not provided");const n=t.areas[e.area];if(!n)throw new Error("Unknown area");const i=[],a=[];n.temperature_entity_id&&a.push({entity:n.temperature_entity_id,type:"entity",color:"red"}),n.humidity_entity_id&&a.push({entity:n.humidity_entity_id,type:"entity",color:"indigo"});const o=(0,y.cK)(t,n.name,!0),r=(0,l.$)(t,{area:e.area}),m=Object.keys(t.states).filter(r),_=f.lv.reduce((e,n)=>{const i=f.x8[n].map(e=>(0,l.$)(t,e));return e[n]=(0,f.jL)(m,i),e},{}),{lights:h,climate:p,security:v,media_players:w}=_;h.length>0&&i.push({type:"grid",cards:[g((0,f.KX)(t.localize,"lights"),f.Q8.lights,"lights"),...h.map(o)]}),p.length>0&&i.push({type:"grid",cards:[g((0,f.KX)(t.localize,"climate"),f.Q8.climate,"climate"),...p.map(o)]}),v.length>0&&i.push({type:"grid",cards:[g((0,f.KX)(t.localize,"security"),f.Q8.security,"security"),...v.map(o)]}),w.length>0&&i.push({type:"grid",cards:[g((0,f.KX)(t.localize,"media_players"),f.Q8.media_players,"media-players"),...w.map(o)]});const b=[],k=Object.values(_).flat(),j=m.filter(e=>!k.includes(e)),z={},K=[];for(const s of j){const e=t.states[s];if(!e)continue;const{device:n}=(0,d.U)(e,t);n?(n.id in z||(z[n.id]=[]),z[n.id].push(s)):K.push(s)}const X=Object.entries(z).map(([e,t])=>({device_id:e,entities:t}));K.length>0&&X.push({device_id:"unassigned",entities:K});const $=(0,l.$)(t,{domain:"sensor",device_class:"battery"}),x=(0,l.$)(t,{domain:"sensor",device_class:["energy","power"]}),L=(0,l.$)(t,{entity_category:"none"});for(const d of X){if(0===d.entities.length)continue;const e=d.entities.filter(e=>$(e)),n=d.entities.filter(e=>!$(e)&&!x(e)&&L(e));if(0===n.length)continue;const i=d.device_id,a=t.devices[i];let r="";r=a?(0,s.jL)(a)||t.localize("ui.panel.lovelace.strategy.home.unamed_device"):t.localize("ui.panel.lovelace.strategy.home.others"),b.push({type:"grid",cards:[{type:"heading",heading:r,tap_action:a?{action:"navigate",navigation_path:`/config/devices/device/${a.id}`}:void 0,badges:[...e.slice(0,1).map(e=>({entity:e,type:"entity",tap_action:{action:"more-info"}}))]},...n.map(e=>{const n=t.states[e];return Object.assign(Object.assign({},o(e)),{},{name:(0,c.K)(n,t)||(a?(0,s.jL)(a):"")})})]})}b.length>0&&(i.push({type:"grid",column_span:3,cards:[{type:"heading",heading_style:"subtitle",heading:""}]}),i.push(...b));const O=(0,u.u)(i.length,2,3);return 1===i.length&&(i[0].column_span=2),{type:"sections",header:{badges_position:"bottom"},max_columns:O,sections:i,badges:a}}}_=(0,a.__decorate)([(0,r.Mo)("home-area-view-strategy")],_),i()}catch(g){i(g)}})},18514:function(e,t,n){var i=n(77341),a=n(45249),o=n(82250);i({target:"Object",stat:!0},{fromEntries:function(e){var t={};return a(e,function(e,n){o(t,e,n)},{AS_ENTRIES:!0}),t}})},88245:function(e,t,n){n.d(t,{r:function(){return s}});n(40777),n(26847),n(27530);var i=n(35340),a=n(83522),o=n(5277);const r=(e,t,n)=>{const i=new Map;for(let a=t;a<=n;a++)i.set(e[a],a);return i},s=(0,a.XM)(class extends a.Xe{dt(e,t,n){let i;void 0===n?n=t:void 0!==t&&(i=t);const a=[],o=[];let r=0;for(const s of e)a[r]=i?i(s,r):r,o[r]=n(s,r),r++;return{values:o,keys:a}}render(e,t,n){return this.dt(e,t,n).values}update(e,[t,n,a]){var s;const c=(0,o.i9)(e),{values:d,keys:l}=this.dt(t,n,a);if(!Array.isArray(c))return this.ut=l,d;const u=null!==(s=this.ut)&&void 0!==s?s:this.ut=[],y=[];let f,m,g=0,_=c.length-1,h=0,p=d.length-1;for(;g<=_&&h<=p;)if(null===c[g])g++;else if(null===c[_])_--;else if(u[g]===l[h])y[h]=(0,o.fk)(c[g],d[h]),g++,h++;else if(u[_]===l[p])y[p]=(0,o.fk)(c[_],d[p]),_--,p--;else if(u[g]===l[p])y[p]=(0,o.fk)(c[g],d[p]),(0,o._Y)(e,y[p+1],c[g]),g++,p--;else if(u[_]===l[h])y[h]=(0,o.fk)(c[_],d[h]),(0,o._Y)(e,c[g],c[_]),_--,h++;else if(void 0===f&&(f=r(l,h,p),m=r(u,g,_)),f.has(u[g]))if(f.has(u[_])){const t=m.get(l[h]),n=void 0!==t?c[t]:null;if(null===n){const t=(0,o._Y)(e,c[g]);(0,o.fk)(t,d[h]),y[h]=t}else y[h]=(0,o.fk)(n,d[h]),(0,o._Y)(e,c[g],n),c[t]=null;h++}else(0,o.ws)(c[_]),_--;else(0,o.ws)(c[g]),g++;for(;h<=p;){const t=(0,o._Y)(e,y[p+1]);(0,o.fk)(t,d[h]),y[h++]=t}for(;g<=_;){const e=c[g++];null!==e&&(0,o.ws)(e)}return this.ut=l,(0,o.hl)(e,y),i.Jb}constructor(e){if(super(e),e.type!==a.pX.CHILD)throw Error("repeat() can only be used in text expressions")}})}}]);
//# sourceMappingURL=3447.072b276bca8ec48a.js.map