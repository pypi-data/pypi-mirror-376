# This is the httpd(8) configuration file for an example installation
# server.  This example does not utilize TLS, as obtaining a valid TLS
# certificate for the example.com domain is impractical.

server "install.example.com" {
    listen on 0.0.0.0 port 8080

    root "/install.example.com"
    directory index "index.html"

    # The installer does not support basic authentication for the
    # "secret location" sets directory. To enhance security, consider
    # using a difficult-to-guess directory name generated by
    # uuidgen(1).
    location "/deadbeef/*" {
        directory auto index
        root "/install.example.com/sets/"
	request strip 1
	no authenticate
    }

    # Response files contain the path to the "secret sets directory,"
    # so we should consider securing them with a password.
    location "/*" {
        directory auto index
	root "/install.example.com/resp/"
	authenticate with "/install.example.com/htpasswd"
    }
}
