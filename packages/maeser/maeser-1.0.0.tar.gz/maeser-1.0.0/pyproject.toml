# For helpful information on the sections and fields in this file, see https://python-poetry.org/docs/pyproject/

### Vanilla Python Project Specifications ###

[project]
name = "maeser"
version = "1.0.0"
description = "A package for building RAG chatbot applications for educational contexts."
authors = [
    { name = "Ayden Bales", email = "aydenmb@byu.edu" },
    { name = "Adam Sandland", email = "adam@sandland.org" },
]
license = { text = "LGPL-3.0-or-later" }
readme = "README.md"
keywords = [ "maeser", "chatbot", "llm", "AI", "Retrieval Augmented Generation", "RAG", "education" ]
requires-python = ">=3.10"

# the fields specified in 'dynamic' will be populated from the corresponding fields in the [tool.poetry] sections
dynamic = [
    "classifiers",
    "dependencies",
]

# URLs to be displayed on PyPI
[project.urls]
repository = "https://github.com/byu-cpe/Maeser"
documentation = "https://byu-cpe.github.io/Maeser/"

# Optional dependencies, installed with `pip install maeser[dependency_group]`
[project.optional-dependencies]
# For everything in the admin_portal directory
admin_portal = [
    "PyMuPDF>=1.26.3,<2.0.0",
    "pymupdf4llm>=0.0.27,<1.0.0",
]
# For example_handlers/discord_handler.py
discord = [
    "discord.py>=2.5.2,<3.0.0",
]

### Poetry Project Specifications ###

[tool.poetry]
include = [
    "maeser/data/*",
    "maeser/data/templates/*",
    "maeser/data/static/*",
]

# Trove classifiers used by PyPI for categorization; see https://pypi.org/classifiers/
classifiers = [
    "Development Status :: 3 - Alpha",
    "Environment :: Console",
    "Environment :: Web Environment",
    "Framework :: Flask",
    "Intended Audience :: Education",
    "Intended Audience :: Developers",
    "Natural Language :: English",
    "Operating System :: OS Independent",
    "Topic :: Communications :: Chat",
    "Topic :: Education :: Computer Aided Instruction (CAI)",
    "Topic :: Scientific/Engineering :: Artificial Intelligence",
    "Topic :: Software Development :: Libraries :: Application Frameworks",
]

# Dependencies required by your project
[tool.poetry.dependencies]
# Specify where your Python interpreter is located
# Replace with your Python version if different
python = ">=3.10,<4.0"

# Langchain libraries for text processing and embeddings
langchain = "^0.2.17"
langchain_core = "^0.2.43"
langchain_community = "^0.2.19"
langchain_openai = "^0.1.25"
langchain-text-splitters = "^0.2.4"
langgraph = "^0.1.19"

# Tiktoken library used by maeser/graphs/universal_rag.py
tiktoken = "^0.9.0"

# FAISS for vector stores (CPU version by default, GPU as optional)
# pip install maeser[gpu] for the GPU variant
faiss-cpu = "^1.8.0.post1"

# Web backend
flask = "^3.0.3"
flask-login = "^0.6.3"

# Ldap3 for alternative authentication purposes
ldap3 = "^2.9.1"

# Turning markdown into HTML for display
markdown = "^3.6"
pymdown-extensions = "^10.8.1"
markdownify = "^0.14.1"

# Configuration
pyYAML = "^6.0.1"

# For HTTP requests
requests = "^2.32.3"

# Declare your project's development dependencies here
[tool.poetry.group.dev.dependencies]
# Libraries used by scripts in example directory
Wikipedia-API = "^0.8.1"
PyInputPlus = "^0.2.12"

# Pytest for testing Maeser
pytest = "^8.2"

# Unit testing
ragas = "^0.1.10"

# Documentation Dependencies
[tool.poetry.group.docs.dependencies]
sphinx = "^7.2.6"
sphinx_rtd_theme = "^2.0.0"
sphinx-book-theme = "^1.1.3"
myst_parser = "^3.0.1"
sphinx-copybutton = "^0.5.2"
sphinxcontrib-mermaid = "^1.0.0"

# Build system configuration
[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"
