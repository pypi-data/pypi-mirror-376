{"ast":null,"code":"import _toConsumableArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _defineProperty from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _slicedToArray from\"/home/runner/work/inference/inference/xinference/ui/web/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{AddCircle}from'@mui/icons-material';import DeleteIcon from'@mui/icons-material/Delete';import{Box,IconButton,Snackbar,TextField}from'@mui/material';import React,{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddValue=function AddValue(_ref){var customData=_ref.customData,pairData=_ref.pairData,onGetArr=_ref.onGetArr,onJudgeArr=_ref.onJudgeArr;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openSnackbar=_useState2[0],setOpenSnackbar=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),arr=_useState4[0],setArr=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),arrId=_useState6[0],setArrId=_useState6[1];useEffect(function(){onGetArr(arr);},[arr]);useEffect(function(){if(!Array.isArray(pairData))return;var dataArr=[];pairData.forEach(function(item,index){dataArr.push(_defineProperty({id:index},customData.value,item));});setArrId(pairData.length);setArr(dataArr);},[pairData]);var updateArr=function updateArr(index,type,newValue){setArr(arr.map(function(pair,subIndex){if(subIndex===index){return _objectSpread(_objectSpread({},pair),{},_defineProperty({},type,newValue));}return pair;}));};var handleDeleteArr=function handleDeleteArr(index){setArr(arr.filter(function(_,subIndex){return index!==subIndex;}));onGetArr(arr);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',margin:'20px 0 0 15px'},children:[/*#__PURE__*/_jsx(\"div\",{children:customData.title}),/*#__PURE__*/_jsx(IconButton,{color:\"primary\",onClick:function onClick(){setArrId(arrId+1);var obj={id:arrId};obj[customData.value]='';onJudgeArr(arr,[customData.value])?setArr([].concat(_toConsumableArray(arr),[obj])):setOpenSnackbar(true);},children:/*#__PURE__*/_jsx(AddCircle,{})})]}),/*#__PURE__*/_jsx(Box,{children:arr.map(function(item,index){return/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center',marginTop:'10px',marginLeft:'10px'},children:[/*#__PURE__*/_jsx(TextField,{className:\"textHighlight\",label:customData.value,value:item[customData.value],onChange:function onChange(e){updateArr(index,customData.value,e.target.value);},fullWidth:true}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",onClick:function onClick(){return handleDeleteArr(index);},style:{marginLeft:'10px'},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})},item.id);})})]}),/*#__PURE__*/_jsx(Snackbar,{anchorOrigin:{vertical:'top',horizontal:'center'},open:openSnackbar,onClose:function onClose(){return setOpenSnackbar(false);},message:\"Please fill in the complete parameters before adding!!\"},'top'+'center')]});};export default AddValue;","map":{"version":3,"names":["AddCircle","DeleteIcon","Box","IconButton","Snackbar","TextField","React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","AddValue","_ref","customData","pairData","onGetArr","onJudgeArr","_useState","_useState2","_slicedToArray","openSnackbar","setOpenSnackbar","_useState3","_useState4","arr","setArr","_useState5","_useState6","arrId","setArrId","Array","isArray","dataArr","forEach","item","index","push","_defineProperty","id","value","length","updateArr","type","newValue","map","pair","subIndex","_objectSpread","handleDeleteArr","filter","_","children","style","display","alignItems","margin","title","color","onClick","obj","concat","_toConsumableArray","justifyContent","marginTop","marginLeft","className","label","onChange","e","target","fullWidth","anchorOrigin","vertical","horizontal","open","onClose","message"],"sources":["/home/runner/work/inference/inference/xinference/ui/web/ui/src/scenes/launch_model/components/addValue.js"],"sourcesContent":["import { AddCircle } from '@mui/icons-material'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport { Box, IconButton, Snackbar, TextField } from '@mui/material'\nimport React, { useEffect, useState } from 'react'\n\nconst AddValue = ({ customData, pairData, onGetArr, onJudgeArr }) => {\n  const [openSnackbar, setOpenSnackbar] = useState(false)\n  const [arr, setArr] = useState([])\n  const [arrId, setArrId] = useState(0)\n\n  useEffect(() => {\n    onGetArr(arr)\n  }, [arr])\n\n  useEffect(() => {\n    if (!Array.isArray(pairData)) return\n    const dataArr = []\n    pairData.forEach((item, index) => {\n      dataArr.push({\n        id: index,\n        [customData.value]: item,\n      })\n    })\n    setArrId(pairData.length)\n    setArr(dataArr)\n  }, [pairData])\n\n  const updateArr = (index, type, newValue) => {\n    setArr(\n      arr.map((pair, subIndex) => {\n        if (subIndex === index) {\n          return { ...pair, [type]: newValue }\n        }\n        return pair\n      })\n    )\n  }\n\n  const handleDeleteArr = (index) => {\n    setArr(\n      arr.filter((_, subIndex) => {\n        return index !== subIndex\n      })\n    )\n    onGetArr(arr)\n  }\n\n  return (\n    <div>\n      <Box>\n        <div\n          style={{\n            display: 'flex',\n            alignItems: 'center',\n            margin: '20px 0 0 15px',\n          }}\n        >\n          <div>{customData.title}</div>\n          <IconButton\n            color=\"primary\"\n            onClick={() => {\n              setArrId(arrId + 1)\n              let obj = { id: arrId }\n              obj[customData.value] = ''\n              onJudgeArr(arr, [customData.value])\n                ? setArr([...arr, obj])\n                : setOpenSnackbar(true)\n            }}\n          >\n            <AddCircle />\n          </IconButton>\n        </div>\n        <Box>\n          {arr.map((item, index) => {\n            return (\n              <Box key={item.id}>\n                <div\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'space-between',\n                    alignItems: 'center',\n                    marginTop: '10px',\n                    marginLeft: '10px',\n                  }}\n                >\n                  <TextField\n                    className=\"textHighlight\"\n                    label={customData.value}\n                    value={item[customData.value]}\n                    onChange={(e) => {\n                      updateArr(index, customData.value, e.target.value)\n                    }}\n                    fullWidth\n                  />\n                  <IconButton\n                    aria-label=\"delete\"\n                    onClick={() => handleDeleteArr(index)}\n                    style={{ marginLeft: '10px' }}\n                  >\n                    <DeleteIcon />\n                  </IconButton>\n                </div>\n              </Box>\n            )\n          })}\n        </Box>\n      </Box>\n      <Snackbar\n        anchorOrigin={{ vertical: 'top', horizontal: 'center' }}\n        open={openSnackbar}\n        onClose={() => setOpenSnackbar(false)}\n        message=\"Please fill in the complete parameters before adding!!\"\n        key={'top' + 'center'}\n      />\n    </div>\n  )\n}\n\nexport default AddValue\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}