[project]
name = "minecraft-datapack-language"         # REQUIRED
dynamic = ["version"]                         # version comes from setuptools-scm
description = "Compile MDL language with explicit scoping into a Minecraft datapack (1.21+ ready). Features variables, control flow, error handling, and VS Code extension."
readme = "README.md"
requires-python = ">=3.9"
dependencies = [
    "mecha>=0.99.0",
]

classifiers = [
  "Programming Language :: Python :: 3",
  "License :: OSI Approved :: MIT License",
  "Operating System :: OS Independent",
]

[project.urls]
Homepage = "https://www.mcmdl.com"
Documentation = "https://www.mcmdl.com/docs"
Repository = "https://github.com/aaron777collins/MinecraftDatapackLanguage"
"Bug Tracker" = "https://github.com/aaron777collins/MinecraftDatapackLanguage/issues"
"VS Code Extension" = "https://marketplace.visualstudio.com/items?itemName=mdl.minecraft-datapack-language"

[project.optional-dependencies]
dev = [
    "pytest>=7.0.0",
    "pytest-cov>=4.0.0",
]

[tool.setuptools_scm]
version_scheme = "post-release"
local_scheme   = "no-local-version"
write_to = "minecraft_datapack_language/_version.py"   # you said you enabled this

[build-system]
requires = ["setuptools>=61", "setuptools-scm>=8", "wheel", "build"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
package-dir = {"" = "."}
include-package-data = true

[tool.setuptools.packages.find]
include = ["minecraft_datapack_language*"]
exclude = ["dist*", "build*", "scripts*", "tools*", "vscode-extension*", "tests*", "examples*", ".*", "tmp_*", "dist_nesting_test*"]

[tool.setuptools.package-data]
"minecraft_datapack_language" = [
    "_embedded/docs/**/*",
    "_embedded/docs_site/**/*",
    "completions/*",
]

[project.scripts]
mdl = "minecraft_datapack_language.cli:main"
mdlbeta = "minecraft_datapack_language.cli:main"