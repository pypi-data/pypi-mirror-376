(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[7266],{92173:function(t){"use strict";var e,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!==t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,o),n(r)}function o(){"function"===typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}p(t,e,o,{once:!0}),"error"!==e&&function(t,e,r){"function"===typeof t.on&&p(t,"error",e,r)}(t,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function l(t){if("function"!==typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var i,o,s,f;if(l(r),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),void 0===s)s=o[e]=r,++t._eventsCount;else if("function"===typeof s?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=h(t))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,f=a,console&&console.warn&&console.warn(f)}return t}function a(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=a.bind(n);return i.listener=r,n.wrapFn=i,i}function u(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):v(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function v(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function p(t,e,r,n){if("function"===typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!==typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){n.once&&t.removeEventListener(e,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!==typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return h(this)},o.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var l=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw l.context=s,l}var h=o[t];if(void 0===h)return!1;if("function"===typeof h)n(h,this,e);else{var f=h.length,a=v(h,f);for(r=0;r<f;++r)n(a[r],this,e)}return!0},o.prototype.addListener=function(t,e){return f(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return f(this,t,e,!0)},o.prototype.once=function(t,e){return l(e),this.on(t,c(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return l(e),this.prependListener(t,c(this,t,e)),this},o.prototype.removeListener=function(t,e){var r,n,i,o,s;if(l(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},o.prototype.listeners=function(t){return u(this,t,!0)},o.prototype.rawListeners=function(t){return u(this,t,!1)},o.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},o.prototype.listenerCount=g,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},97142:function(t){"use strict";t.exports=function(t,e,r){var n=e||0,i=r||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},1315:function(t){"use strict";t.exports=function t(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(e)){if((n=e.length)!=r.length)return!1;for(i=n;0!==i--;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((n=(o=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!==i--;){var s=o[i];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}},83491:function(t,e,r){"use strict";var n=r(24968);t.exports=function(t){var e=typeof t;if("string"===e){var r=t;if(0===(t=+t)&&n(r))return!1}else if("number"!==e)return!1;return t-t<1}},87646:function(t,e,r){"use strict";t.exports=function(t,e,r){switch(arguments.length){case 0:return new s([0],[0],0);case 1:return"number"===typeof t?new s(n=h(t),n,0):new s(t,h(t.length),0);case 2:var n;if("number"===typeof e)return new s(t,n=h(t.length),+e);r=0;case 3:if(t.length!==e.length)throw new Error("state and velocity lengths must match");return new s(t,e,r)}};var n=r(37234),i=r(37656);function o(t,e,r){return Math.min(e,Math.max(t,r))}function s(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n<this.dimension;++n)this.bounds[0][n]=-1/0,this.bounds[1][n]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var l=s.prototype;function h(t){for(var e=new Array(t),r=0;r<t;++r)e[r]=0;return e}l.flush=function(t){var e=i.gt(this._time,t)-1;e<=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},l.curve=function(t){var e=this._time,r=e.length,s=i.le(e,t),l=this._scratch[0],h=this._state,f=this._velocity,a=this.dimension,c=this.bounds;if(s<0)for(var u=a-1,g=0;g<a;++g,--u)l[g]=h[u];else if(s>=r-1){u=h.length-1;var v=t-e[r-1];for(g=0;g<a;++g,--u)l[g]=h[u]+v*f[u]}else{u=a*(s+1)-1;var p=e[s],_=e[s+1]-p||1,y=this._scratch[1],d=this._scratch[2],m=this._scratch[3],w=this._scratch[4],b=!0;for(g=0;g<a;++g,--u)y[g]=h[u],m[g]=f[u]*_,d[g]=h[u+a],w[g]=f[u+a]*_,b=b&&y[g]===d[g]&&m[g]===w[g]&&0===m[g];if(b)for(g=0;g<a;++g)l[g]=y[g];else n(y,m,d,w,(t-p)/_,l)}var x=c[0],k=c[1];for(g=0;g<a;++g)l[g]=o(x[g],k[g],l[g]);return l},l.dcurve=function(t){var e=this._time,r=e.length,o=i.le(e,t),s=this._scratch[0],l=this._state,h=this._velocity,f=this.dimension;if(o>=r-1)for(var a=l.length-1,c=(e[r-1],0);c<f;++c,--a)s[c]=h[a];else{a=f*(o+1)-1;var u=e[o],g=e[o+1]-u||1,v=this._scratch[1],p=this._scratch[2],_=this._scratch[3],y=this._scratch[4],d=!0;for(c=0;c<f;++c,--a)v[c]=l[a],_[c]=h[a]*g,p[c]=l[a+f],y[c]=h[a+f]*g,d=d&&v[c]===p[c]&&_[c]===y[c]&&0===_[c];if(d)for(c=0;c<f;++c)s[c]=0;else{n.derivative(v,_,p,y,(t-u)/g,s);for(c=0;c<f;++c)s[c]/=g}}return s},l.lastT=function(){var t=this._time;return t[t.length-1]},l.stable=function(){for(var t=this._velocity,e=t.length,r=this.dimension-1;r>=0;--r)if(t[--e])return!1;return!0},l.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,i=this._velocity,s=n.length-this.dimension,l=this.bounds,h=l[0],f=l[1];this._time.push(e,t);for(var a=0;a<2;++a)for(var c=0;c<r;++c)n.push(n[s++]),i.push(0);this._time.push(t);for(c=r;c>0;--c)n.push(o(h[c-1],f[c-1],arguments[c])),i.push(0)}},l.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t<e||arguments.length!==r+1)){var n=this._state,i=this._velocity,s=n.length-this.dimension,l=t-e,h=this.bounds,f=h[0],a=h[1],c=l>1e-6?1/l:0;this._time.push(t);for(var u=r;u>0;--u){var g=o(f[u-1],a[u-1],arguments[u]);n.push(g),i.push((g-n[s++])*c)}}},l.set=function(t){var e=this.dimension;if(!(t<this.lastT()||arguments.length!==e+1)){var r=this._state,n=this._velocity,i=this.bounds,s=i[0],l=i[1];this._time.push(t);for(var h=e;h>0;--h)r.push(o(s[h-1],l[h-1],arguments[h])),n.push(0)}},l.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t<=e||arguments.length!==r+1)){var n=this._state,i=this._velocity,s=n.length-this.dimension,l=this.bounds,h=l[0],f=l[1],a=t-e,c=a>1e-6?1/a:0;this._time.push(t);for(var u=r;u>0;--u){var g=arguments[u];n.push(o(h[u-1],f[u-1],n[s++]+g)),i.push(g*c)}}},l.idle=function(t){var e=this.lastT();if(!(t<e)){var r=this.dimension,n=this._state,i=this._velocity,s=n.length-r,l=this.bounds,h=l[0],f=l[1],a=t-e;this._time.push(t);for(var c=r-1;c>=0;--c)n.push(o(h[c],f[c],n[s]+a*i[s])),i.push(0),s+=1}}},37656:function(t){"use strict";function e(t,e,r,n,i,o){var s=["function ",t,"(a,l,h,",n.join(","),"){",o?"":"var i=",r?"l-1":"h+1",";while(l<=h){var m=(l+h)>>>1,x=a",i?".get(m)":"[m]"];return o?e.indexOf("c")<0?s.push(";if(x===y){return m}else if(x<=y){"):s.push(";var p=c(x,y);if(p===0){return m}else if(p<=0){"):s.push(";if(",e,"){i=m;"),r?s.push("l=m+1}else{h=m-1}"):s.push("h=m-1}else{l=m+1}"),s.push("}"),o?s.push("return -1};"):s.push("return i};"),s.join("")}function r(t,r,n,i){return new Function([e("A","x"+t+"y",r,["y"],!1,i),e("B","x"+t+"y",r,["y"],!0,i),e("P","c(x,y)"+t+"0",r,["y","c"],!1,i),e("Q","c(x,y)"+t+"0",r,["y","c"],!0,i),"function dispatchBsearch",n,"(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch",n].join(""))()}t.exports={ge:r(">=",!1,"GE"),gt:r(">",!1,"GT"),lt:r("<",!0,"LT"),le:r("<=",!0,"LE"),eq:r("-",!0,"EQ",!0)}},88927:function(t,e,r){var n=r(76081);t.exports=function(t,e,r){if(!t)throw new TypeError("must specify data as first parameter");if(r=0|+(r||0),Array.isArray(t)&&t[0]&&"number"===typeof t[0][0]){var i,o,s,l,h=t[0].length,f=t.length*h;e&&"string"!==typeof e||(e=new(n(e||"float32"))(f+r));var a=e.length-r;if(f!==a)throw new Error("source length "+f+" ("+h+"x"+t.length+") does not match destination length "+a);for(i=0,s=r;i<t.length;i++)for(o=0;o<h;o++)e[s++]=null===t[i][o]?NaN:t[i][o]}else if(e&&"string"!==typeof e)e.set(t,r);else{var c=n(e||"float32");if(Array.isArray(t)||"array"===e)for(i=0,s=r,l=(e=new c(t.length+r)).length;s<l;s++,i++)e[s]=null===t[i]?NaN:t[i];else 0===r?e=new c(t):(e=new c(t.length+r)).set(t,r)}return e}},78352:function(t,e,r){"use strict";var n=r(6293),i=[32,126];t.exports=function(t){var e=(t=t||{}).shape?t.shape:t.canvas?[t.canvas.width,t.canvas.height]:[512,512],r=t.canvas||document.createElement("canvas"),o=t.font,s="number"===typeof t.step?[t.step,t.step]:t.step||[32,32],l=t.chars||i;o&&"string"!==typeof o&&(o=n(o));if(Array.isArray(l)){if(2===l.length&&"number"===typeof l[0]&&"number"===typeof l[1]){for(var h=[],f=l[0],a=0;f<=l[1];f++)h[a++]=String.fromCharCode(f);l=h}}else l=String(l).split("");e=e.slice(),r.width=e[0],r.height=e[1];var c=r.getContext("2d");c.fillStyle="#000",c.fillRect(0,0,r.width,r.height),c.font=o,c.textAlign="center",c.textBaseline="middle",c.fillStyle="#fff";var u=s[0]/2,g=s[1]/2;for(f=0;f<l.length;f++)c.fillText(l[f],u,g),(u+=s[0])>e[0]-s[0]/2&&(u=s[0]/2,g+=s[1]);return r}},62903:function(t){"use strict";function e(t,o){o||(o={}),("string"===typeof t||Array.isArray(t))&&(o.family=t);var s=Array.isArray(o.family)?o.family.join(", "):o.family;if(!s)throw Error("`family` must be defined");var l=o.size||o.fontSize||o.em||48,h=o.weight||o.fontWeight||"",f=(t=[o.style||o.fontStyle||"",h,l].join(" ")+"px "+s,o.origin||"top");if(e.cache[s]&&l<=e.cache[s].em)return r(e.cache[s],f);var a=o.canvas||e.canvas,c=a.getContext("2d"),u={upper:void 0!==o.upper?o.upper:"H",lower:void 0!==o.lower?o.lower:"x",descent:void 0!==o.descent?o.descent:"p",ascent:void 0!==o.ascent?o.ascent:"h",tittle:void 0!==o.tittle?o.tittle:"i",overshoot:void 0!==o.overshoot?o.overshoot:"O"},g=Math.ceil(1.5*l);a.height=g,a.width=.5*g,c.font=t;var v="H",p={top:0};c.clearRect(0,0,g,g),c.textBaseline="top",c.fillStyle="black",c.fillText(v,0,0);var _=n(c.getImageData(0,0,g,g));c.clearRect(0,0,g,g),c.textBaseline="bottom",c.fillText(v,0,g);var y=n(c.getImageData(0,0,g,g));p.lineHeight=p.bottom=g-y+_,c.clearRect(0,0,g,g),c.textBaseline="alphabetic",c.fillText(v,0,g);var d=g-n(c.getImageData(0,0,g,g))-1+_;p.baseline=p.alphabetic=d,c.clearRect(0,0,g,g),c.textBaseline="middle",c.fillText(v,0,.5*g);var m=n(c.getImageData(0,0,g,g));p.median=p.middle=g-m-1+_-.5*g,c.clearRect(0,0,g,g),c.textBaseline="hanging",c.fillText(v,0,.5*g);var w=n(c.getImageData(0,0,g,g));p.hanging=g-w-1+_-.5*g,c.clearRect(0,0,g,g),c.textBaseline="ideographic",c.fillText(v,0,g);var b=n(c.getImageData(0,0,g,g));if(p.ideographic=g-b-1+_,u.upper&&(c.clearRect(0,0,g,g),c.textBaseline="top",c.fillText(u.upper,0,0),p.upper=n(c.getImageData(0,0,g,g)),p.capHeight=p.baseline-p.upper),u.lower&&(c.clearRect(0,0,g,g),c.textBaseline="top",c.fillText(u.lower,0,0),p.lower=n(c.getImageData(0,0,g,g)),p.xHeight=p.baseline-p.lower),u.tittle&&(c.clearRect(0,0,g,g),c.textBaseline="top",c.fillText(u.tittle,0,0),p.tittle=n(c.getImageData(0,0,g,g))),u.ascent&&(c.clearRect(0,0,g,g),c.textBaseline="top",c.fillText(u.ascent,0,0),p.ascent=n(c.getImageData(0,0,g,g))),u.descent&&(c.clearRect(0,0,g,g),c.textBaseline="top",c.fillText(u.descent,0,0),p.descent=i(c.getImageData(0,0,g,g))),u.overshoot){c.clearRect(0,0,g,g),c.textBaseline="top",c.fillText(u.overshoot,0,0);var x=i(c.getImageData(0,0,g,g));p.overshoot=x-d}for(var k in p)p[k]/=l;return p.em=l,e.cache[s]=p,r(p,f)}function r(t,e){var r={};for(var n in"string"===typeof e&&(e=t[e]),t)"em"!==n&&(r[n]=t[n]-e);return r}function n(t){for(var e=t.height,r=t.data,n=3;n<r.length;n+=4)if(0!==r[n])return Math.floor(.25*(n-3)/e)}function i(t){for(var e=t.height,r=t.data,n=r.length-1;n>0;n-=4)if(0!==r[n])return Math.floor(.25*(n-3)/e)}t.exports=e,e.canvas=document.createElement("canvas"),e.cache={}},81905:function(t){"use strict";t.exports=function(t){return new o(t||g,null)};function e(t,e,r,n,i,o){this._color=t,this.key=e,this.value=r,this.left=n,this.right=i,this._count=o}function r(t){return new e(t._color,t.key,t.value,t.left,t.right,t._count)}function n(t,r){return new e(t,r.key,r.value,r.left,r.right,r._count)}function i(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function o(t,e){this._compare=t,this.root=e}var s=o.prototype;function l(t,e){var r;if(e.left&&(r=l(t,e.left)))return r;return(r=t(e.key,e.value))||(e.right?l(t,e.right):void 0)}function h(t,e,r,n){if(e(t,n.key)<=0){var i;if(n.left)if(i=h(t,e,r,n.left))return i;if(i=r(n.key,n.value))return i}if(n.right)return h(t,e,r,n.right)}function f(t,e,r,n,i){var o,s=r(t,i.key),l=r(e,i.key);if(s<=0){if(i.left&&(o=f(t,e,r,n,i.left)))return o;if(l>0&&(o=n(i.key,i.value)))return o}if(l>0&&i.right)return f(t,e,r,n,i.right)}function a(t,e){this.tree=t,this._stack=e}Object.defineProperty(s,"keys",{get:function(){var t=[];return this.forEach((function(e,r){t.push(e)})),t}}),Object.defineProperty(s,"values",{get:function(){var t=[];return this.forEach((function(e,r){t.push(r)})),t}}),Object.defineProperty(s,"length",{get:function(){return this.root?this.root._count:0}}),s.insert=function(t,r){for(var s=this._compare,l=this.root,h=[],f=[];l;){var a=s(t,l.key);h.push(l),f.push(a),l=a<=0?l.left:l.right}h.push(new e(0,t,r,null,null,1));for(var c=h.length-2;c>=0;--c){l=h[c];f[c]<=0?h[c]=new e(l._color,l.key,l.value,h[c+1],l.right,l._count+1):h[c]=new e(l._color,l.key,l.value,l.left,h[c+1],l._count+1)}for(c=h.length-1;c>1;--c){var u=h[c-1];l=h[c];if(1===u._color||1===l._color)break;var g=h[c-2];if(g.left===u)if(u.left===l){if(!(v=g.right)||0!==v._color){if(g._color=0,g.left=u.right,u._color=1,u.right=g,h[c-2]=u,h[c-1]=l,i(g),i(u),c>=3)(p=h[c-3]).left===g?p.left=u:p.right=u;break}u._color=1,g.right=n(1,v),g._color=0,c-=1}else{if(!(v=g.right)||0!==v._color){if(u.right=l.left,g._color=0,g.left=l.right,l._color=1,l.left=u,l.right=g,h[c-2]=l,h[c-1]=u,i(g),i(u),i(l),c>=3)(p=h[c-3]).left===g?p.left=l:p.right=l;break}u._color=1,g.right=n(1,v),g._color=0,c-=1}else if(u.right===l){if(!(v=g.left)||0!==v._color){if(g._color=0,g.right=u.left,u._color=1,u.left=g,h[c-2]=u,h[c-1]=l,i(g),i(u),c>=3)(p=h[c-3]).right===g?p.right=u:p.left=u;break}u._color=1,g.left=n(1,v),g._color=0,c-=1}else{var v;if(!(v=g.left)||0!==v._color){var p;if(u.left=l.right,g._color=0,g.right=l.left,l._color=1,l.right=u,l.left=g,h[c-2]=l,h[c-1]=u,i(g),i(u),i(l),c>=3)(p=h[c-3]).right===g?p.right=l:p.left=l;break}u._color=1,g.left=n(1,v),g._color=0,c-=1}}return h[0]._color=1,new o(s,h[0])},s.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return l(t,this.root);case 2:return h(e,this._compare,t,this.root);case 3:if(this._compare(e,r)>=0)return;return f(e,r,this._compare,t,this.root)}},Object.defineProperty(s,"begin",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new a(this,t)}}),Object.defineProperty(s,"end",{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new a(this,t)}}),s.at=function(t){if(t<0)return new a(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t<e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new a(this,r);if(t-=1,!e.right)break;if(t>=e.right._count)break;e=e.right}return new a(this,[])},s.ge=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o<=0&&(i=n.length),r=o<=0?r.left:r.right}return n.length=i,new a(this,n)},s.gt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o<0&&(i=n.length),r=o<0?r.left:r.right}return n.length=i,new a(this,n)},s.lt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o>0&&(i=n.length),r=o<=0?r.left:r.right}return n.length=i,new a(this,n)},s.le=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var o=e(t,r.key);n.push(r),o>=0&&(i=n.length),r=o<0?r.left:r.right}return n.length=i,new a(this,n)},s.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var i=e(t,r.key);if(n.push(r),0===i)return new a(this,n);r=i<=0?r.left:r.right}return new a(this,[])},s.remove=function(t){var e=this.find(t);return e?e.remove():this},s.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(0===n)return r.value;r=n<=0?r.left:r.right}};var c=a.prototype;function u(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function g(t,e){return t<e?-1:t>e?1:0}Object.defineProperty(c,"valid",{get:function(){return this._stack.length>0}}),Object.defineProperty(c,"node",{get:function(){return this._stack.length>0?this._stack[this._stack.length-1]:null},enumerable:!0}),c.clone=function(){return new a(this.tree,this._stack.slice())},c.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var s=new Array(t.length),l=t[t.length-1];s[s.length-1]=new e(l._color,l.key,l.value,l.left,l.right,l._count);for(var h=t.length-2;h>=0;--h){(l=t[h]).left===t[h+1]?s[h]=new e(l._color,l.key,l.value,s[h+1],l.right,l._count):s[h]=new e(l._color,l.key,l.value,l.left,s[h+1],l._count)}if((l=s[s.length-1]).left&&l.right){var f=s.length;for(l=l.left;l.right;)s.push(l),l=l.right;var a=s[f-1];s.push(new e(l._color,a.key,a.value,l.left,l.right,l._count)),s[f-1].key=l.key,s[f-1].value=l.value;for(h=s.length-2;h>=f;--h)l=s[h],s[h]=new e(l._color,l.key,l.value,l.left,s[h+1],l._count);s[f-1].left=s[f]}if(0===(l=s[s.length-1])._color){var c=s[s.length-2];c.left===l?c.left=null:c.right===l&&(c.right=null),s.pop();for(h=0;h<s.length;++h)s[h]._count--;return new o(this.tree._compare,s[0])}if(l.left||l.right){l.left?u(l,l.left):l.right&&u(l,l.right),l._color=1;for(h=0;h<s.length-1;++h)s[h]._count--;return new o(this.tree._compare,s[0])}if(1===s.length)return new o(this.tree._compare,null);for(h=0;h<s.length;++h)s[h]._count--;var g=s[s.length-2];return function(t){for(var e,o,s,l,h=t.length-1;h>=0;--h){if(e=t[h],0===h)return void(e._color=1);if((o=t[h-1]).left===e){if((s=o.right).right&&0===s.right._color)return l=(s=o.right=r(s)).right=r(s.right),o.right=s.left,s.left=o,s.right=l,s._color=o._color,e._color=1,o._color=1,l._color=1,i(o),i(s),h>1&&((f=t[h-2]).left===o?f.left=s:f.right=s),void(t[h-1]=s);if(s.left&&0===s.left._color)return l=(s=o.right=r(s)).left=r(s.left),o.right=l.left,s.left=l.right,l.left=o,l.right=s,l._color=o._color,o._color=1,s._color=1,e._color=1,i(o),i(s),i(l),h>1&&((f=t[h-2]).left===o?f.left=l:f.right=l),void(t[h-1]=l);if(1===s._color){if(0===o._color)return o._color=1,void(o.right=n(0,s));o.right=n(0,s);continue}s=r(s),o.right=s.left,s.left=o,s._color=o._color,o._color=0,i(o),i(s),h>1&&((f=t[h-2]).left===o?f.left=s:f.right=s),t[h-1]=s,t[h]=o,h+1<t.length?t[h+1]=e:t.push(e),h+=2}else{if((s=o.left).left&&0===s.left._color)return l=(s=o.left=r(s)).left=r(s.left),o.left=s.right,s.right=o,s.left=l,s._color=o._color,e._color=1,o._color=1,l._color=1,i(o),i(s),h>1&&((f=t[h-2]).right===o?f.right=s:f.left=s),void(t[h-1]=s);if(s.right&&0===s.right._color)return l=(s=o.left=r(s)).right=r(s.right),o.left=l.right,s.right=l.left,l.right=o,l.left=s,l._color=o._color,o._color=1,s._color=1,e._color=1,i(o),i(s),i(l),h>1&&((f=t[h-2]).right===o?f.right=l:f.left=l),void(t[h-1]=l);if(1===s._color){if(0===o._color)return o._color=1,void(o.left=n(0,s));o.left=n(0,s);continue}var f;s=r(s),o.left=s.right,s.right=o,s._color=o._color,o._color=0,i(o),i(s),h>1&&((f=t[h-2]).right===o?f.right=s:f.left=s),t[h-1]=s,t[h]=o,h+1<t.length?t[h+1]=e:t.push(e),h+=2}}}(s),g.left===l?g.left=null:g.right=null,new o(this.tree._compare,s[0])},Object.defineProperty(c,"key",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(c,"value",{get:function(){if(this._stack.length>0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(c,"index",{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&&(t=e[e.length-1].left._count);for(var n=e.length-2;n>=0;--n)e[n+1]===e[n].right&&(++t,e[n].left&&(t+=e[n].left._count));return t},enumerable:!0}),c.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length>0&&t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(c,"hasNext",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].left===t[e])return!0;return!1}}),c.update=function(t){var r=this._stack;if(0===r.length)throw new Error("Can't update empty node!");var n=new Array(r.length),i=r[r.length-1];n[n.length-1]=new e(i._color,i.key,t,i.left,i.right,i._count);for(var s=r.length-2;s>=0;--s)(i=r[s]).left===r[s+1]?n[s]=new e(i._color,i.key,i.value,n[s+1],i.right,i._count):n[s]=new e(i._color,i.key,i.value,i.left,n[s+1],i._count);return new o(this.tree._compare,n[0])},c.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length>0&&t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(c,"hasPrev",{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e>0;--e)if(t[e-1].right===t[e])return!0;return!1}})}}]);