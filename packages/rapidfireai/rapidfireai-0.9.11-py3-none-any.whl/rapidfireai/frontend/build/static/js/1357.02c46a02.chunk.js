"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[1357],{97280:function(e,t,r){var a=r(5153),n=r(51499).hoverlabel,o=r(87241).extendFlat;e.exports={hoverlabel:{bgcolor:o({},n.bgcolor,{arrayOk:!0,description:"Sets the background color of the hover labels for this trace"}),bordercolor:o({},n.bordercolor,{arrayOk:!0,description:"Sets the border color of the hover labels for this trace."}),font:a({arrayOk:!0,editType:"none",description:"Sets the font used in hover labels."}),align:o({},n.align,{arrayOk:!0}),namelength:o({},n.namelength,{arrayOk:!0}),editType:"none"}}},69776:function(e,t,r){var a=r(47401),n=r(62282);function o(e,t,r,n){n=n||a.identity,Array.isArray(e)&&(t[0][r]=n(e))}e.exports=function(e){var t=e.calcdata,r=e._fullLayout;function i(e){return function(t){return a.coerceHoverinfo({hoverinfo:t},{_module:e._module},r)}}for(var l=0;l<t.length;l++){var s=t[l],c=s[0].trace;if(!n.traceIs(c,"pie-like")){var f=n.traceIs(c,"2dMap")?o:a.fillArray;f(c.hoverinfo,s,"hi",i(c)),c.hovertemplate&&f(c.hovertemplate,s,"ht"),c.hoverlabel&&(f(c.hoverlabel.bgcolor,s,"hbg"),f(c.hoverlabel.bordercolor,s,"hbc"),f(c.hoverlabel.font.size,s,"hts"),f(c.hoverlabel.font.color,s,"htc"),f(c.hoverlabel.font.family,s,"htf"),f(c.hoverlabel.namelength,s,"hnl"),f(c.hoverlabel.align,s,"hta"))}}}},82913:function(e,t,r){var a=r(62282),n=r(81031).hover;e.exports=function(e,t,r){var o=a.getComponentMethod("annotations","onClick")(e,e._hoverdata);function i(){e.emit("plotly_click",{points:e._hoverdata,event:t})}void 0!==r&&n(e,t,r,!0),e._hoverdata&&t&&t.target&&(o&&o.then?o.then(i):i(),t.stopImmediatePropagation&&t.stopImmediatePropagation())}},90260:function(e){e.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},98020:function(e,t,r){var a=r(47401),n=r(97280),o=r(94158);e.exports=function(e,t,r,i){var l=a.extendFlat({},i.hoverlabel);t.hovertemplate&&(l.namelength=-1),o(e,t,(function(r,o){return a.coerce(e,t,n,r,o)}),l)}},14904:function(e,t,r){var a=r(47401);t.getSubplot=function(e){return e.subplot||e.xaxis+e.yaxis||e.geo},t.isTraceInSubplots=function(e,r){if("splom"===e.type){for(var a=e.xaxes||[],n=e.yaxes||[],o=0;o<a.length;o++)for(var i=0;i<n.length;i++)if(-1!==r.indexOf(a[o]+n[i]))return!0;return!1}return-1!==r.indexOf(t.getSubplot(e))},t.flat=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=t;return r},t.p2c=function(e,t){for(var r=new Array(e.length),a=0;a<e.length;a++)r[a]=e[a].p2c(t);return r},t.getDistanceFunction=function(e,r,a,n){return"closest"===e?n||t.quadrature(r,a):"x"===e.charAt(0)?r:a},t.getClosest=function(e,t,r){if(!1!==r.index)r.index>=0&&r.index<e.length?r.distance=0:r.index=!1;else for(var a=0;a<e.length;a++){var n=t(e[a]);n<=r.distance&&(r.index=a,r.distance=n)}return r},t.inbox=function(e,t,r){return e*t<0||0===e?r:1/0},t.quadrature=function(e,t){return function(r){var a=e(r),n=t(r);return Math.sqrt(a*a+n*n)}},t.makeEventData=function(e,r,a){var n="index"in e?e.index:e.pointNumber,o={data:r._input,fullData:r,curveNumber:r.index,pointNumber:n};if(r._indexToPoints){var i=r._indexToPoints[n];1===i.length?o.pointIndex=i[0]:o.pointIndices=i}else o.pointIndex=n;return r._module.eventData?o=r._module.eventData(o,e,r,a,n):("xVal"in e?o.x=e.xVal:"x"in e&&(o.x=e.x),"yVal"in e?o.y=e.yVal:"y"in e&&(o.y=e.y),e.xa&&(o.xaxis=e.xa),e.ya&&(o.yaxis=e.ya),void 0!==e.zLabelVal&&(o.z=e.zLabelVal)),t.appendArrayPointValue(o,r,n),o},t.appendArrayPointValue=function(e,t,r){var n=t._arrayAttrs;if(n)for(var l=0;l<n.length;l++){var s=n[l],c=o(s);if(void 0===e[c]){var f=i(a.nestedProperty(t,s).get(),r);void 0!==f&&(e[c]=f)}}},t.appendArrayMultiPointValues=function(e,t,r){var n=t._arrayAttrs;if(n)for(var l=0;l<n.length;l++){var s=n[l],c=o(s);if(void 0===e[c]){for(var f=a.nestedProperty(t,s).get(),h=new Array(r.length),d=0;d<r.length;d++)h[d]=i(f,r[d]);e[c]=h}}};var n={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function o(e){return n[e]||e}function i(e,t){return Array.isArray(t)?Array.isArray(e)&&Array.isArray(e[t[0]])?e[t[0]][t[1]]:void 0:e[t]}var l={x:!0,y:!0},s={"x unified":!0,"y unified":!0};t.isUnifiedHover=function(e){return"string"===typeof e&&!!s[e]},t.isXYhover=function(e){return"string"===typeof e&&!!l[e]}},81031:function(e,t,r){var a=r(62258),n=r(83491),o=r(91771),i=r(47401),l=i.strTranslate,s=i.strRotate,c=r(19428),f=r(43995),h=r(28798),d=r(41707),v=r(31454),x=r(52783),p=r(37762),u=r(62282),y=r(14904),m=r(90260),b=r(52738),g=r(97990),_=m.YANGLE,L=Math.PI*_/180,k=1/Math.sin(L),w=Math.cos(L),A=Math.sin(L),O=m.HOVERARROWSIZE,M=m.HOVERTEXTPAD,T={box:!0,ohlc:!0,violin:!0,candlestick:!0},S={scatter:!0,scattergl:!0,splom:!0};function P(e){return[e.trace.index,e.index,e.x0,e.y0,e.name,e.attr,e.xa?e.xa._id:"",e.ya?e.ya._id:""].join(",")}t.hover=function(e,t,r,o){e=i.getGraphDiv(e),i.throttle(e._fullLayout._uid+m.HOVERID,m.HOVERMINTIME,(function(){!function(e,t,r,o){r||(r="xy");var l=Array.isArray(r)?r:[r],s=e._fullLayout,f=s._plots||[],d=f[r],p=s._has("cartesian");if(d){var m=d.overlays.map((function(e){return e.id}));l=l.concat(m)}for(var b=l.length,g=new Array(b),_=new Array(b),L=!1,w=0;w<b;w++){var A=l[w];if(f[A])L=!0,g[w]=f[A].xaxis,_[w]=f[A].yaxis;else{if(!s[A]||!s[A]._subplot)return void i.warn("Unrecognized subplot: "+A);var O=s[A]._subplot;g[w]=O.xaxis,_[w]=O.yaxis}}var M=t.hovermode||s.hovermode;M&&!L&&(M="closest");if(-1===["x","y","closest","x unified","y unified"].indexOf(M)||!e.calcdata||e.querySelector(".zoombox")||e._dragging)return x.unhoverRaw(e,t);var V=s.hoverdistance;-1===V&&(V=1/0);var z=s.spikedistance;-1===z&&(z=1/0);var E,Y,Z,U,q,G,B,W,j,J,K,Q,$,ee=[],te=[],re={hLinePoint:null,vLinePoint:null},ae=!1;if(Array.isArray(t))for(M="array",Z=0;Z<t.length;Z++)(q=e.calcdata[t[Z].curveNumber||0])&&(G=q[0].trace,"skip"!==q[0].trace.hoverinfo&&(te.push(q),"h"===G.orientation&&(ae=!0)));else{for(U=0;U<e.calcdata.length;U++)q=e.calcdata[U],"skip"!==(G=q[0].trace).hoverinfo&&y.isTraceInSubplots(G,l)&&(te.push(q),"h"===G.orientation&&(ae=!0));var ne,oe;if(!t.target)ne="xpx"in t?t.xpx:g[0]._length/2,oe="ypx"in t?t.ypx:_[0]._length/2;else{if(!1===c.triggerHandler(e,"plotly_beforehover",t))return;var ie=t.composedPath&&t.composedPath()[0];ie||(ie=t.target);var le=ie.getBoundingClientRect();ne=t.clientX-le.left,oe=t.clientY-le.top,s._calcInverseTransform(e);var se=i.apply3DTransform(s._invTransform)(ne,oe);if(ne=se[0],oe=se[1],ne<0||ne>g[0]._length||oe<0||oe>_[0]._length)return x.unhoverRaw(e,t)}if(t.pointerX=ne+g[0]._offset,t.pointerY=oe+_[0]._offset,E="xval"in t?y.flat(l,t.xval):y.p2c(g,ne),Y="yval"in t?y.flat(l,t.yval):y.p2c(_,oe),!n(E[0])||!n(Y[0]))return i.warn("Fx.hover failed",t,e),x.unhoverRaw(e,t)}var ce=1/0;function fe(e,r){for(U=0;U<te.length;U++)if((q=te[U])&&q[0]&&q[0].trace&&!0===(G=q[0].trace).visible&&0!==G._length&&-1===["carpet","contourcarpet"].indexOf(G._module.name)){if("splom"===G.type?B=l[W=0]:(B=y.getSubplot(G),W=l.indexOf(B)),j=M,y.isUnifiedHover(j)&&(j=j.charAt(0)),Q={cd:q,trace:G,xa:g[W],ya:_[W],maxHoverDistance:V,maxSpikeDistance:z,index:!1,distance:Math.min(ce,V),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:v.defaultLine,name:G.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},s[B]&&(Q.subplot=s[B]._subplot),s._splomScenes&&s._splomScenes[G.uid]&&(Q.scene=s._splomScenes[G.uid]),$=ee.length,"array"===j){var a=t[U];"pointNumber"in a?(Q.index=a.pointNumber,j="closest"):(j="","xval"in a&&(J=a.xval,j="x"),"yval"in a&&(K=a.yval,j=j?"closest":"y"))}else void 0!==e&&void 0!==r?(J=e,K=r):(J=E[W],K=Y[W]);if(0!==V)if(G._module&&G._module.hoverPoints){var o=G._module.hoverPoints(Q,J,K,j,{finiteRange:!0,hoverLayer:s._hoverlayer});if(o)for(var c,f=0;f<o.length;f++)c=o[f],n(c.x0)&&n(c.y0)&&ee.push(I(c,M))}else i.log("Unrecognized trace type in hover:",G);if("closest"===M&&ee.length>$&&(ee.splice(0,$),ce=ee[0].distance),p&&0!==z&&0===ee.length){Q.distance=z,Q.index=!1;var h=G._module.hoverPoints(Q,J,K,"closest",{hoverLayer:s._hoverlayer});if(h&&(h=h.filter((function(e){return e.spikeDistance<=z}))),h&&h.length){var d,x=h.filter((function(e){return e.xa.showspikes&&"hovered data"!==e.xa.spikesnap}));if(x.length){var u=x[0];n(u.x0)&&n(u.y0)&&(d=de(u),(!re.vLinePoint||re.vLinePoint.spikeDistance>d.spikeDistance)&&(re.vLinePoint=d))}var m=h.filter((function(e){return e.ya.showspikes&&"hovered data"!==e.ya.spikesnap}));if(m.length){var b=m[0];n(b.x0)&&n(b.y0)&&(d=de(b),(!re.hLinePoint||re.hLinePoint.spikeDistance>d.spikeDistance)&&(re.hLinePoint=d))}}}}}function he(e,t,r){for(var a,n=null,o=1/0,i=0;i<e.length;i++)a=e[i].spikeDistance,r&&0===i&&(a=-1/0),a<=o&&a<=t&&(n=e[i],o=a);return n}function de(e){return e?{xa:e.xa,ya:e.ya,x:void 0!==e.xSpike?e.xSpike:(e.x0+e.x1)/2,y:void 0!==e.ySpike?e.ySpike:(e.y0+e.y1)/2,distance:e.distance,spikeDistance:e.spikeDistance,curveNumber:e.trace.index,color:e.color,pointNumber:e.index}:null}fe();var ve={fullLayout:s,container:s._hoverlayer,event:t},xe=e._spikepoints,pe={vLinePoint:re.vLinePoint,hLinePoint:re.hLinePoint};e._spikepoints=pe;var ue=function(){ee.sort((function(e,t){return e.distance-t.distance})),ee=function(e,t){for(var r=t.charAt(0),a=[],n=[],o=[],i=0;i<e.length;i++){var l=e[i];u.traceIs(l.trace,"bar-like")||u.traceIs(l.trace,"box-violin")?o.push(l):l.trace[r+"period"]?n.push(l):a.push(l)}return a.concat(n).concat(o)}(ee,M)};ue();var ye=M.charAt(0),me=("x"===ye||"y"===ye)&&ee[0]&&S[ee[0].trace.type];if(p&&0!==z&&0!==ee.length){var be=he(ee.filter((function(e){return e.ya.showspikes})),z,me);re.hLinePoint=de(be);var ge=he(ee.filter((function(e){return e.xa.showspikes})),z,me);re.vLinePoint=de(ge)}if(0===ee.length){var _e=x.unhoverRaw(e,t);return!p||null===re.hLinePoint&&null===re.vLinePoint||N(xe)&&C(e,re,ve),_e}p&&N(xe)&&C(e,re,ve);if(y.isXYhover(j)&&0!==ee[0].length&&"splom"!==ee[0].trace.type){var Le=ee[0],ke=(ee=T[Le.trace.type]?ee.filter((function(e){return e.trace.index===Le.trace.index})):[Le]).length;fe(R("x",Le,s),R("y",Le,s));var we,Ae=[],Oe={},Me=0,Te=function(e){var t=T[e.trace.type]?P(e):e.trace.index;if(Oe[t]){var r=Oe[t]-1,a=Ae[r];r>0&&Math.abs(e.distance)<Math.abs(a.distance)&&(Ae[r]=e)}else Me++,Oe[t]=Me,Ae.push(e)};for(we=0;we<ke;we++)Te(ee[we]);for(we=ee.length-1;we>ke-1;we--)Te(ee[we]);ee=Ae,ue()}var Se=e._hoverdata,Pe=[],Ve=F(e),De=X(e);for(Z=0;Z<ee.length;Z++){var ze=ee[Z],He=y.makeEventData(ze,ze.trace,ze.cd);if(!1!==ze.hovertemplate){var Ie=!1;ze.cd[ze.index]&&ze.cd[ze.index].ht&&(Ie=ze.cd[ze.index].ht),ze.hovertemplate=Ie||ze.trace.hovertemplate||!1}if(ze.xa&&ze.ya){var Ce=ze.x0+ze.xa._offset,Ne=ze.x1+ze.xa._offset,Ee=ze.y0+ze.ya._offset,Re=ze.y1+ze.ya._offset,Fe=Math.min(Ce,Ne),Xe=Math.max(Ce,Ne),Ye=Math.min(Ee,Re),Ze=Math.max(Ee,Re);He.bbox={x0:Fe+De,x1:Xe+De,y0:Ye+Ve,y1:Ze+Ve}}ze.eventData=[He],Pe.push(He)}e._hoverdata=Pe;var Ue="y"===M&&(te.length>1||ee.length>1)||"closest"===M&&ae&&ee.length>1,qe=v.combine(s.plot_bgcolor||v.background,s.paper_bgcolor),Ge=D(ee,{gd:e,hovermode:M,rotateLabels:Ue,bgColor:qe,container:s._hoverlayer,outerContainer:s._paper.node(),commonLabelOpts:s.hoverlabel,hoverdistance:s.hoverdistance});y.isUnifiedHover(M)||(!function(e,t,r){var a,n,o,i,l,s,c,f=0,h=1,d=e.size(),v=new Array(d),x=0;function p(e){var t=e[0],r=e[e.length-1];if(n=t.pmin-t.pos-t.dp+t.size,o=r.pos+r.dp+r.size-t.pmax,n>.01){for(l=e.length-1;l>=0;l--)e[l].dp+=n;a=!1}if(!(o<.01)){if(n<-.01){for(l=e.length-1;l>=0;l--)e[l].dp-=o;a=!1}if(a){var c=0;for(i=0;i<e.length;i++)(s=e[i]).pos+s.dp+s.size>t.pmax&&c++;for(i=e.length-1;i>=0&&!(c<=0);i--)(s=e[i]).pos>t.pmax-1&&(s.del=!0,c--);for(i=0;i<e.length&&!(c<=0);i++)if((s=e[i]).pos<t.pmin+1)for(s.del=!0,c--,o=2*s.size,l=e.length-1;l>=0;l--)e[l].dp-=o;for(i=e.length-1;i>=0&&!(c<=0);i--)(s=e[i]).pos+s.dp+s.size>t.pmax&&(s.del=!0,c--)}}}e.each((function(e){var a=e[t],n="x"===a._id.charAt(0),o=a.range;0===x&&o&&o[0]>o[1]!==n&&(h=-1),v[x++]=[{datum:e,traceIndex:e.trace.index,dp:0,pos:e.pos,posref:e.posref,size:e.by*(n?k:1)/2,pmin:0,pmax:n?r.width:r.height}]})),v.sort((function(e,t){return e[0].posref-t[0].posref||h*(t[0].traceIndex-e[0].traceIndex)}));for(;!a&&f<=d;){for(f++,a=!0,i=0;i<v.length-1;){var u=v[i],y=v[i+1],m=u[u.length-1],b=y[0];if((n=m.pos+m.dp+m.size-b.pos-b.dp+b.size)>.01&&m.pmin===b.pmin&&m.pmax===b.pmax){for(l=y.length-1;l>=0;l--)y[l].dp+=n;for(u.push.apply(u,y),v.splice(i+1,1),c=0,l=u.length-1;l>=0;l--)c+=u[l].dp;for(o=c/u.length,l=u.length-1;l>=0;l--)u[l].dp-=o;a=!1}else i++}v.forEach(p)}for(i=v.length-1;i>=0;i--){var g=v[i];for(l=g.length-1;l>=0;l--){var _=g[l],L=_.datum;L.offset=_.dp,L.del=_.del}}}(Ge,Ue?"xa":"ya",s),H(Ge,Ue,s._invScaleX,s._invScaleY));if(t.target&&t.target.tagName){var Be=u.getComponentMethod("annotations","hasClickToShow")(e,Pe);h(a.select(t.target),Be?"pointer":"")}if(!t.target||o||!function(e,t,r){if(!r||r.length!==e._hoverdata.length)return!0;for(var a=r.length-1;a>=0;a--){var n=r[a],o=e._hoverdata[a];if(n.curveNumber!==o.curveNumber||String(n.pointNumber)!==String(o.pointNumber)||String(n.pointNumbers)!==String(o.pointNumbers))return!0}return!1}(e,0,Se))return;Se&&e.emit("plotly_unhover",{event:t,points:Se});e.emit("plotly_hover",{event:t,points:e._hoverdata,xaxes:g,yaxes:_,xvals:E,yvals:Y})}(e,t,r,o)}))},t.loneHover=function(e,t){var r=!0;Array.isArray(e)||(r=!1,e=[e]);var n=t.gd,o=F(n),i=X(n),l=!1,s=D(e.map((function(e){var r=e._x0||e.x0||e.x||0,a=e._x1||e.x1||e.x||0,l=e._y0||e.y0||e.y||0,s=e._y1||e.y1||e.y||0,c=e.eventData;if(c){var f=Math.min(r,a),h=Math.max(r,a),d=Math.min(l,s),x=Math.max(l,s),p=e.trace;if(u.traceIs(p,"gl3d")){var y=n._fullLayout[p.scene]._scene.container,m=y.offsetLeft,b=y.offsetTop;f+=m,h+=m,d+=b,x+=b}c.bbox={x0:f+i,x1:h+i,y0:d+o,y1:x+o},t.inOut_bbox&&t.inOut_bbox.push(c.bbox)}else c=!1;return{color:e.color||v.defaultLine,x0:e.x0||e.x||0,x1:e.x1||e.x||0,y0:e.y0||e.y||0,y1:e.y1||e.y||0,xLabel:e.xLabel,yLabel:e.yLabel,zLabel:e.zLabel,text:e.text,name:e.name,idealAlign:e.idealAlign,borderColor:e.borderColor,fontFamily:e.fontFamily,fontSize:e.fontSize,fontColor:e.fontColor,nameLength:e.nameLength,textAlign:e.textAlign,trace:e.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:e.hovertemplate||!1,hovertemplateLabels:e.hovertemplateLabels||!1,eventData:c}})),{gd:n,hovermode:"closest",rotateLabels:l,bgColor:t.bgColor||v.background,container:a.select(t.container),outerContainer:t.outerContainer||t.container}),c=0,f=0;return s.sort((function(e,t){return e.y0-t.y0})).each((function(e,r){var a=e.y0-e.by/2;e.offset=a-5<c?c-a+5:0,c=a+e.by+e.offset,r===t.anchorIndex&&(f=e.offset)})).each((function(e){e.offset-=f})),H(s,l,n._fullLayout._invScaleX,n._fullLayout._invScaleY),r?s:s.node()};var V=/<extra>([\s\S]*)<\/extra>/;function D(e,t){var r=t.gd,n=r._fullLayout,o=t.hovermode,c=t.rotateLabels,h=t.bgColor,x=t.container,p=t.outerContainer,L=t.commonLabelOpts||{},k=t.fontFamily||m.HOVERFONT,w=t.fontSize||m.HOVERFONTSIZE,A=e[0],T=A.xa,S=A.ya,V=o.charAt(0),D=A[V+"Label"],H=Y(r,p),I=H.top,C=H.width,N=H.height,E=void 0!==D&&A.distance<=t.hoverdistance&&("x"===o||"y"===o);if(E){var R,F,X=!0;for(R=0;R<e.length;R++)if(X&&void 0===e[R].zLabel&&(X=!1),F=e[R].hoverinfo||e[R].trace.hoverinfo){var Z=Array.isArray(F)?F:F.split("+");if(-1===Z.indexOf("all")&&-1===Z.indexOf(o)){E=!1;break}}X&&(E=!1)}var U=x.selectAll("g.axistext").data(E?[0]:[]);if(U.enter().append("g").classed("axistext",!0),U.exit().remove(),U.each((function(){var e=a.select(this),t=i.ensureSingle(e,"path","",(function(e){e.style({"stroke-width":"1px"})})),s=i.ensureSingle(e,"text","",(function(e){e.attr("data-notex",1)})),c=L.bgcolor||v.defaultLine,h=L.bordercolor||v.contrast(c),x=v.contrast(c),p={family:L.font.family||k,size:L.font.size||w,color:L.font.color||x};t.style({fill:c,stroke:h}),s.text(D).call(d.font,p).call(f.positionText,0,0).call(f.convertToTspans,r),e.attr("transform","");var u,y,m=Y(r,s.node());if("x"===o){var b="top"===T.side?"-":"";s.attr("text-anchor","middle").call(f.positionText,0,"top"===T.side?I-m.bottom-O-M:I-m.top+O+M),u=T._offset+(A.x0+A.x1)/2,y=S._offset+("top"===T.side?0:S._length);var g=m.width/2+M;u<g?(u=g,t.attr("d","M-"+(g-O)+",0L-"+(g-2*O)+","+b+O+"H"+(M+m.width/2)+"v"+b+(2*M+m.height)+"H-"+g+"V"+b+O+"Z")):u>n.width-g?(u=n.width-g,t.attr("d","M"+(g-O)+",0L"+g+","+b+O+"v"+b+(2*M+m.height)+"H-"+g+"V"+b+O+"H"+(g-2*O)+"Z")):t.attr("d","M0,0L"+O+","+b+O+"H"+(M+m.width/2)+"v"+b+(2*M+m.height)+"H-"+(M+m.width/2)+"V"+b+O+"H-"+O+"Z")}else{var _,P,V;"right"===S.side?(_="start",P=1,V="",u=T._offset+T._length):(_="end",P=-1,V="-",u=T._offset),y=S._offset+(A.y0+A.y1)/2,s.attr("text-anchor",_),t.attr("d","M0,0L"+V+O+","+O+"V"+(M+m.height/2)+"h"+V+(2*M+m.width)+"V-"+(M+m.height/2)+"H"+V+O+"V-"+O+"Z");var z,H=m.height/2,C=I-m.top-H,N="clip"+n._uid+"commonlabel"+S._id;if(u<m.width+2*M+O){z="M-"+(O+M)+"-"+H+"h-"+(m.width-M)+"V"+H+"h"+(m.width-M)+"Z";var E=m.width-u+M;f.positionText(s,E,C),"end"===_&&s.selectAll("tspan").each((function(){var e=a.select(this),t=d.tester.append("text").text(e.text()).call(d.font,p),n=Y(r,t.node());Math.round(n.width)<Math.round(m.width)&&e.attr("x",E-n.width),t.remove()}))}else f.positionText(s,P*(M+O),C),z=null;var R=n._topclips.selectAll("#"+N).data(z?[0]:[]);R.enter().append("clipPath").attr("id",N).append("path"),R.exit().remove(),R.select("path").attr("d",z),d.setClipUrl(s,z?N:null,r)}e.attr("transform",l(u,y))})),y.isUnifiedHover(o)){if(x.selectAll("g.hovertext").remove(),0===e.length)return;var q=n.hoverlabel,G=q.font,B={showlegend:!0,legend:{title:{text:D,font:G},font:G,bgcolor:q.bgcolor,bordercolor:q.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:n.legend?n.legend.traceorder:void 0,orientation:"v"}},W={};b(B,W,r._fullData);var j=W.legend;j.entries=[];for(var J=0;J<e.length;J++){var K=z(e[J],!0,o,n,D),Q=K[0],$=K[1],ee=e[J];ee.name=$,ee.text=""!==$?$+" : "+Q:Q;var te=ee.cd[ee.index];te&&(te.mc&&(ee.mc=te.mc),te.mcc&&(ee.mc=te.mcc),te.mlc&&(ee.mlc=te.mlc),te.mlcc&&(ee.mlc=te.mlcc),te.mlw&&(ee.mlw=te.mlw),te.mrc&&(ee.mrc=te.mrc),te.dir&&(ee.dir=te.dir)),ee._distinct=!0,j.entries.push([ee])}j.entries.sort((function(e,t){return e[0].trace.index-t[0].trace.index})),j.layer=x,j._inHover=!0,j._groupTitleFont=G,g(r,j);var re,ae,ne,oe,ie=x.select("g.legend"),le=Y(r,ie.node()),se=le.width+2*M,ce=le.height+2*M,fe=e[0],he=(fe.x0+fe.x1)/2,de=(fe.y0+fe.y1)/2,ve=!(u.traceIs(fe.trace,"bar-like")||u.traceIs(fe.trace,"box-violin"));"y"===V?ve?(ae=de-M,re=de+M):(ae=Math.min.apply(null,e.map((function(e){return Math.min(e.y0,e.y1)}))),re=Math.max.apply(null,e.map((function(e){return Math.max(e.y0,e.y1)})))):ae=re=i.mean(e.map((function(e){return(e.y0+e.y1)/2})))-ce/2,"x"===V?ve?(ne=he+M,oe=he-M):(ne=Math.max.apply(null,e.map((function(e){return Math.max(e.x0,e.x1)}))),oe=Math.min.apply(null,e.map((function(e){return Math.min(e.x0,e.x1)})))):ne=oe=i.mean(e.map((function(e){return(e.x0+e.x1)/2})))-se/2;var xe,pe,ue=T._offset,ye=S._offset;return oe+=ue-se,ae+=ye-ce,xe=(ne+=ue)+se<C&&ne>=0?ne:oe+se<C&&oe>=0?oe:ue+se<C?ue:ne-he<he-oe+se?C-se:0,xe+=M,pe=(re+=ye)+ce<N&&re>=0?re:ae+ce<N&&ae>=0?ae:ye+ce<N?ye:re-de<de-ae+ce?N-ce:0,pe+=M,ie.attr("transform",l(xe-1,pe-1)),ie}var me=x.selectAll("g.hovertext").data(e,(function(e){return P(e)}));return me.enter().append("g").classed("hovertext",!0).each((function(){var e=a.select(this);e.append("rect").call(v.fill,v.addOpacity(h,.8)),e.append("text").classed("name",!0),e.append("path").style("stroke-width","1px"),e.append("text").classed("nums",!0).call(d.font,k,w)})),me.exit().remove(),me.each((function(e){var t=a.select(this).attr("transform",""),i=e.color;Array.isArray(i)&&(i=i[e.eventData[0].pointNumber]);var x=e.bgcolor||i,p=v.combine(v.opacity(x)?x:v.defaultLine,h),u=v.combine(v.opacity(i)?i:v.defaultLine,h),y=e.borderColor||v.contrast(p),m=z(e,E,o,n,D,t),b=m[0],g=m[1],L=t.select("text.nums").call(d.font,e.fontFamily||k,e.fontSize||w,e.fontColor||y).text(b).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,r),A=t.select("text.name"),T=0,S=0;if(g&&g!==b){A.call(d.font,e.fontFamily||k,e.fontSize||w,u).text(g).attr("data-notex",1).call(f.positionText,0,0).call(f.convertToTspans,r);var P=Y(r,A.node());T=P.width+2*M,S=P.height+2*M}else A.remove(),t.select("rect").remove();t.select("path").style({fill:p,stroke:y});var V=e.xa._offset+(e.x0+e.x1)/2,H=e.ya._offset+(e.y0+e.y1)/2,R=Math.abs(e.x1-e.x0),F=Math.abs(e.y1-e.y0),X=Y(r,L.node()),Z=X.width/n._invScaleX,U=X.height/n._invScaleY;e.ty0=(I-X.top)/n._invScaleY,e.bx=Z+2*M,e.by=Math.max(U+2*M,S),e.anchor="start",e.txwidth=Z,e.tx2width=T,e.offset=0;var q,G,B=(Z+O+M+T)*n._invScaleX;if(c)e.pos=V,q=H+F/2+B<=N,G=H-F/2-B>=0,"top"!==e.idealAlign&&q||!G?q?(H+=F/2,e.anchor="start"):e.anchor="middle":(H-=F/2,e.anchor="end");else if(e.pos=H,q=V+R/2+B<=C,G=V-R/2-B>=0,"left"!==e.idealAlign&&q||!G)if(q)V+=R/2,e.anchor="start";else{e.anchor="middle";var W=B/2,j=V+W-C,J=V-W;j>0&&(V-=j),J<0&&(V+=-J)}else V-=R/2,e.anchor="end";L.attr("text-anchor",e.anchor),T&&A.attr("text-anchor",e.anchor),t.attr("transform",l(V,H)+(c?s(_):""))})),me}function z(e,t,r,a,n,o){var l="",s="";void 0!==e.nameOverride&&(e.name=e.nameOverride),e.name&&(e.trace._meta&&(e.name=i.templateString(e.name,e.trace._meta)),l=E(e.name,e.nameLength));var c=r.charAt(0),f="x"===c?"y":"x";void 0!==e.zLabel?(void 0!==e.xLabel&&(s+="x: "+e.xLabel+"<br>"),void 0!==e.yLabel&&(s+="y: "+e.yLabel+"<br>"),"choropleth"!==e.trace.type&&"choroplethmapbox"!==e.trace.type&&(s+=(s?"z: ":"")+e.zLabel)):t&&e[c+"Label"]===n?s=e[f+"Label"]||"":void 0===e.xLabel?void 0!==e.yLabel&&"scattercarpet"!==e.trace.type&&(s=e.yLabel):s=void 0===e.yLabel?e.xLabel:"("+e.xLabel+", "+e.yLabel+")",!e.text&&0!==e.text||Array.isArray(e.text)||(s+=(s?"<br>":"")+e.text),void 0!==e.extraText&&(s+=(s?"<br>":"")+e.extraText),o&&""===s&&!e.hovertemplate&&(""===l&&o.remove(),s=l);var h=e.hovertemplate||!1;if(h){var d=e.hovertemplateLabels||e;e[c+"Label"]!==n&&(d[c+"other"]=d[c+"Val"],d[c+"otherLabel"]=d[c+"Label"]),s=(s=i.hovertemplateString(h,d,a._d3locale,e.eventData[0]||{},e.trace._meta)).replace(V,(function(t,r){return l=E(r,e.nameLength),""}))}return[s,l]}function H(e,t,r,n){var o=function(e){return e*r},i=function(e){return e*n};e.each((function(e){var r=a.select(this);if(e.del)return r.remove();var n=r.select("text.nums"),l=e.anchor,s="end"===l?-1:1,c={start:1,end:-1,middle:0}[l],h=c*(O+M),v=h+c*(e.txwidth+M),x=0,p=e.offset,u="middle"===l;u&&(h-=e.tx2width/2,v+=e.txwidth/2+M),t&&(p*=-A,x=e.offset*w),r.select("path").attr("d",u?"M-"+o(e.bx/2+e.tx2width/2)+","+i(p-e.by/2)+"h"+o(e.bx)+"v"+i(e.by)+"h-"+o(e.bx)+"Z":"M0,0L"+o(s*O+x)+","+i(O+p)+"v"+i(e.by/2-O)+"h"+o(s*e.bx)+"v-"+i(e.by)+"H"+o(s*O+x)+"V"+i(p-O)+"Z");var y=x+h,m=p+e.ty0-e.by/2+M,b=e.textAlign||"auto";"auto"!==b&&("left"===b&&"start"!==l?(n.attr("text-anchor","start"),y=u?-e.bx/2-e.tx2width/2+M:-e.bx-M):"right"===b&&"end"!==l&&(n.attr("text-anchor","end"),y=u?e.bx/2-e.tx2width/2-M:e.bx+M)),n.call(f.positionText,o(y),i(m)),e.tx2width&&(r.select("text.name").call(f.positionText,o(v+c*M+x),i(p+e.ty0-e.by/2+M)),r.select("rect").call(d.setRect,o(v+(c-1)*e.tx2width/2+x),i(p-e.by/2-1),o(e.tx2width),i(e.by+2)))}))}function I(e,t){var r=e.index,a=e.trace||{},o=e.cd[0],l=e.cd[r]||{};function s(e){return e||n(e)&&0===e}var c=Array.isArray(r)?function(e,t){var n=i.castOption(o,r,e);return s(n)?n:i.extractOption({},a,"",t)}:function(e,t){return i.extractOption(l,a,e,t)};function f(t,r,a){var n=c(r,a);s(n)&&(e[t]=n)}if(f("hoverinfo","hi","hoverinfo"),f("bgcolor","hbg","hoverlabel.bgcolor"),f("borderColor","hbc","hoverlabel.bordercolor"),f("fontFamily","htf","hoverlabel.font.family"),f("fontSize","hts","hoverlabel.font.size"),f("fontColor","htc","hoverlabel.font.color"),f("nameLength","hnl","hoverlabel.namelength"),f("textAlign","hta","hoverlabel.align"),e.posref="y"===t||"closest"===t&&"h"===a.orientation?e.xa._offset+(e.x0+e.x1)/2:e.ya._offset+(e.y0+e.y1)/2,e.x0=i.constrain(e.x0,0,e.xa._length),e.x1=i.constrain(e.x1,0,e.xa._length),e.y0=i.constrain(e.y0,0,e.ya._length),e.y1=i.constrain(e.y1,0,e.ya._length),void 0!==e.xLabelVal&&(e.xLabel="xLabel"in e?e.xLabel:p.hoverLabelText(e.xa,e.xLabelVal,a.xhoverformat),e.xVal=e.xa.c2d(e.xLabelVal)),void 0!==e.yLabelVal&&(e.yLabel="yLabel"in e?e.yLabel:p.hoverLabelText(e.ya,e.yLabelVal,a.yhoverformat),e.yVal=e.ya.c2d(e.yLabelVal)),void 0!==e.zLabelVal&&void 0===e.zLabel&&(e.zLabel=String(e.zLabelVal)),!isNaN(e.xerr)&&!("log"===e.xa.type&&e.xerr<=0)){var h=p.tickText(e.xa,e.xa.c2l(e.xerr),"hover").text;void 0!==e.xerrneg?e.xLabel+=" +"+h+" / -"+p.tickText(e.xa,e.xa.c2l(e.xerrneg),"hover").text:e.xLabel+=" \xb1 "+h,"x"===t&&(e.distance+=1)}if(!isNaN(e.yerr)&&!("log"===e.ya.type&&e.yerr<=0)){var d=p.tickText(e.ya,e.ya.c2l(e.yerr),"hover").text;void 0!==e.yerrneg?e.yLabel+=" +"+d+" / -"+p.tickText(e.ya,e.ya.c2l(e.yerrneg),"hover").text:e.yLabel+=" \xb1 "+d,"y"===t&&(e.distance+=1)}var v=e.hoverinfo||e.trace.hoverinfo;return v&&"all"!==v&&(-1===(v=Array.isArray(v)?v:v.split("+")).indexOf("x")&&(e.xLabel=void 0),-1===v.indexOf("y")&&(e.yLabel=void 0),-1===v.indexOf("z")&&(e.zLabel=void 0),-1===v.indexOf("text")&&(e.text=void 0),-1===v.indexOf("name")&&(e.name=void 0)),e}function C(e,t,r){var a,n,i=r.container,l=r.fullLayout,s=l._size,c=r.event,f=!!t.hLinePoint,h=!!t.vLinePoint;if(i.selectAll(".spikeline").remove(),h||f){var x=v.combine(l.plot_bgcolor,l.paper_bgcolor);if(f){var u,y,m=t.hLinePoint;a=m&&m.xa,"cursor"===(n=m&&m.ya).spikesnap?(u=c.pointerX,y=c.pointerY):(u=a._offset+m.x,y=n._offset+m.y);var b,g,_=o.readability(m.color,x)<1.5?v.contrast(x):m.color,L=n.spikemode,k=n.spikethickness,w=n.spikecolor||_,A=p.getPxPosition(e,n);if(-1!==L.indexOf("toaxis")||-1!==L.indexOf("across")){if(-1!==L.indexOf("toaxis")&&(b=A,g=u),-1!==L.indexOf("across")){var O=n._counterDomainMin,M=n._counterDomainMax;"free"===n.anchor&&(O=Math.min(O,n.position),M=Math.max(M,n.position)),b=s.l+O*s.w,g=s.l+M*s.w}i.insert("line",":first-child").attr({x1:b,x2:g,y1:y,y2:y,"stroke-width":k,stroke:w,"stroke-dasharray":d.dashStyle(n.spikedash,k)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:b,x2:g,y1:y,y2:y,"stroke-width":k+2,stroke:x}).classed("spikeline",!0).classed("crisp",!0)}-1!==L.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:A+("right"!==n.side?k:-k),cy:y,r:k,fill:w}).classed("spikeline",!0)}if(h){var T,S,P=t.vLinePoint;a=P&&P.xa,n=P&&P.ya,"cursor"===a.spikesnap?(T=c.pointerX,S=c.pointerY):(T=a._offset+P.x,S=n._offset+P.y);var V,D,z=o.readability(P.color,x)<1.5?v.contrast(x):P.color,H=a.spikemode,I=a.spikethickness,C=a.spikecolor||z,N=p.getPxPosition(e,a);if(-1!==H.indexOf("toaxis")||-1!==H.indexOf("across")){if(-1!==H.indexOf("toaxis")&&(V=N,D=S),-1!==H.indexOf("across")){var E=a._counterDomainMin,R=a._counterDomainMax;"free"===a.anchor&&(E=Math.min(E,a.position),R=Math.max(R,a.position)),V=s.t+(1-R)*s.h,D=s.t+(1-E)*s.h}i.insert("line",":first-child").attr({x1:T,x2:T,y1:V,y2:D,"stroke-width":I,stroke:C,"stroke-dasharray":d.dashStyle(a.spikedash,I)}).classed("spikeline",!0).classed("crisp",!0),i.insert("line",":first-child").attr({x1:T,x2:T,y1:V,y2:D,"stroke-width":I+2,stroke:x}).classed("spikeline",!0).classed("crisp",!0)}-1!==H.indexOf("marker")&&i.insert("circle",":first-child").attr({cx:T,cy:N-("top"!==a.side?I:-I),r:I,fill:C}).classed("spikeline",!0)}}}function N(e,t){return!t||(t.vLinePoint!==e._spikepoints.vLinePoint||t.hLinePoint!==e._spikepoints.hLinePoint)}function E(e,t){return f.plainText(e||"",{len:t,allowedTags:["br","sub","sup","b","i","em"]})}function R(e,t,r){var a=t[e+"a"],n=t[e+"Val"],o=t.cd[0];if("category"===a.type)n=a._categoriesMap[n];else if("date"===a.type){var i=t.trace[e+"periodalignment"];if(i){var l=t.cd[t.index],s=l[e+"Start"];void 0===s&&(s=l[e]);var c=l[e+"End"];void 0===c&&(c=l[e]);var f=c-s;"end"===i?n+=f:"middle"===i&&(n+=f/2)}n=a.d2c(n)}return o&&o.t&&o.t.posLetter===a._id&&("group"!==r.boxmode&&"group"!==r.violinmode||(n+=o.t.dPos)),n}function F(e){return e.offsetTop+e.clientTop}function X(e){return e.offsetLeft+e.clientLeft}function Y(e,t){var r=e._fullLayout,a=t.getBoundingClientRect(),n=a.x,o=a.y,l=n+a.width,s=o+a.height,c=i.apply3DTransform(r._invTransform)(n,o),f=i.apply3DTransform(r._invTransform)(l,s),h=c[0],d=c[1],v=f[0],x=f[1];return{x:h,y:d,width:v-h,height:x-d,top:Math.min(d,x),left:Math.min(h,v),right:Math.max(h,v),bottom:Math.max(d,x)}}},94158:function(e,t,r){var a=r(47401),n=r(31454),o=r(14904).isUnifiedHover;e.exports=function(e,t,r,i){function l(e){i.font[e]||(i.font[e]=t.legend?t.legend.font[e]:t.font[e])}i=i||{},t&&o(t.hovermode)&&(i.font||(i.font={}),l("size"),l("family"),l("color"),t.legend?(i.bgcolor||(i.bgcolor=n.combine(t.legend.bgcolor,t.paper_bgcolor)),i.bordercolor||(i.bordercolor=t.legend.bordercolor)):i.bgcolor||(i.bgcolor=t.paper_bgcolor)),r("hoverlabel.bgcolor",i.bgcolor),r("hoverlabel.bordercolor",i.bordercolor),r("hoverlabel.namelength",i.namelength),a.coerceFont(r,"hoverlabel.font",i.font),r("hoverlabel.align",i.align)}},30337:function(e,t,r){var a=r(47401),n=r(51499);e.exports=function(e,t){function r(r,o){return void 0!==t[r]?t[r]:a.coerce(e,t,n,r,o)}return r("clickmode"),r("hovermode")}},21661:function(e,t,r){var a=r(62258),n=r(47401),o=r(52783),i=r(14904),l=r(51499),s=r(81031);e.exports={moduleType:"component",name:"fx",constants:r(90260),schema:{layout:l},attributes:r(97280),layoutAttributes:l,supplyLayoutGlobalDefaults:r(51134),supplyDefaults:r(98020),supplyLayoutDefaults:r(49580),calc:r(69776),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:function(e,t,r){return n.castOption(e,t,"hoverlabel."+r)},castHoverinfo:function(e,t,r){return n.castOption(e,r,"hoverinfo",(function(r){return n.coerceHoverinfo({hoverinfo:r},{_module:e._module},t)}))},hover:s.hover,unhover:o.unhover,loneHover:s.loneHover,loneUnhover:function(e){var t=n.isD3Selection(e)?e:a.select(e);t.selectAll("g.hovertext").remove(),t.selectAll(".spikeline").remove()},click:r(82913)}}}]);