"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[6933],{19744:function(e,t,o){var a=o(5153),i=o(46218),r=o(62405),n=o(62453),s=o(32915),l=o(87241).extendFlat,p=a({editType:"calc",description:["Sets the global font.","Note that fonts used in traces and other","layout components inherit from the global font."].join(" ")});p.family.dflt='"Open Sans", verdana, arial, sans-serif',p.size.dflt=12,p.color.dflt=r.defaultLine,e.exports={font:p,title:{text:{valType:"string",editType:"layoutstyle",description:["Sets the plot's title.","Note that before the existence of `title.text`, the title's","contents used to be defined as the `title` attribute itself.","This behavior has been deprecated."].join(" ")},font:a({editType:"layoutstyle",description:["Sets the title font.","Note that the title's font used to be customized","by the now deprecated `titlefont` attribute."].join(" ")}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `x` refers to.","*container* spans the entire `width` of the plot.","*paper* refers to the width of the plotting area only."].join(" ")},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle",description:["Sets the container `y` refers to.","*container* spans the entire `height` of the plot.","*paper* refers to the height of the plotting area only."].join(" ")},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle",description:["Sets the x position with respect to `xref` in normalized","coordinates from *0* (left) to *1* (right)."].join(" ")},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle",description:["Sets the y position with respect to `yref` in normalized","coordinates from *0* (bottom) to *1* (top).","*auto* places the baseline of the title onto the","vertical center of the top margin."].join(" ")},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle",description:["Sets the title's horizontal alignment with respect to its x position.","*left* means that the title starts at x,","*right* means that the title ends at x","and *center* means that the title's center is at x.","*auto* divides `xref` by three and calculates the `xanchor`","value automatically based on the value of `x`."].join(" ")},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle",description:["Sets the title's vertical alignment with respect to its y position.","*top* means that the title's cap line is at y,","*bottom* means that the title's baseline is at y","and *middle* means that the title's midline is at y.","*auto* divides `yref` by three and calculates the `yanchor`","value automatically based on the value of `y`."].join(" ")},pad:l(s({editType:"layoutstyle"}),{description:["Sets the padding of the title.","Each padding value only applies when the corresponding","`xanchor`/`yanchor` value is set accordingly. E.g. for left","padding to take effect, `xanchor` must be set to *left*.","The same rule applies if `xanchor`/`yanchor` is determined automatically.","Padding is muted if the respective anchor value is *middle*/*center*."].join(" ")}),editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot",description:["Determines how the font size for various text","elements are uniformed between each trace type.","If the computed text sizes were smaller than","the minimum size defined by `uniformtext.minsize`","using *hide* option hides the text; and","using *show* option shows the text without further downscaling.","Please note that if the size defined by `minsize` is greater than","the font size defined by trace, then the `minsize` is used."].join(" ")},minsize:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the minimum text size between traces of the same type."].join(" ")},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none",description:["Determines whether or not a layout width or height","that has been left undefined by the user","is initialized on each relayout.","Note that, regardless of this attribute,","an undefined layout width or height","is always initialized on the first call to plot."].join(" ")},width:{valType:"number",min:10,dflt:700,editType:"plot",description:["Sets the plot's width (in px)."].join(" ")},height:{valType:"number",min:10,dflt:450,editType:"plot",description:["Sets the plot's height (in px)."].join(" ")},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the left margin (in px)."},r:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the right margin (in px)."},t:{valType:"number",min:0,dflt:100,editType:"plot",description:"Sets the top margin (in px)."},b:{valType:"number",min:0,dflt:80,editType:"plot",description:"Sets the bottom margin (in px)."},pad:{valType:"number",min:0,dflt:0,editType:"plot",description:["Sets the amount of padding (in px)","between the plotting area and the axis lines"].join(" ")},autoexpand:{valType:"boolean",dflt:!0,editType:"plot",description:["Turns on/off margin expansion computations.","Legends, colorbars, updatemenus, sliders, axis rangeselector and rangeslider","are allowed to push the margins by defaults."].join(" ")},editType:"plot"},computed:{valType:"any",editType:"none",description:["Placeholder for exporting automargin-impacting values namely","`margin.t`, `margin.b`, `margin.l` and `margin.r` in *full-json* mode."].join(" ")},paper_bgcolor:{valType:"color",dflt:r.background,editType:"plot",description:"Sets the background color of the paper where the graph is drawn."},plot_bgcolor:{valType:"color",dflt:r.background,editType:"layoutstyle",description:["Sets the background color of the plotting area in-between x and y axes."].join(" ")},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc",description:["Using *strict* a numeric string in trace data is not converted to a number.","Using *convert types* a numeric string in trace data may be","treated as a number during automatic axis `type` detection.","This is the default value; however it could be overridden for individual axes."].join(" ")},separators:{valType:"string",editType:"plot",description:["Sets the decimal and thousand separators.","For example, *. * puts a '.' before decimals and a space","between thousands. In English locales, dflt is *.,* but","other locales may alter this default."].join(" ")},hidesources:{valType:"boolean",dflt:!1,editType:"plot",description:["Determines whether or not a text link citing the data source is","placed at the bottom-right cored of the figure.","Has only an effect only on graphs that have been generated via","forked graphs from the Chart Studio Cloud (at https://chart-studio.plotly.com or on-premise)."].join(" ")},showlegend:{valType:"boolean",editType:"legend",description:["Determines whether or not a legend is drawn.","Default is `true` if there is a trace to show and any of these:","a) Two or more traces would by default be shown in the legend.","b) One pie trace is shown in the legend.","c) One trace is explicitly given with `showlegend: true`."].join(" ")},colorway:{valType:"colorlist",dflt:r.defaults,editType:"calc",description:"Sets the default trace colors."},datarevision:{valType:"any",editType:"calc",description:["If provided, a changed value tells `Plotly.react` that","one or more data arrays has changed. This way you can modify","arrays in-place rather than making a complete new copy for an","incremental change.","If NOT provided, `Plotly.react` assumes that data arrays are","being treated as immutable, thus any data array with a","different identity from its predecessor contains new data."].join(" ")},uirevision:{valType:"any",editType:"none",description:["Used to allow user interactions with the plot to persist after","`Plotly.react` calls that are unaware of these interactions.","If `uirevision` is omitted, or if it is given and it changed from","the previous `Plotly.react` call, the exact new figure is used.","If `uirevision` is truthy and did NOT change, any attribute","that has been affected by user interactions and did not receive a","different value in the new figure will keep the interaction value.","`layout.uirevision` attribute serves as the default for","`uirevision` attributes in various sub-containers. For finer","control you can set these sub-attributes directly. For example,","if your app separately controls the data on the x and y axes you","might set `xaxis.uirevision=*time*` and `yaxis.uirevision=*cost*`.","Then if only the y data is changed, you can update","`yaxis.uirevision=*quantity*` and the y axis range will reset but","the x axis range will retain any user-driven zoom."].join(" ")},editrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in `editable: true`","configuration, other than trace names and axis titles.","Defaults to `layout.uirevision`."].join(" ")},selectionrevision:{valType:"any",editType:"none",description:["Controls persistence of user-driven changes in selected points","from all traces."].join(" ")},template:{valType:"any",editType:"calc",description:["Default attributes to be applied to the plot. Templates can be","created from existing plots using `Plotly.makeTemplate`, or","created manually. They should be objects with format:","`{layout: layoutTemplate, data: {[type]: [traceTemplate, ...]}, ...}`","`layoutTemplate` and `traceTemplate` are objects matching the","attribute structure of `layout` and a data trace. ","Trace templates are applied cyclically to traces of each type.","Container arrays (eg `annotations`) have special handling:","An object ending in `defaults` (eg `annotationdefaults`) is applied","to each array item. But if an item has a `templateitemname` key","we look in the template array for an item with matching `name` and","apply that instead. If no matching `name` is found we mark the item","invisible. Any named template item not referenced is appended to","the end of the array, so you can use this for a watermark annotation","or a logo image, for example. To omit one of these items on the plot,","make an item with matching `templateitemname` and `visible: false`."].join(" ")},newshape:n.newshape,activeshape:n.activeshape,meta:{valType:"any",arrayOk:!0,editType:"plot",description:["Assigns extra meta information that can be used in various `text` attributes.","Attributes such as the graph, axis and colorbar `title.text`, annotation `text`","`trace.name` in legend items, `rangeselector`, `updatemenus` and `sliders` `label` text","all support `meta`. One can access `meta` fields using template strings:","`%{meta[i]}` where `i` is the index of the `meta`","item in question.","`meta` can also be an object for example `{key: value}` which can be accessed","%{meta[key]}."].join(" ")},transition:l({},i.transition,{description:["Sets transition options used during Plotly.react updates."].join(" "),editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle",description:["Value of `title` is no longer a simple *string* but a set of sub-attributes.","To set the contents of the title, please use `title.text` now."].join(" ")},titlefont:a({editType:"layoutstyle",description:["Former `titlefont` is now the sub-attribute `font` of `title`.","To customize title font properties, please use `title.font` now."].join(" ")})}}},82949:function(e,t,o){var a=o(73314),i="1.10.1",r='\xa9 <a target="_blank" href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',n=['\xa9 <a target="_blank" href="https://carto.com/">Carto</a>',r].join(" "),s=['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://www.openstreetmap.org/copyright">ODbL</a>'].join(" "),l={"open-street-map":{id:"osm",version:8,sources:{"plotly-osm-tiles":{type:"raster",attribution:r,tiles:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-osm-tiles",type:"raster",source:"plotly-osm-tiles",minzoom:0,maxzoom:22}]},"white-bg":{id:"white-bg",version:8,sources:{},layers:[{id:"white-bg",type:"background",paint:{"background-color":"#FFFFFF"},minzoom:0,maxzoom:22}]},"carto-positron":{id:"carto-positron",version:8,sources:{"plotly-carto-positron":{type:"raster",attribution:n,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/light_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-positron",type:"raster",source:"plotly-carto-positron",minzoom:0,maxzoom:22}]},"carto-darkmatter":{id:"carto-darkmatter",version:8,sources:{"plotly-carto-darkmatter":{type:"raster",attribution:n,tiles:["https://cartodb-basemaps-c.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-carto-darkmatter",type:"raster",source:"plotly-carto-darkmatter",minzoom:0,maxzoom:22}]},"stamen-terrain":{id:"stamen-terrain",version:8,sources:{"plotly-stamen-terrain":{type:"raster",attribution:s,tiles:["https://stamen-tiles.a.ssl.fastly.net/terrain/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-terrain",type:"raster",source:"plotly-stamen-terrain",minzoom:0,maxzoom:22}]},"stamen-toner":{id:"stamen-toner",version:8,sources:{"plotly-stamen-toner":{type:"raster",attribution:s,tiles:["https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-toner",type:"raster",source:"plotly-stamen-toner",minzoom:0,maxzoom:22}]},"stamen-watercolor":{id:"stamen-watercolor",version:8,sources:{"plotly-stamen-watercolor":{type:"raster",attribution:['Map tiles by <a target="_blank" href="https://stamen.com">Stamen Design</a>','under <a target="_blank" href="https://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>',"|",'Data by <a target="_blank" href="https://openstreetmap.org">OpenStreetMap</a> contributors','under <a target="_blank" href="https://creativecommons.org/licenses/by-sa/3.0">CC BY SA</a>'].join(" "),tiles:["https://stamen-tiles.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.png"],tileSize:256}},layers:[{id:"plotly-stamen-watercolor",type:"raster",source:"plotly-stamen-watercolor",minzoom:0,maxzoom:22}]}},p=a(l);e.exports={requiredVersion:i,styleUrlPrefix:"mapbox://styles/mapbox/",styleUrlSuffix:"v9",styleValuesMapbox:["basic","streets","outdoors","light","dark","satellite","satellite-streets"],styleValueDflt:"basic",stylesNonMapbox:l,styleValuesNonMapbox:p,traceLayerPrefix:"plotly-trace-layer-",layoutLayerPrefix:"plotly-layout-layer-",wrongVersionErrorMsg:["Your custom plotly.js bundle is not using the correct mapbox-gl version","Please install mapbox-gl@"+i+"."].join("\n"),noAccessTokenErrorMsg:["Missing Mapbox access token.","Mapbox trace type require a Mapbox access token to be registered.","For example:","  Plotly.newPlot(gd, data, layout, { mapboxAccessToken: 'my-access-token' });","More info here: https://www.mapbox.com/help/define-access-token/"].join("\n"),missingStyleErrorMsg:["No valid mapbox style found, please set `mapbox.style` to one of:",p.join(", "),"or register a Mapbox access token to use a Mapbox-served style."].join("\n"),multipleTokensErrorMsg:["Set multiple mapbox access token across different mapbox subplot,","using first token found as mapbox-gl does not allow multipleaccess tokens on the same page."].join("\n"),mapOnErrorMsg:"Mapbox error.",mapboxLogo:{path0:"m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z",path1:"M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z",path2:"M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z",polygon:"11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34"},styleRules:{map:"overflow:hidden;position:relative;","missing-css":"display:none;",canary:"background-color:salmon;","ctrl-bottom-left":"position: absolute; pointer-events: none; z-index: 2; bottom: 0; left: 0;","ctrl-bottom-right":"position: absolute; pointer-events: none; z-index: 2; right: 0; bottom: 0;",ctrl:"clear: both; pointer-events: auto; transform: translate(0, 0);","ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner":"display: none;","ctrl-attrib.mapboxgl-compact:hover .mapboxgl-ctrl-attrib-inner":"display: block; margin-top:2px","ctrl-attrib.mapboxgl-compact:hover":"padding: 2px 24px 2px 4px; visibility: visible; margin-top: 6px;","ctrl-attrib.mapboxgl-compact::after":'content: ""; cursor: pointer; position: absolute; background-image: url(\'data:image/svg+xml;charset=utf-8,%3Csvg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"%3E %3Cpath fill="%23333333" fill-rule="evenodd" d="M4,10a6,6 0 1,0 12,0a6,6 0 1,0 -12,0 M9,7a1,1 0 1,0 2,0a1,1 0 1,0 -2,0 M9,10a1,1 0 1,1 2,0l0,3a1,1 0 1,1 -2,0"/%3E %3C/svg%3E\'); background-color: rgba(255, 255, 255, 0.5); width: 24px; height: 24px; box-sizing: border-box; border-radius: 12px;',"ctrl-attrib.mapboxgl-compact":"min-height: 20px; padding: 0; margin: 10px; position: relative; background-color: #fff; border-radius: 3px 12px 12px 3px;","ctrl-bottom-right > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; right: 0","ctrl-bottom-left > .mapboxgl-ctrl-attrib.mapboxgl-compact::after":"bottom: 0; left: 0","ctrl-bottom-left .mapboxgl-ctrl":"margin: 0 0 10px 10px; float: left;","ctrl-bottom-right .mapboxgl-ctrl":"margin: 0 10px 10px 0; float: right;","ctrl-attrib":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a":"color: rgba(0, 0, 0, 0.75); text-decoration: none; font-size: 12px","ctrl-attrib a:hover":"color: inherit; text-decoration: underline;","ctrl-attrib .mapbox-improve-map":"font-weight: bold; margin-left: 2px;","attrib-empty":"display: none;","ctrl-logo":'display:block; width: 21px; height: 21px; background-image: url(\'data:image/svg+xml;charset=utf-8,%3C?xml version="1.0" encoding="utf-8"?%3E %3Csvg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 21 21" style="enable-background:new 0 0 21 21;" xml:space="preserve"%3E%3Cg transform="translate(0,0.01)"%3E%3Cpath d="m 10.5,1.24 c -5.11,0 -9.25,4.15 -9.25,9.25 0,5.1 4.15,9.25 9.25,9.25 5.1,0 9.25,-4.15 9.25,-9.25 0,-5.11 -4.14,-9.25 -9.25,-9.25 z m 4.39,11.53 c -1.93,1.93 -4.78,2.31 -6.7,2.31 -0.7,0 -1.41,-0.05 -2.1,-0.16 0,0 -1.02,-5.64 2.14,-8.81 0.83,-0.83 1.95,-1.28 3.13,-1.28 1.27,0 2.49,0.51 3.39,1.42 1.84,1.84 1.89,4.75 0.14,6.52 z" style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3Cpath d="M 10.5,-0.01 C 4.7,-0.01 0,4.7 0,10.49 c 0,5.79 4.7,10.5 10.5,10.5 5.8,0 10.5,-4.7 10.5,-10.5 C 20.99,4.7 16.3,-0.01 10.5,-0.01 Z m 0,19.75 c -5.11,0 -9.25,-4.15 -9.25,-9.25 0,-5.1 4.14,-9.26 9.25,-9.26 5.11,0 9.25,4.15 9.25,9.25 0,5.13 -4.14,9.26 -9.25,9.26 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpath d="M 14.74,6.25 C 12.9,4.41 9.98,4.35 8.23,6.1 5.07,9.27 6.09,14.91 6.09,14.91 c 0,0 5.64,1.02 8.81,-2.14 C 16.64,11 16.59,8.09 14.74,6.25 Z m -2.27,4.09 -0.91,1.87 -0.9,-1.87 -1.86,-0.91 1.86,-0.9 0.9,-1.87 0.91,1.87 1.86,0.9 z" style="opacity:0.35;enable-background:new" class="st1"/%3E%3Cpolygon points="11.56,12.21 10.66,10.34 8.8,9.43 10.66,8.53 11.56,6.66 12.47,8.53 14.33,9.43 12.47,10.34 " style="opacity:0.9;fill:%23ffffff;enable-background:new" class="st0"/%3E%3C/g%3E%3C/svg%3E\')'}}},28594:function(e,t,o){var a=o(47401);e.exports=function(e,t){var o=e.split(" "),i=o[0],r=o[1],n=a.isArrayOrTypedArray(t)?a.mean(t):t,s=.5+n/100,l=1.5+n/100,p=["",""],c=[0,0];switch(i){case"top":p[0]="top",c[1]=-l;break;case"bottom":p[0]="bottom",c[1]=l}switch(r){case"left":p[1]="right",c[0]=-s;break;case"right":p[1]="left",c[0]=s}return{anchor:p[0]&&p[1]?p.join("-"):p[0]?p[0]:p[1]?p[1]:"center",offset:c}}},25456:function(e,t,o){var a=o(68953),i=o(47401),r=i.strTranslate,n=i.strScale,s=o(13373).fX,l=o(6412),p=o(62258),c=o(41707),d=o(43995),u=o(4409),h="mapbox",y=t.constants=o(82949);function m(e){return"string"===typeof e&&(-1!==y.styleValuesMapbox.indexOf(e)||0===e.indexOf("mapbox://"))}t.name=h,t.attr="subplot",t.idRoot=h,t.idRegex=t.attrRegex=i.counterRegex(h),t.attributes={subplot:{valType:"subplotid",dflt:"mapbox",editType:"calc",description:["Sets a reference between this trace's data coordinates and","a mapbox subplot.","If *mapbox* (the default value), the data refer to `layout.mapbox`.","If *mapbox2*, the data refer to `layout.mapbox2`, and so on."].join(" ")}},t.layoutAttributes=o(94890),t.supplyLayoutDefaults=o(84541),t.plot=function(e){var t=e._fullLayout,o=e.calcdata,r=t._subplots[h];if(a.version!==y.requiredVersion)throw new Error(y.wrongVersionErrorMsg);var n=function(e,t){var o=e._fullLayout,a=e._context;if(""===a.mapboxAccessToken)return"";for(var r=[],n=[],s=!1,l=!1,p=0;p<t.length;p++){var c=o[t[p]],d=c.accesstoken;m(c.style)&&(d?i.pushUnique(r,d):(m(c._input.style)&&(i.error("Uses Mapbox map style, but did not set an access token."),s=!0),l=!0)),d&&i.pushUnique(n,d)}if(l){var u=s?y.noAccessTokenErrorMsg:y.missingStyleErrorMsg;throw i.error(u),new Error(u)}return r.length?(r.length>1&&i.warn(y.multipleTokensErrorMsg),r[0]):(n.length&&i.log(["Listed mapbox access token(s)",n.join(","),"but did not use a Mapbox map style, ignoring token(s)."].join(" ")),"")}(e,r);a.accessToken=n;for(var l=0;l<r.length;l++){var p=r[l],c=s(o,h,p),d=t[p],f=d._subplot;f||(f=new u(e,p),t[p]._subplot=f),f.viewInitial||(f.viewInitial={center:i.extendFlat({},d.center),zoom:d.zoom,bearing:d.bearing,pitch:d.pitch}),f.plot(c,t,e._promises)}},t.clean=function(e,t,o,a){for(var i=a._subplots[h]||[],r=0;r<i.length;r++){var n=i[r];!t[n]&&a[n]._subplot&&a[n]._subplot.destroy()}},t.toSVG=function(e){for(var t=e._fullLayout,o=t._subplots[h],a=t._size,i=0;i<o.length;i++){var s=t[o[i]],u=s.domain,m=s._subplot.toImage("png");t._glimages.append("svg:image").attr({xmlns:l.svg,"xlink:href":m,x:a.l+a.w*u.x[0],y:a.t+a.h*(1-u.y[1]),width:a.w*(u.x[1]-u.x[0]),height:a.h*(u.y[1]-u.y[0]),preserveAspectRatio:"none"});var f=p.select(s._subplot.div);if(!(null===f.select(".mapboxgl-ctrl-logo").node().offsetParent)){var b=t._glimages.append("g");b.attr("transform",r(a.l+a.w*u.x[0]+10,a.t+a.h*(1-u.y[0])-31)),b.append("path").attr("d",y.mapboxLogo.path0).style({opacity:.9,fill:"#ffffff","enable-background":"new"}),b.append("path").attr("d",y.mapboxLogo.path1).style("opacity",.35).style("enable-background","new"),b.append("path").attr("d",y.mapboxLogo.path2).style("opacity",.35).style("enable-background","new"),b.append("polygon").attr("points",y.mapboxLogo.polygon).style({opacity:.9,fill:"#ffffff","enable-background":"new"})}var g=f.select(".mapboxgl-ctrl-attrib").text().replace("Improve this map",""),x=t._glimages.append("g"),v=x.append("text");v.text(g).classed("static-attribution",!0).attr({"font-size":12,"font-family":"Arial",color:"rgba(0, 0, 0, 0.75)","text-anchor":"end","data-unformatted":g});var w=c.bBox(v.node()),T=a.w*(u.x[1]-u.x[0]);if(w.width>T/2){var k=g.split("|").join("<br>");v.text(k).attr("data-unformatted",k).call(d.convertToTspans,e),w=c.bBox(v.node())}v.attr("transform",r(-3,8-w.height)),x.insert("rect",".static-attribution").attr({x:-w.width-6,y:-w.height-3,width:w.width+6,height:w.height+3,fill:"rgba(255, 255, 255, 0.75)"});var S=1;w.width+6>T&&(S=T/(w.width+6));var z=[a.l+a.w*u.x[1],a.t+a.h*(1-u.y[0])];x.attr("transform",r(z[0],z[1])+n(S))}},t.updateFx=function(e){for(var t=e._fullLayout,o=t._subplots[h],a=0;a<o.length;a++){t[o[a]]._subplot.updateFx(t)}}},75612:function(e,t,o){var a=o(47401),i=o(43995).sanitizeHTML,r=o(28594),n=o(82949);function s(e,t){this.subplot=e,this.uid=e.uid+"-"+t,this.index=t,this.idSource="source-"+this.uid,this.idLayer=n.layoutLayerPrefix+this.uid,this.sourceType=null,this.source=null,this.layerType=null,this.below=null,this.visible=!1}var l=s.prototype;function p(e){if(!e.visible)return!1;var t=e.source;if(Array.isArray(t)&&t.length>0){for(var o=0;o<t.length;o++)if("string"!==typeof t[o]||0===t[o].length)return!1;return!0}return a.isPlainObject(t)||"string"===typeof t&&t.length>0}function c(e){var t={},o={};switch(e.type){case"circle":a.extendFlat(o,{"circle-radius":e.circle.radius,"circle-color":e.color,"circle-opacity":e.opacity});break;case"line":a.extendFlat(o,{"line-width":e.line.width,"line-color":e.color,"line-opacity":e.opacity,"line-dasharray":e.line.dash});break;case"fill":a.extendFlat(o,{"fill-color":e.color,"fill-outline-color":e.fill.outlinecolor,"fill-opacity":e.opacity});break;case"symbol":var i=e.symbol,n=r(i.textposition,i.iconsize);a.extendFlat(t,{"icon-image":i.icon+"-15","icon-size":i.iconsize/10,"text-field":i.text,"text-size":i.textfont.size,"text-anchor":n.anchor,"text-offset":n.offset,"symbol-placement":i.placement}),a.extendFlat(o,{"icon-color":e.color,"text-color":i.textfont.color,"text-opacity":e.opacity});break;case"raster":a.extendFlat(o,{"raster-fade-duration":0,"raster-opacity":e.opacity})}return{layout:t,paint:o}}l.update=function(e){this.visible?this.needsNewImage(e)?this.updateImage(e):this.needsNewSource(e)?(this.removeLayer(),this.updateSource(e),this.updateLayer(e)):this.needsNewLayer(e)?this.updateLayer(e):this.updateStyle(e):(this.updateSource(e),this.updateLayer(e)),this.visible=p(e)},l.needsNewImage=function(e){return this.subplot.map.getSource(this.idSource)&&"image"===this.sourceType&&"image"===e.sourcetype&&(this.source!==e.source||JSON.stringify(this.coordinates)!==JSON.stringify(e.coordinates))},l.needsNewSource=function(e){return this.sourceType!==e.sourcetype||JSON.stringify(this.source)!==JSON.stringify(e.source)||this.layerType!==e.type},l.needsNewLayer=function(e){return this.layerType!==e.type||this.below!==this.subplot.belowLookup["layout-"+this.index]},l.lookupBelow=function(){return this.subplot.belowLookup["layout-"+this.index]},l.updateImage=function(e){this.subplot.map.getSource(this.idSource).updateImage({url:e.source,coordinates:e.coordinates});var t=this.findFollowingMapboxLayerId(this.lookupBelow());null!==t&&this.subplot.map.moveLayer(this.idLayer,t)},l.updateSource=function(e){var t=this.subplot.map;if(t.getSource(this.idSource)&&t.removeSource(this.idSource),this.sourceType=e.sourcetype,this.source=e.source,p(e)){var o=function(e){var t,o=e.sourcetype,a=e.source,r={type:o};"geojson"===o?t="data":"vector"===o?t="string"===typeof a?"url":"tiles":"raster"===o?(t="tiles",r.tileSize=256):"image"===o&&(t="url",r.coordinates=e.coordinates);r[t]=a,e.sourceattribution&&(r.attribution=i(e.sourceattribution));return r}(e);t.addSource(this.idSource,o)}},l.findFollowingMapboxLayerId=function(e){if("traces"===e)for(var t=this.subplot.getMapLayers(),o=0;o<t.length;o++){var a=t[o].id;if("string"===typeof a&&0===a.indexOf(n.traceLayerPrefix)){e=a;break}}return e},l.updateLayer=function(e){var t=this.subplot,o=c(e),a=this.lookupBelow(),i=this.findFollowingMapboxLayerId(a);this.removeLayer(),p(e)&&t.addLayer({id:this.idLayer,source:this.idSource,"source-layer":e.sourcelayer||"",type:e.type,minzoom:e.minzoom,maxzoom:e.maxzoom,layout:o.layout,paint:o.paint},i),this.layerType=e.type,this.below=a},l.updateStyle=function(e){if(p(e)){var t=c(e);this.subplot.setOptions(this.idLayer,"setLayoutProperty",t.layout),this.subplot.setOptions(this.idLayer,"setPaintProperty",t.paint)}},l.removeLayer=function(){var e=this.subplot.map;e.getLayer(this.idLayer)&&e.removeLayer(this.idLayer)},l.dispose=function(){var e=this.subplot.map;e.getLayer(this.idLayer)&&e.removeLayer(this.idLayer),e.getSource(this.idSource)&&e.removeSource(this.idSource)},e.exports=function(e,t,o){var a=new s(e,t);return a.update(o),a}},94890:function(e,t,o){var a=o(47401),i=o(31454).defaultLine,r=o(16688).u,n=o(5153),s=o(47216).textposition,l=o(17342).overrideAll,p=o(92704).templatedArray,c=o(82949),d=n({description:["Sets the icon text font (color=mapbox.layer.paint.text-color, size=mapbox.layer.layout.text-size).","Has an effect only when `type` is set to *symbol*."].join(" ")});d.family.dflt="Open Sans Regular, Arial Unicode MS Regular",(e.exports=l({_arrayAttrRegexps:[a.counterRegex("mapbox",".layers",!0)],domain:r({name:"mapbox"}),accesstoken:{valType:"string",noBlank:!0,strict:!0,description:["Sets the mapbox access token to be used for this mapbox map.","Alternatively, the mapbox access token can be set in the","configuration options under `mapboxAccessToken`.","Note that accessToken are only required when `style`","(e.g with values :",c.styleValuesMapbox.join(", "),")","and/or a layout layer references the Mapbox server."].join(" ")},style:{valType:"any",values:c.styleValuesMapbox.concat(c.styleValuesNonMapbox),dflt:c.styleValueDflt,description:["Defines the map layers that are rendered by default below the trace layers defined in `data`,","which are themselves by default rendered below the layers defined in `layout.mapbox.layers`.","","These layers can be defined either explicitly as a Mapbox Style object which can contain multiple","layer definitions that load data from any public or private Tile Map Service (TMS or XYZ) or Web Map Service (WMS)","or implicitly by using one of the built-in style objects which use WMSes which do not require any","access tokens, or by using a default Mapbox style or custom Mapbox style URL, both of","which require a Mapbox access token","","Note that Mapbox access token can be set in the `accesstoken` attribute","or in the `mapboxAccessToken` config option.","","Mapbox Style objects are of the form described in the Mapbox GL JS documentation available at","https://docs.mapbox.com/mapbox-gl-js/style-spec","","The built-in plotly.js styles objects are:",c.styleValuesNonMapbox.join(", "),"","The built-in Mapbox styles are:",c.styleValuesMapbox.join(", "),"","Mapbox style URLs are of the form: mapbox://mapbox.mapbox-<name>-<version>"].join(" ")},center:{lon:{valType:"number",dflt:0,description:"Sets the longitude of the center of the map (in degrees East)."},lat:{valType:"number",dflt:0,description:"Sets the latitude of the center of the map (in degrees North)."}},zoom:{valType:"number",dflt:1,description:"Sets the zoom level of the map (mapbox.zoom)."},bearing:{valType:"number",dflt:0,description:"Sets the bearing angle of the map in degrees counter-clockwise from North (mapbox.bearing)."},pitch:{valType:"number",dflt:0,description:["Sets the pitch angle of the map","(in degrees, where *0* means perpendicular to the surface of the map) (mapbox.pitch)."].join(" ")},layers:p("layer",{visible:{valType:"boolean",dflt:!0,description:["Determines whether this layer is displayed"].join(" ")},sourcetype:{valType:"enumerated",values:["geojson","vector","raster","image"],dflt:"geojson",description:["Sets the source type for this layer,","that is the type of the layer data."].join(" ")},source:{valType:"any",description:["Sets the source data for this layer (mapbox.layer.source).","When `sourcetype` is set to *geojson*, `source` can be a URL to a GeoJSON","or a GeoJSON object.","When `sourcetype` is set to *vector* or *raster*, `source` can be a URL or","an array of tile URLs.","When `sourcetype` is set to *image*, `source` can be a URL to an image."].join(" ")},sourcelayer:{valType:"string",dflt:"",description:["Specifies the layer to use from a vector tile source (mapbox.layer.source-layer).","Required for *vector* source type that supports multiple layers."].join(" ")},sourceattribution:{valType:"string",description:["Sets the attribution for this source."].join(" ")},type:{valType:"enumerated",values:["circle","line","fill","symbol","raster"],dflt:"circle",description:["Sets the layer type,","that is the how the layer data set in `source` will be rendered","With `sourcetype` set to *geojson*, the following values are allowed:","*circle*, *line*, *fill* and *symbol*.","but note that *line* and *fill* are not compatible with Point","GeoJSON geometries.","With `sourcetype` set to *vector*, the following values are allowed:"," *circle*, *line*, *fill* and *symbol*.","With `sourcetype` set to *raster* or `*image*`, only the *raster* value is allowed."].join(" ")},coordinates:{valType:"any",description:["Sets the coordinates array contains [longitude, latitude] pairs","for the image corners listed in clockwise order:","top left, top right, bottom right, bottom left.","Only has an effect for *image* `sourcetype`."].join(" ")},below:{valType:"string",description:["Determines if the layer will be inserted","before the layer with the specified ID.","If omitted or set to '',","the layer will be inserted above every existing layer."].join(" ")},color:{valType:"color",dflt:i,description:["Sets the primary layer color.","If `type` is *circle*, color corresponds to the circle color (mapbox.layer.paint.circle-color)","If `type` is *line*, color corresponds to the line color (mapbox.layer.paint.line-color)","If `type` is *fill*, color corresponds to the fill color (mapbox.layer.paint.fill-color)","If `type` is *symbol*, color corresponds to the icon color (mapbox.layer.paint.icon-color)"].join(" ")},opacity:{valType:"number",min:0,max:1,dflt:1,description:["Sets the opacity of the layer.","If `type` is *circle*, opacity corresponds to the circle opacity (mapbox.layer.paint.circle-opacity)","If `type` is *line*, opacity corresponds to the line opacity (mapbox.layer.paint.line-opacity)","If `type` is *fill*, opacity corresponds to the fill opacity (mapbox.layer.paint.fill-opacity)","If `type` is *symbol*, opacity corresponds to the icon/text opacity (mapbox.layer.paint.text-opacity)"].join(" ")},minzoom:{valType:"number",min:0,max:24,dflt:0,description:["Sets the minimum zoom level (mapbox.layer.minzoom).","At zoom levels less than the minzoom, the layer will be hidden."].join(" ")},maxzoom:{valType:"number",min:0,max:24,dflt:24,description:["Sets the maximum zoom level (mapbox.layer.maxzoom).","At zoom levels equal to or greater than the maxzoom, the layer will be hidden."].join(" ")},circle:{radius:{valType:"number",dflt:15,description:["Sets the circle radius (mapbox.layer.paint.circle-radius).","Has an effect only when `type` is set to *circle*."].join(" ")}},line:{width:{valType:"number",dflt:2,description:["Sets the line width (mapbox.layer.paint.line-width).","Has an effect only when `type` is set to *line*."].join(" ")},dash:{valType:"data_array",description:["Sets the length of dashes and gaps (mapbox.layer.paint.line-dasharray).","Has an effect only when `type` is set to *line*."].join(" ")}},fill:{outlinecolor:{valType:"color",dflt:i,description:["Sets the fill outline color (mapbox.layer.paint.fill-outline-color).","Has an effect only when `type` is set to *fill*."].join(" ")}},symbol:{icon:{valType:"string",dflt:"marker",description:["Sets the symbol icon image (mapbox.layer.layout.icon-image).","Full list: https://www.mapbox.com/maki-icons/"].join(" ")},iconsize:{valType:"number",dflt:10,description:["Sets the symbol icon size (mapbox.layer.layout.icon-size).","Has an effect only when `type` is set to *symbol*."].join(" ")},text:{valType:"string",dflt:"",description:["Sets the symbol text (mapbox.layer.layout.text-field)."].join(" ")},placement:{valType:"enumerated",values:["point","line","line-center"],dflt:"point",description:["Sets the symbol and/or text placement (mapbox.layer.layout.symbol-placement).","If `placement` is *point*, the label is placed where the geometry is located","If `placement` is *line*, the label is placed along the line of the geometry","If `placement` is *line-center*, the label is placed on the center of the geometry"].join(" ")},textfont:d,textposition:a.extendFlat({},s,{arrayOk:!1})}})},"plot","from-root")).uirevision={valType:"any",editType:"none",description:["Controls persistence of user-driven changes in the view:","`center`, `zoom`, `bearing`, `pitch`. Defaults to `layout.uirevision`."].join(" ")}},84541:function(e,t,o){var a=o(47401),i=o(20112),r=o(26800),n=o(94890);function s(e,t,o,a){o("accesstoken",a.accessToken),o("style"),o("center.lon"),o("center.lat"),o("zoom"),o("bearing"),o("pitch"),r(e,t,{name:"layers",handleItemDefaults:l}),t._input=e}function l(e,t){function o(o,i){return a.coerce(e,t,n.layers,o,i)}if(o("visible")){var i,r=o("sourcetype"),s="raster"===r||"image"===r;o("source"),o("sourceattribution"),"vector"===r&&o("sourcelayer"),"image"===r&&o("coordinates"),s&&(i="raster");var l=o("type",i);s&&"raster"!==l&&(l=t.type="raster",a.log("Source types *raster* and *image* must drawn *raster* layer type.")),o("below"),o("color"),o("opacity"),o("minzoom"),o("maxzoom"),"circle"===l&&o("circle.radius"),"line"===l&&(o("line.width"),o("line.dash")),"fill"===l&&o("fill.outlinecolor"),"symbol"===l&&(o("symbol.icon"),o("symbol.iconsize"),o("symbol.text"),a.coerceFont(o,"symbol.textfont"),o("symbol.textposition"),o("symbol.placement"))}}e.exports=function(e,t,o){i(e,t,o,{type:"mapbox",attributes:n,handleDefaults:s,partition:"y",accessToken:t._mapboxAccessToken})}},4409:function(e,t,o){var a=o(68953),i=o(47401),r=o(40458),n=o(62282),s=o(37762),l=o(52783),p=o(21661),c=o(42910),d=c.rectMode,u=c.drawMode,h=c.selectMode,y=o(88987).prepSelect,m=o(88987).clearSelect,f=o(88987).clearSelectionsCache,b=o(88987).selectOnClick,g=o(82949),x=o(75612);function v(e,t){this.id=t,this.gd=e;var o=e._fullLayout,a=e._context;this.container=o._glcontainer.node(),this.isStatic=a.staticPlot,this.uid=o._uid+"-"+this.id,this.div=null,this.xaxis=null,this.yaxis=null,this.createFramework(o),this.map=null,this.accessToken=null,this.styleObj=null,this.traceHash={},this.layerList=[],this.belowLookup={},this.dragging=!1,this.wheeling=!1}var w=v.prototype;w.plot=function(e,t,o){var a,i=this,r=t[i.id];i.map&&r.accesstoken!==i.accessToken&&(i.map.remove(),i.map=null,i.styleObj=null,i.traceHash={},i.layerList=[]),a=i.map?new Promise((function(o,a){i.updateMap(e,t,o,a)})):new Promise((function(o,a){i.createMap(e,t,o,a)})),o.push(a)},w.createMap=function(e,t,o,i){var n=this,s=t[n.id],l=n.styleObj=k(s.style);n.accessToken=s.accesstoken;var p=n.map=new a.Map({container:n.div,style:l.style,center:z(s.center),zoom:s.zoom,bearing:s.bearing,pitch:s.pitch,interactive:!n.isStatic,preserveDrawingBuffer:n.isStatic,doubleClickZoom:!1,boxZoom:!1,attributionControl:!1}).addControl(new a.AttributionControl({compact:!0}));p._canvas.style.left="0px",p._canvas.style.top="0px",n.rejectOnError(i),n.isStatic||n.initFx(e,t);var c=[];c.push(new Promise((function(e){p.once("load",e)}))),c=c.concat(r.fetchTraceGeoData(e)),Promise.all(c).then((function(){n.fillBelowLookup(e,t),n.updateData(e),n.updateLayout(t),n.resolveOnRender(o)})).catch(i)},w.updateMap=function(e,t,o,a){var i=this,n=i.map,s=t[this.id];i.rejectOnError(a);var l=[],p=k(s.style);JSON.stringify(i.styleObj)!==JSON.stringify(p)&&(i.styleObj=p,n.setStyle(p.style),i.traceHash={},l.push(new Promise((function(e){n.once("styledata",e)})))),l=l.concat(r.fetchTraceGeoData(e)),Promise.all(l).then((function(){i.fillBelowLookup(e,t),i.updateData(e),i.updateLayout(t),i.resolveOnRender(o)})).catch(a)},w.fillBelowLookup=function(e,t){var o,a,i=t[this.id].layers,r=this.belowLookup={},n=!1;for(o=0;o<e.length;o++){var s=e[o][0].trace,l=s._module;"string"===typeof s.below?a=s.below:l.getBelow&&(a=l.getBelow(s,this)),""===a&&(n=!0),r["trace-"+s.uid]=a||""}for(o=0;o<i.length;o++){var p=i[o];a="string"===typeof p.below?p.below:n?"traces":"",r["layout-"+o]=a}var c,d,u={};for(c in r)u[a=r[c]]?u[a].push(c):u[a]=[c];for(a in u){var h=u[a];if(h.length>1)for(o=0;o<h.length;o++)0===(c=h[o]).indexOf("trace-")?(d=c.split("trace-")[1],this.traceHash[d]&&(this.traceHash[d].below=null)):0===c.indexOf("layout-")&&(d=c.split("layout-")[1],this.layerList[d]&&(this.layerList[d].below=null))}};var T={choroplethmapbox:0,densitymapbox:1,scattermapbox:2};function k(e){var t={};return i.isPlainObject(e)?(t.id=e.id,t.style=e):"string"===typeof e?(t.id=e,-1!==g.styleValuesMapbox.indexOf(e)?t.style=S(e):g.stylesNonMapbox[e]?t.style=g.stylesNonMapbox[e]:t.style=e):(t.id=g.styleValueDflt,t.style=S(g.styleValueDflt)),t.transition={duration:0,delay:0},t}function S(e){return g.styleUrlPrefix+e+"-"+g.styleUrlSuffix}function z(e){return[e.lon,e.lat]}w.updateData=function(e){var t,o,a,i,r=this.traceHash,n=e.slice().sort((function(e,t){return T[e[0].trace.type]-T[t[0].trace.type]}));for(a=0;a<n.length;a++){var s=n[a],l=!1;(t=r[(o=s[0].trace).uid])&&(t.type===o.type?(t.update(s),l=!0):t.dispose()),!l&&o._module&&(r[o.uid]=o._module.plot(this,s))}var p=Object.keys(r);e:for(a=0;a<p.length;a++){var c=p[a];for(i=0;i<e.length;i++)if(c===(o=e[i][0].trace).uid)continue e;(t=r[c]).dispose(),delete r[c]}},w.updateLayout=function(e){var t=this.map,o=e[this.id];this.dragging||this.wheeling||(t.setCenter(z(o.center)),t.setZoom(o.zoom),t.setBearing(o.bearing),t.setPitch(o.pitch)),this.updateLayers(e),this.updateFramework(e),this.updateFx(e),this.map.resize(),this.gd._context._scrollZoom.mapbox?t.scrollZoom.enable():t.scrollZoom.disable()},w.resolveOnRender=function(e){var t=this.map;t.on("render",(function o(){t.loaded()&&(t.off("render",o),setTimeout(e,10))}))},w.rejectOnError=function(e){var t=this.map;function o(){e(new Error(g.mapOnErrorMsg))}t.once("error",o),t.once("style.error",o),t.once("source.error",o),t.once("tile.error",o),t.once("layer.error",o)},w.createFramework=function(e){var t=this,o=t.div=document.createElement("div");o.id=t.uid,o.style.position="absolute",t.container.appendChild(o),t.xaxis={_id:"x",c2p:function(e){return t.project(e).x}},t.yaxis={_id:"y",c2p:function(e){return t.project(e).y}},t.updateFramework(e),t.mockAxis={type:"linear",showexponent:"all",exponentformat:"B"},s.setConvert(t.mockAxis,e)},w.initFx=function(e,t){var o=this,a=o.gd,i=o.map;function r(){p.loneUnhover(t._hoverlayer)}function s(){var e=o.getView();a.emit("plotly_relayouting",o.getViewEditsWithDerived(e))}i.on("moveend",(function(e){if(o.map){var t=a._fullLayout;if(e.originalEvent||o.wheeling){var i=t[o.id];n.call("_storeDirectGUIEdit",a.layout,t._preGUI,o.getViewEdits(i));var r=o.getView();i._input.center=i.center=r.center,i._input.zoom=i.zoom=r.zoom,i._input.bearing=i.bearing=r.bearing,i._input.pitch=i.pitch=r.pitch,a.emit("plotly_relayout",o.getViewEditsWithDerived(r))}e.originalEvent&&"mouseup"===e.originalEvent.type?o.dragging=!1:o.wheeling&&(o.wheeling=!1),t._rehover&&t._rehover()}})),i.on("wheel",(function(){o.wheeling=!0})),i.on("mousemove",(function(e){var t=o.div.getBoundingClientRect(),r=[e.originalEvent.offsetX,e.originalEvent.offsetY];e.target.getBoundingClientRect=function(){return t},o.xaxis.p2c=function(){return i.unproject(r).lng},o.yaxis.p2c=function(){return i.unproject(r).lat},a._fullLayout._rehover=function(){a._fullLayout._hoversubplot===o.id&&a._fullLayout[o.id]&&p.hover(a,e,o.id)},p.hover(a,e,o.id),a._fullLayout._hoversubplot=o.id})),i.on("dragstart",(function(){o.dragging=!0,r()})),i.on("zoomstart",r),i.on("mouseout",(function(){a._fullLayout._hoversubplot=null})),i.on("drag",s),i.on("zoom",s),i.on("dblclick",(function(){var e=a._fullLayout[o.id];n.call("_storeDirectGUIEdit",a.layout,a._fullLayout._preGUI,o.getViewEdits(e));var t=o.viewInitial;i.setCenter(z(t.center)),i.setZoom(t.zoom),i.setBearing(t.bearing),i.setPitch(t.pitch);var r=o.getView();e._input.center=e.center=r.center,e._input.zoom=e.zoom=r.zoom,e._input.bearing=e.bearing=r.bearing,e._input.pitch=e.pitch=r.pitch,a.emit("plotly_doubleclick",null),a.emit("plotly_relayout",o.getViewEditsWithDerived(r))})),o.clearSelect=function(){f(o.dragOptions),m(o.dragOptions.gd)},o.onClickInPanFn=function(e){return function(t){var i=a._fullLayout.clickmode;i.indexOf("select")>-1&&b(t.originalEvent,a,[o.xaxis],[o.yaxis],o.id,e),i.indexOf("event")>-1&&p.click(a,t.originalEvent)}}},w.updateFx=function(e){var t=this,o=t.map,a=t.gd;if(!t.isStatic){var r,n=e.dragmode;r=d(n)?function(e,o){(e.range={})[t.id]=[p([o.xmin,o.ymin]),p([o.xmax,o.ymax])]}:function(e,o,a){(e.lassoPoints={})[t.id]=a.filtered.map(p)};var s=t.dragOptions;t.dragOptions=i.extendDeep(s||{},{dragmode:e.dragmode,element:t.div,gd:a,plotinfo:{id:t.id,domain:e[t.id].domain,xaxis:t.xaxis,yaxis:t.yaxis,fillRangeItems:r},xaxes:[t.xaxis],yaxes:[t.yaxis],subplot:t.id}),o.off("click",t.onClickInPanHandler),h(n)||u(n)?(o.dragPan.disable(),o.on("zoomstart",t.clearSelect),t.dragOptions.prepFn=function(e,o,a){y(e,o,a,t.dragOptions,n)},l.init(t.dragOptions)):(o.dragPan.enable(),o.off("zoomstart",t.clearSelect),t.div.onmousedown=null,t.onClickInPanHandler=t.onClickInPanFn(t.dragOptions),o.on("click",t.onClickInPanHandler))}function p(e){var o=t.map.unproject(e);return[o.lng,o.lat]}},w.updateFramework=function(e){var t=e[this.id].domain,o=e._size,a=this.div.style;a.width=o.w*(t.x[1]-t.x[0])+"px",a.height=o.h*(t.y[1]-t.y[0])+"px",a.left=o.l+t.x[0]*o.w+"px",a.top=o.t+(1-t.y[1])*o.h+"px",this.xaxis._offset=o.l+t.x[0]*o.w,this.xaxis._length=o.w*(t.x[1]-t.x[0]),this.yaxis._offset=o.t+(1-t.y[1])*o.h,this.yaxis._length=o.h*(t.y[1]-t.y[0])},w.updateLayers=function(e){var t,o=e[this.id].layers,a=this.layerList;if(o.length!==a.length){for(t=0;t<a.length;t++)a[t].dispose();for(a=this.layerList=[],t=0;t<o.length;t++)a.push(x(this,t,o[t]))}else for(t=0;t<o.length;t++)a[t].update(o[t])},w.destroy=function(){this.map&&(this.map.remove(),this.map=null,this.container.removeChild(this.div))},w.toImage=function(){return this.map.stop(),this.map.getCanvas().toDataURL()},w.setOptions=function(e,t,o){for(var a in o)this.map[t](e,a,o[a])},w.getMapLayers=function(){return this.map.getStyle().layers},w.addLayer=function(e,t){var o=this.map;if("string"===typeof t){if(""===t)return void o.addLayer(e,t);for(var a=this.getMapLayers(),r=0;r<a.length;r++)if(t===a[r].id)return void o.addLayer(e,t);i.warn(["Trying to add layer with *below* value",t,"referencing a layer that does not exist","or that does not yet exist."].join(" "))}o.addLayer(e)},w.project=function(e){return this.map.project(new a.LngLat(e[0],e[1]))},w.getView=function(){var e=this.map,t=e.getCenter(),o={lon:t.lng,lat:t.lat},a=e.getCanvas(),i=a.width,r=a.height;return{center:o,zoom:e.getZoom(),bearing:e.getBearing(),pitch:e.getPitch(),_derived:{coordinates:[e.unproject([0,0]).toArray(),e.unproject([i,0]).toArray(),e.unproject([i,r]).toArray(),e.unproject([0,r]).toArray()]}}},w.getViewEdits=function(e){for(var t=this.id,o=["center","zoom","bearing","pitch"],a={},i=0;i<o.length;i++){var r=o[i];a[t+"."+r]=e[r]}return a},w.getViewEditsWithDerived=function(e){var t=this.id,o=this.getViewEdits(e);return o[t+"._derived"]=e._derived,o},e.exports=v},32915:function(e){e.exports=function(e){var t=e.editType;return{t:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) along the top of the component."},r:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) on the right side of the component."},b:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) along the bottom of the component."},l:{valType:"number",dflt:0,editType:t,description:"The amount of padding (in px) on the left side of the component."},editType:t}}}}]);