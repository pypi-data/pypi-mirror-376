"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[2746],{62153:function(e,t,a){var i=a(47216),r=a(97451),s=a(20184).axisHoverFormat,n=a(4216).r,l=a(38857),o=a(56890).idRegex,c=a(92704).templatedArray,d=a(87241).extendFlat,p=i.marker,h=p.line,m=d(r("marker.line",{editTypeOverride:"calc"}),{width:d({},h.width,{editType:"calc"}),editType:"calc"}),u=d(r("marker"),{symbol:p.symbol,size:d({},p.size,{editType:"markerSize"}),sizeref:p.sizeref,sizemin:p.sizemin,sizemode:p.sizemode,opacity:p.opacity,colorbar:p.colorbar,line:m,editType:"calc"});function x(e){return{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"subplotid",regex:o[e],editType:"plot"},description:["Sets the list of "+e+" axes","corresponding to dimensions of this splom trace.","By default, a splom will match the first N "+e+"axes","where N is the number of input dimensions.","Note that, in case where `diagonal.visible` is false and `showupperhalf`","or `showlowerhalf` is false, this splom trace will generate","one less x-axis and one less y-axis."].join(" ")}}u.color.editType=u.cmin.editType=u.cmax.editType="style",e.exports={dimensions:c("dimension",{visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not this dimension is shown on the graph.","Note that even visible false dimension contribute to the","default grid generate by this splom trace."].join(" ")},label:{valType:"string",editType:"calc",description:"Sets the label corresponding to this splom dimension."},values:{valType:"data_array",editType:"calc+clearAxisTypes",description:"Sets the dimension values to be plotted."},axis:{type:{valType:"enumerated",values:["linear","log","date","category"],editType:"calc+clearAxisTypes",description:["Sets the axis type for this dimension's generated","x and y axes.","Note that the axis `type` values set in layout take","precedence over this attribute."].join(" ")},matches:{valType:"boolean",dflt:!1,editType:"calc",description:["Determines whether or not the x & y axes generated by this","dimension match.","Equivalent to setting the `matches` axis attribute in the layout","with the correct axis id."].join(" ")},editType:"calc+clearAxisTypes"},editType:"calc+clearAxisTypes"}),text:d({},l.text,{description:["Sets text elements associated with each (x,y) pair to appear on hover.","If a single string, the same string appears over","all the data points.","If an array of string, the items are mapped in order to the","this trace's (x,y) coordinates."].join(" ")}),hovertext:d({},l.hovertext,{description:"Same as `text`."}),hovertemplate:n(),xhoverformat:s("x"),yhoverformat:s("y"),marker:u,xaxes:x("x"),yaxes:x("y"),diagonal:{visible:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not subplots on the diagonal are displayed."].join(" ")},editType:"calc"},showupperhalf:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not subplots on the upper half","from the diagonal are displayed."].join(" ")},showlowerhalf:{valType:"boolean",dflt:!0,editType:"calc",description:["Determines whether or not subplots on the lower half","from the diagonal are displayed."].join(" ")},selected:{marker:l.selected.marker,editType:"calc"},unselected:{marker:l.unselected.marker,editType:"calc"},opacity:l.opacity}},34379:function(e,t,a){var i=a(5980),r=a(62282),s=a(43147),n=a(13373).eV,l=a(66807),o=a(77063).getFromId,c=a(37762).shouldShowZeroLine,d="splom";function p(e,t,a){for(var i=a.matrixOptions.data.length,r=t._visibleDims,s=a.viewOpts.ranges=new Array(i),n=0;n<r.length;n++){var l=r[n],c=s[n]=new Array(4),d=o(e,t._diag[l][0]);d&&(c[0]=d.r2l(d.range[0]),c[2]=d.r2l(d.range[1]));var p=o(e,t._diag[l][1]);p&&(c[1]=p.r2l(p.range[0]),c[3]=p.r2l(p.range[1]))}a.selectBatch.length||a.unselectBatch.length?a.matrix.update({ranges:s},{ranges:s}):a.matrix.update({ranges:s})}function h(e){var t=e._fullLayout,a=t._glcanvas.data()[0].regl,r=t._splomGrid;r||(r=t._splomGrid=i(a)),r.update(function(e){var t,a=e._context.plotGlPixelRatio,i=e._fullLayout,r=i._size,s=[0,0,i.width*a,i.height*a],n={};function l(e,t,i,r,l,o){i*=a,r*=a,l*=a,o*=a;var c=t[e+"color"],d=t[e+"width"],p=String(c+d);p in n?n[p].data.push(NaN,NaN,i,r,l,o):n[p]={data:[i,r,l,o],join:"rect",thickness:d*a,color:c,viewport:s,range:s,overlay:!1}}for(t in i._splomSubplots){var o,d,p=i._plots[t],h=p.xaxis,m=p.yaxis,u=h._gridVals,x=m._gridVals,f=h._offset,y=h._length,g=m._length,v=r.b+m.domain[0]*r.h,_=-m._m,w=-_*m.r2l(m.range[0],m.calendar);if(h.showgrid)for(t=0;t<u.length;t++)o=f+h.l2p(u[t].x),l("grid",h,o,v,o,v+g);if(m.showgrid)for(t=0;t<x.length;t++)l("grid",m,f,d=v+w+_*x[t].x,f+y,d);c(e,h,m)&&(o=f+h.l2p(0),l("zeroline",h,o,v,o,v+g)),c(e,m,h)&&l("zeroline",m,f,d=v+w+0,f+y,d)}var b=[];for(t in n)b.push(n[t]);return b}(e))}e.exports={name:d,attr:l.attr,attrRegex:l.attrRegex,layoutAttributes:l.layoutAttributes,supplyLayoutDefaults:l.supplyLayoutDefaults,drawFramework:l.drawFramework,plot:function(e){var t=e._fullLayout,a=r.getModule(d),i=n(e.calcdata,a)[0];s(e,["ANGLE_instanced_arrays","OES_element_index_uint"])&&(t._hasOnlyLargeSploms&&h(e),a.plot(e,{},i))},drag:function(e){var t=e.calcdata,a=e._fullLayout;a._hasOnlyLargeSploms&&h(e);for(var i=0;i<t.length;i++){var r=t[i][0].trace,s=a._splomScenes[r.uid];"splom"===r.type&&s&&s.matrix&&p(e,r,s)}},updateGrid:h,clean:function(e,t,a,i){var r,s={};if(i._splomScenes){for(r=0;r<e.length;r++){var n=e[r];"splom"===n.type&&(s[n.uid]=1)}for(r=0;r<a.length;r++){var o=a[r];if(!s[o.uid]){var c=i._splomScenes[o.uid];c&&c.destroy&&c.destroy(),i._splomScenes[o.uid]=null,delete i._splomScenes[o.uid]}}}0===Object.keys(i._splomScenes||{}).length&&delete i._splomScenes,i._splomGrid&&!t._hasOnlyLargeSploms&&i._hasOnlyLargeSploms&&(i._splomGrid.destroy(),i._splomGrid=null,delete i._splomGrid),l.clean(e,t,a,i)},updateFx:l.updateFx,toSVG:l.toSVG}},25069:function(e,t,a){var i=a(47401),r=a(77063),s=a(28864).calcMarkerSize,n=a(28864).calcAxisExpansion,l=a(54952),o=a(60465).markerSelection,c=a(60465).markerStyle,d=a(56656),p=a(9405).BADNUM,h=a(47163).TOO_MANY_POINTS;e.exports=function(e,t){var a,m,u,x,f,y,g=t.dimensions,v=t._length,_={},w=_.cdata=[],b=_.data=[],S=t._visibleDims=[];function T(e,a){for(var r=e.makeCalcdata({v:a.values,vcalendar:t.calendar},"v"),s=0;s<r.length;s++)r[s]=r[s]===p?NaN:r[s];w.push(r),b.push("log"===e.type?i.simpleMap(r,e.c2l):r)}for(a=0;a<g.length;a++)if((u=g[a]).visible){if(x=r.getFromId(e,t._diag[a][0]),f=r.getFromId(e,t._diag[a][1]),x&&f&&x.type!==f.type){i.log("Skipping splom dimension "+a+" with conflicting axis types");continue}x?(T(x,u),f&&"category"===f.type&&(f._categories=x._categories.slice())):T(f,u),S.push(a)}for(l(e,t),i.extendFlat(_,c(t)),y=w.length*v>h?_.sizeAvg||Math.max(_.size,3):s(t,v),m=0;m<S.length;m++)u=g[a=S[m]],x=r.getFromId(e,t._diag[a][0])||{},f=r.getFromId(e,t._diag[a][1])||{},n(e,t,x,f,w[m],w[m],y);var O=d(e,t);return O.matrix||(O.matrix=!0),O.matrixOptions=_,O.selectedOptions=o(t,t.selected),O.unselectedOptions=o(t,t.unselected),[{x:!1,y:!1,t:{},trace:t}]}},87534:function(e,t,a){var i=a(47401),r=a(26800),s=a(62153),n=a(77638),l=a(47008),o=a(94029),c=a(9915).isOpenSymbol;function d(e,t){function a(a,r){return i.coerce(e,t,s.dimensions,a,r)}a("label");var r=a("values");r&&r.length?a("visible"):t.visible=!1,a("axis.type"),a("axis.matches")}e.exports=function(e,t,a,p){function h(a,r){return i.coerce(e,t,s,a,r)}var m=r(e,t,{name:"dimensions",handleItemDefaults:d}),u=h("diagonal.visible"),x=h("showupperhalf"),f=h("showlowerhalf");if(o(t,m,"values")&&(u||x||f)){h("text"),h("hovertext"),h("hovertemplate"),h("xhoverformat"),h("yhoverformat"),l(e,t,a,p,h);var y=c(t.marker.symbol),g=n.isBubble(t);h("marker.line.width",y||g?1:0),function(e,t,a,i){var r,s,n=t.dimensions,l=n.length,o=t.showupperhalf,c=t.showlowerhalf,d=t.diagonal.visible,p=new Array(l),h=new Array(l);for(r=0;r<l;r++){var m=r?r+1:"";p[r]="x"+m,h[r]="y"+m}var u=i("xaxes",p),x=i("yaxes",h),f=t._diag=new Array(l);t._xaxes={},t._yaxes={};var y=[],g=[];function v(e,i,r,s){if(e){var n=e.charAt(0),l=a._splomAxes[n];if(t["_"+n+"axes"][e]=1,s.push(e),!(e in l)){var o=l[e]={};r&&(o.label=r.label||"",r.visible&&r.axis&&(r.axis.type&&(o.type=r.axis.type),r.axis.matches&&(o.matches=i)))}}}var _=!d&&!c,w=!d&&!o;for(t._axesDim={},r=0;r<l;r++){var b=n[r],S=0===r,T=r===l-1,O=S&&_||T&&w?void 0:u[r],k=S&&w||T&&_?void 0:x[r];v(O,k,b,y),v(k,O,b,g),f[r]=[O,k],t._axesDim[O]=r,t._axesDim[k]=r}for(r=0;r<y.length;r++)for(s=0;s<g.length;s++){var A=y[r]+g[s];r>s&&o||r<s&&c?a._splomSubplots[A]=1:r!==s||!d&&c&&o||(a._splomSubplots[A]=1)}(!c||!d&&o&&c)&&(a._splomGridDflt.xside="bottom",a._splomGridDflt.yside="left")}(0,t,p,h),i.coerceSelectionMarkerOpacity(t,h)}else t.visible=!1}},93638:function(e,t,a){var i=a(47401),r=a(54952),s=a(60465).markerStyle;e.exports=function(e,t){var a=t.trace,n=e._fullLayout._splomScenes[a.uid];if(n){r(e,a),i.extendFlat(n.matrixOptions,s(a));var l=i.extendFlat({},n.matrixOptions,n.viewOpts);n.matrix.update(l,null)}}},90651:function(e,t){t.getDimIndex=function(e,t){for(var a=t._id,i={x:0,y:1}[a.charAt(0)],r=e._visibleDims,s=0;s<r.length;s++){var n=r[s];if(e._diag[n][i]===a)return s}return!1}},26096:function(e,t,a){var i=a(90651),r=a(5040).calcHover;e.exports={hoverPoints:function(e,t,a){var s=e.cd[0].trace,n=e.scene.matrixOptions.cdata,l=e.xa,o=e.ya,c=l.c2p(t),d=o.c2p(a),p=e.distance,h=i.getDimIndex(s,l),m=i.getDimIndex(s,o);if(!1===h||!1===m)return[e];for(var u,x,f=n[h],y=n[m],g=p,v=0;v<f.length;v++){var _=f[v],w=y[v],b=l.c2p(_)-c,S=o.c2p(w)-d,T=Math.sqrt(b*b+S*S);T<g&&(g=x=T,u=v)}return e.index=u,e.distance=g,e.dxy=x,void 0===u?[e]:[r(e,f,y,s)]}}},92746:function(e,t,a){var i=a(62282),r=a(85883);e.exports={moduleType:"trace",name:"splom",basePlotModule:a(34379),categories:["gl","regl","cartesian","symbols","showLegend","scatter-like"],attributes:a(62153),supplyDefaults:a(87534),colorbar:a(78666),calc:a(25069),plot:a(33571),hoverPoints:a(26096).hoverPoints,selectPoints:a(99520),editStyle:a(93638),meta:{description:["Splom traces generate scatter plot matrix visualizations.","Each splom `dimensions` items correspond to a generated axis.","Values for each of those dimensions are set in `dimensions[i].values`.","Splom traces support all `scattergl` marker style attributes.","Specify `layout.grid` attributes and/or layout x-axis and y-axis attributes","for more control over the axis positioning and style. "].join(" ")}},i.register(r)},33571:function(e,t,a){var i=a(58233),r=a(47401),s=a(77063),n=a(42910).selectMode;function l(e,t){var a,l,o,c,d,p=e._fullLayout,h=p._size,m=t.trace,u=t.t,x=p._splomScenes[m.uid],f=x.matrixOptions,y=f.cdata,g=p._glcanvas.data()[0].regl,v=p.dragmode;if(0!==y.length){f.lower=m.showupperhalf,f.upper=m.showlowerhalf,f.diagonal=m.diagonal.visible;var _=m._visibleDims,w=y.length,b=x.viewOpts={};for(b.ranges=new Array(w),b.domains=new Array(w),d=0;d<_.length;d++){o=_[d];var S=b.ranges[d]=new Array(4),T=b.domains[d]=new Array(4);(a=s.getFromId(e,m._diag[o][0]))&&(S[0]=a._rl[0],S[2]=a._rl[1],T[0]=a.domain[0],T[2]=a.domain[1]),(l=s.getFromId(e,m._diag[o][1]))&&(S[1]=l._rl[0],S[3]=l._rl[1],T[1]=l.domain[0],T[3]=l.domain[1])}var O=e._context.plotGlPixelRatio,k=h.l*O,A=h.b*O,D=h.w*O,F=h.h*O;b.viewport=[k,A,D+k,F+A],!0===x.matrix&&(x.matrix=i(g));var B=p.clickmode.indexOf("select")>-1,I=!0;if(n(v)||!!m.selectedpoints||B){var z=m._length;if(m.selectedpoints){x.selectBatch=m.selectedpoints;var L=m.selectedpoints,N={};for(o=0;o<L.length;o++)N[L[o]]=!0;var G=[];for(o=0;o<z;o++)N[o]||G.push(o);x.unselectBatch=G}var j=u.xpx=new Array(w),M=u.ypx=new Array(w);for(d=0;d<_.length;d++){if(o=_[d],a=s.getFromId(e,m._diag[o][0]))for(j[d]=new Array(z),c=0;c<z;c++)j[d][c]=a.c2p(y[d][c]);if(l=s.getFromId(e,m._diag[o][1]))for(M[d]=new Array(z),c=0;c<z;c++)M[d][c]=l.c2p(y[d][c])}if(x.selectBatch.length||x.unselectBatch.length){var P=r.extendFlat({},f,x.unselectedOptions,b),V=r.extendFlat({},f,x.selectedOptions,b);x.matrix.update(P,V),I=!1}}else u.xpx=u.ypx=null;if(I){var E=r.extendFlat({},f,b);x.matrix.update(E,null)}}}e.exports=function(e,t,a){if(a.length)for(var i=0;i<a.length;i++)l(e,a[i][0])}},56656:function(e,t,a){var i=a(47401);e.exports=function(e,t){var a=e._fullLayout,r=t.uid,s=a._splomScenes;s||(s=a._splomScenes={});var n={dirty:!0,selectBatch:[],unselectBatch:[]},l=s[t.uid];return l||((l=s[r]=i.extendFlat({},n,{matrix:!1,selectBatch:[],unselectBatch:[]})).draw=function(){l.matrix&&l.matrix.draw&&(l.selectBatch.length||l.unselectBatch.length?l.matrix.draw(l.unselectBatch,l.selectBatch):l.matrix.draw()),l.dirty=!1},l.destroy=function(){l.matrix&&l.matrix.destroy&&l.matrix.destroy(),l.matrixOptions=null,l.selectBatch=null,l.unselectBatch=null,l=null}),l.dirty||i.extendFlat(l,n),l}},99520:function(e,t,a){var i=a(47401),r=a(77638),s=a(90651);e.exports=function(e,t){var a=e.cd,n=a[0].trace,l=a[0].t,o=e.scene,c=o.matrixOptions.cdata,d=e.xaxis,p=e.yaxis,h=[];if(!o)return h;var m=!r.hasMarkers(n)&&!r.hasText(n);if(!0!==n.visible||m)return h;var u=s.getDimIndex(n,d),x=s.getDimIndex(n,p);if(!1===u||!1===x)return h;var f=l.xpx[u],y=l.ypx[x],g=c[u],v=c[x],_=[],w=[];if(!1!==t&&!t.degenerate)for(var b=0;b<g.length;b++)t.contains([f[b],y[b]],null,b,e)?(_.push(b),h.push({pointNumber:b,x:g[b],y:v[b]})):w.push(b);var S=o.matrixOptions;return _.length||w.length?o.selectBatch.length||o.unselectBatch.length||o.matrix.update(o.unselectedOptions,i.extendFlat({},S,o.selectedOptions,o.viewOpts)):o.matrix.update(S,null),o.selectBatch=_,o.unselectBatch=w,h}}}]);