"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[6715],{54846:function(e,t,r){var a=r(47401);e.exports=function(e,t){for(var r=0;r<e.length;r++)e[r].i=r;a.mergeArray(t.text,e,"tx"),a.mergeArray(t.hovertext,e,"htx");var n=t.marker;if(n){a.mergeArray(n.opacity,e,"mo",!0),a.mergeArray(n.color,e,"mc");var o=n.line;o&&(a.mergeArray(o.color,e,"mlc"),a.mergeArrayCastPositive(o.width,e,"mlw"))}}},66905:function(e,t,r){var a=r(47216),n=r(20184).axisHoverFormat,o=r(4216).r,i=r(4216).a,s=r(97451),l=r(5153),c=r(33419),u=r(34418).k,p=r(87241).extendFlat,d=l({editType:"calc",arrayOk:!0,colorEditType:"style",description:""}),f=p({},a.marker.line.width,{dflt:0}),h=p({width:f,editType:"calc"},s("marker.line")),v=p({line:h,editType:"calc"},s("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style",description:"Sets the opacity of the bars."},pattern:u});e.exports={x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:n("x"),yhoverformat:n("y"),text:a.text,texttemplate:i({editType:"plot"},{keys:c.eventDataKeys}),hovertext:a.hovertext,hovertemplate:o({},{keys:c.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc",description:["Specifies the location of the `text`.","*inside* positions `text` inside, next to the bar end","(rotated and scaled if needed).","*outside* positions `text` outside, next to the bar end","(scaled if needed), unless there is another bar stacked on","this one, then the text gets pushed inside.","*auto* tries to position `text` inside the bar, but if","the bar is too small and no bar is stacked on this one","the text is moved outside.","If *none*, no text appears."].join(" ")},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot",description:["Determines if texts are kept at center or start/end points in `textposition` *inside* mode."].join(" ")},textangle:{valType:"angle",dflt:"auto",editType:"plot",description:["Sets the angle of the tick labels with respect to the bar.","For example, a `tickangle` of -90 draws the tick labels","vertically. With *auto* the texts may automatically be","rotated to fit with the maximum size in bars."].join(" ")},textfont:p({},d,{description:"Sets the font used for `text`."}),insidetextfont:p({},d,{description:"Sets the font used for `text` lying inside the bar."}),outsidetextfont:p({},d,{description:"Sets the font used for `text` lying outside the bar."}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc",description:["Constrain the size of text inside or outside a bar to be no","larger than the bar itself."].join(" ")},cliponaxis:p({},a.cliponaxis,{description:["Determines whether the text nodes","are clipped about the subplot axes.","To show the text nodes above axis lines and tick labels,","make sure to set `xaxis.layer` and `yaxis.layer` to *below traces*."].join(" ")}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes",description:["Sets the orientation of the bars.","With *v* (*h*), the value of the each bar spans","along the vertical (horizontal)."].join(" ")},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc",description:["Sets where the bar base is drawn (in position axis units).","In *stack* or *relative* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc",description:["Shifts the position where the bar is drawn","(in position axis units).","In *group* barmode,","traces that set *offset* will be excluded","and drawn in *overlay* mode instead."].join(" ")},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc",description:["Sets the bar width (in position axis units)."].join(" ")},marker:v,offsetgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","offsetgroup where bars of the same position coordinate will line up."].join(" ")},alignmentgroup:{valType:"string",dflt:"",editType:"calc",description:["Set several traces linked to the same position axis","or matching axes to the same","alignmentgroup. This controls whether bars compute their positional","range dependently or independently."].join(" ")},selected:{marker:{opacity:a.selected.marker.opacity,color:a.selected.marker.color,editType:"style"},textfont:a.selected.textfont,editType:"style"},unselected:{marker:{opacity:a.unselected.marker.opacity,color:a.unselected.marker.color,editType:"style"},textfont:a.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"],description:"Renamed to `orientation`."}}}},47133:function(e,t,r){var a=r(37762),n=r(48128),o=r(8757).hasColorscale,i=r(92171),s=r(54846),l=r(35533);e.exports=function(e,t){var r,c,u,p,d,f,h=a.getFromId(e,t.xaxis||"x"),v=a.getFromId(e,t.yaxis||"y"),m={msUTC:!(!t.base&&0!==t.base)};"h"===t.orientation?(r=h.makeCalcdata(t,"x",m),u=v.makeCalcdata(t,"y"),p=n(t,v,"y",u),d=!!t.yperiodalignment,f="y"):(r=v.makeCalcdata(t,"y",m),u=h.makeCalcdata(t,"x"),p=n(t,h,"x",u),d=!!t.xperiodalignment,f="x"),c=p.vals;for(var x=Math.min(c.length,r.length),g=new Array(x),y=0;y<x;y++)g[y]={p:c[y],s:r[y]},d&&(g[y].orig_p=u[y],g[y][f+"End"]=p.ends[y],g[y][f+"Start"]=p.starts[y]),t.ids&&(g[y].id=String(t.ids[y]));return o(t,"marker")&&i(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),o(t,"marker.line")&&i(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),s(g,t),l(g,t),g}},33419:function(e){e.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11262:function(e,t,r){var a=r(83491),n=r(47401).isArrayOrTypedArray,o=r(9405).BADNUM,i=r(62282),s=r(37762),l=r(30807).getAxisGroup,c=r(72528);function u(e,t,r,i,u){if(i.length){var b,k,w,T;switch(function(e,t){var r,o;for(r=0;r<t.length;r++){var i,s=t[r],l=s[0].trace,c="funnel"===l.type?l._base:l.base,u="h"===l.orientation?l.xcalendar:l.ycalendar,p="category"===e.type||"multicategory"===e.type?function(){return null}:e.d2c;if(n(c)){for(o=0;o<Math.min(c.length,s.length);o++)i=p(c[o],0,u),a(i)?(s[o].b=+i,s[o].hasB=1):s[o].b=0;for(;o<s.length;o++)s[o].b=0}else{i=p(c,0,u);var d=a(i);for(i=d?i:0,o=0;o<s.length;o++)s[o].b=i,d&&(s[o].hasB=1)}}}(r,i),u.mode){case"overlay":p(t,r,i,u);break;case"group":for(b=[],k=[],w=0;w<i.length;w++)void 0===(T=i[w])[0].trace.offset?k.push(T):b.push(T);k.length&&function(e,t,r,a,n){var i=new c(a,{posAxis:t,sepNegVal:!1,overlapNoMerge:!n.norm});(function(e,t,r,a){for(var n=e._fullLayout,o=r.positions,i=r.distinctPositions,s=r.minDiff,c=r.traces,u=c.length,p=o.length!==i.length,d=s*(1-a.gap),m=l(n,t._id)+c[0][0].trace.orientation,x=n._alignmentOpts[m]||{},g=0;g<u;g++){var y,b,k=c[g],w=k[0].trace,T=x[w.alignmentgroup]||{},M=Object.keys(T.offsetGroups||{}).length,S=(y=M?d/M:p?d/u:d)*(1-(a.groupgap||0));b=M?((2*w._offsetIndex+1-M)*y-S)/2:p?((2*g+1-u)*y-S)/2:-S/2;var A=k[0].t;A.barwidth=S,A.poffset=b,A.bargroupwidth=d,A.bardelta=s}r.binWidth=c[0][0].t.barwidth/100,f(r),h(t,r),v(t,r,p)})(e,t,i,n),function(e,t){for(var r=e.traces,a=0;a<r.length;a++){var n=r[a];if(void 0===n[0].trace.base)for(var i=new c([n],{posAxis:t,sepNegVal:!0,overlapNoMerge:!0}),s=0;s<n.length;s++){var l=n[s];if(l.p!==o){var u=i.put(l.p,l.b+l.s);u&&(l.b=u)}}}}(i,t),n.norm?(x(i),g(r,i,n)):m(r,i)}(e,t,r,k,u),b.length&&p(t,r,b,u);break;case"stack":case"relative":for(b=[],k=[],w=0;w<i.length;w++)void 0===(T=i[w])[0].trace.base?k.push(T):b.push(T);k.length&&function(e,t,r,a,n){var i=new c(a,{posAxis:t,sepNegVal:"relative"===n.mode,overlapNoMerge:!(n.norm||"stack"===n.mode||"relative"===n.mode)});d(t,i,n),function(e,t,r){var a,n,i,l,c,u,p=y(e),d=t.traces;for(l=0;l<d.length;l++)if("funnel"===(n=(a=d[l])[0].trace).type)for(c=0;c<a.length;c++)(u=a[c]).s!==o&&t.put(u.p,-.5*u.s);for(l=0;l<d.length;l++){i="funnel"===(n=(a=d[l])[0].trace).type;var f=[];for(c=0;c<a.length;c++)if((u=a[c]).s!==o){var h;h=i?u.s:u.s+u.b;var v=t.put(u.p,h),m=v+h;u.b=v,u[p]=m,r.norm||(f.push(m),u.hasB&&f.push(v))}r.norm||(n._extremes[e._id]=s.findExtremes(e,f,{tozero:!0,padded:!0}))}}(r,i,n);for(var l=0;l<a.length;l++)for(var u=a[l],p=0;p<u.length;p++){var f=u[p];if(f.s!==o)f.b+f.s===i.get(f.p,f.s)&&(f._outmost=!0)}n.norm&&g(r,i,n)}(0,t,r,k,u),b.length&&p(t,r,b,u)}!function(e,t){var r,n,o,i=y(t),s={},l=1/0,c=-1/0;for(r=0;r<e.length;r++)for(o=e[r],n=0;n<o.length;n++){var u=o[n].p;a(u)&&(l=Math.min(l,u),c=Math.max(c,u))}var p=1e4/(c-l),d=s.round=function(e){return String(Math.round(p*(e-l)))};for(r=0;r<e.length;r++){(o=e[r])[0].t.extents=s;var f=o[0].t.poffset,h=Array.isArray(f);for(n=0;n<o.length;n++){var v=o[n],m=v[i]-v.w/2;if(a(m)){var x=v[i]+v.w/2,g=d(v.p);s[g]?s[g]=[Math.min(m,s[g][0]),Math.max(x,s[g][1])]:s[g]=[m,x]}v.p0=v.p+(h?f[n]:f),v.p1=v.p0+v.w,v.s0=v.b,v.s1=v.s0+v.s}}}(i,t)}}function p(e,t,r,a){for(var n=0;n<r.length;n++){var o=r[n],i=new c([o],{posAxis:e,sepNegVal:!1,overlapNoMerge:!a.norm});d(e,i,a),a.norm?(x(i),g(t,i,a)):m(t,i)}}function d(e,t,r){for(var a=t.minDiff,n=t.traces,o=a*(1-r.gap),i=o*(1-(r.groupgap||0)),s=-i/2,l=0;l<n.length;l++){var c=n[l][0].t;c.barwidth=i,c.poffset=s,c.bargroupwidth=o,c.bardelta=a}t.binWidth=n[0][0].t.barwidth/100,f(t),h(e,t),v(e,t)}function f(e){var t,r,o=e.traces;for(t=0;t<o.length;t++){var i,s=o[t],l=s[0],c=l.trace,u=l.t,p=c._offset||c.offset,d=u.poffset;if(n(p)){for(i=Array.prototype.slice.call(p,0,s.length),r=0;r<i.length;r++)a(i[r])||(i[r]=d);for(r=i.length;r<s.length;r++)i.push(d);u.poffset=i}else void 0!==p&&(u.poffset=p);var f=c._width||c.width,h=u.barwidth;if(n(f)){var v=Array.prototype.slice.call(f,0,s.length);for(r=0;r<v.length;r++)a(v[r])||(v[r]=h);for(r=v.length;r<s.length;r++)v.push(h);if(u.barwidth=v,void 0===p){for(i=[],r=0;r<s.length;r++)i.push(d+(h-v[r])/2);u.poffset=i}}else void 0!==f&&(u.barwidth=f,void 0===p&&(u.poffset=d+(h-f)/2))}}function h(e,t){for(var r=t.traces,a=y(e),n=0;n<r.length;n++)for(var o=r[n],i=o[0].t,s=i.poffset,l=Array.isArray(s),c=i.barwidth,u=Array.isArray(c),p=0;p<o.length;p++){var d=o[p],f=d.w=u?c[p]:c;d[a]=d.p+(l?s[p]:s)+f/2}}function v(e,t,r){var a=t.traces,n=t.minDiff/2;s.minDtick(e,t.minDiff,t.distinctPositions[0],r);for(var o=0;o<a.length;o++){var i,l,c,u,p=a[o],d=p[0],f=d.trace,h=[];for(u=0;u<p.length;u++)l=(i=p[u]).p-n,c=i.p+n,h.push(l,c);if(f.width||f.offset){var v=d.t,m=v.poffset,x=v.barwidth,g=Array.isArray(m),y=Array.isArray(x);for(u=0;u<p.length;u++){i=p[u];var b=g?m[u]:m,k=y?x[u]:x;c=(l=i.p+b)+k,h.push(l,c)}}f._extremes[e._id]=s.findExtremes(e,h,{padded:!1})}}function m(e,t){for(var r=t.traces,a=y(e),n=0;n<r.length;n++){for(var o=r[n],i=o[0].trace,l=[],c=!1,u=0;u<o.length;u++){var p=o[u],d=p.b,f=d+p.s;p[a]=f,l.push(f),p.hasB&&l.push(d),p.hasB&&p.b||(c=!0)}i._extremes[e._id]=s.findExtremes(e,l,{tozero:c,padded:!0})}}function x(e){for(var t=e.traces,r=0;r<t.length;r++)for(var a=t[r],n=0;n<a.length;n++){var i=a[n];i.s!==o&&e.put(i.p,i.b+i.s)}}function g(e,t,r){var n=t.traces,i=y(e),l="fraction"===r.norm?1:100,c=l/1e9,u=e.l2c(e.c2l(0)),p="stack"===r.mode?l:u;function d(t){return a(e.c2l(t))&&(t<u-c||t>p+c||!a(u))}for(var f=0;f<n.length;f++){for(var h=n[f],v=h[0].trace,m=[],x=!1,g=!1,b=0;b<h.length;b++){var k=h[b];if(k.s!==o){var w=Math.abs(l/t.get(k.p,k.s));k.b*=w,k.s*=w;var T=k.b,M=T+k.s;k[i]=M,m.push(M),g=g||d(M),k.hasB&&(m.push(T),g=g||d(T)),k.hasB&&k.b||(x=!0)}}v._extremes[e._id]=s.findExtremes(e,m,{tozero:x,padded:g})}}function y(e){return e._id.charAt(0)}e.exports={crossTraceCalc:function(e,t){for(var r=t.xaxis,a=t.yaxis,n=e._fullLayout,o=e._fullData,s=e.calcdata,l=[],c=[],p=0;p<o.length;p++){var d=o[p];if(!0===d.visible&&i.traceIs(d,"bar")&&d.xaxis===r._id&&d.yaxis===a._id&&("h"===d.orientation?l.push(s[p]):c.push(s[p]),d._computePh))for(var f=e.calcdata[p],h=0;h<f.length;h++)"function"===typeof f[h].ph0&&(f[h].ph0=f[h].ph0()),"function"===typeof f[h].ph1&&(f[h].ph1=f[h].ph1())}var v={xCat:"category"===r.type||"multicategory"===r.type,yCat:"category"===a.type||"multicategory"===a.type,mode:n.barmode,norm:n.barnorm,gap:n.bargap,groupgap:n.bargroupgap};u(e,r,a,c,v),u(e,a,r,l,v)},setGroupPositions:u}},18878:function(e,t,r){var a=r(47401),n=r(31454),o=r(62282),i=r(87243),s=r(75781),l=r(58048),c=r(30807).getAxisGroup,u=r(66905),p=a.coerceFont;function d(e,t,r,a){var n=t.orientation,o=t[{v:"x",h:"y"}[n]+"axis"],i=c(r,o)+n,s=r._alignmentOpts||{},l=a("alignmentgroup"),u=s[i];u||(u=s[i]={});var p=u[l];p?p.traces.push(t):p=u[l]={traces:[t],alignmentIndex:Object.keys(u).length,offsetGroups:{}};var d=a("offsetgroup"),f=p.offsetGroups,h=f[d];d&&(h||(h=f[d]={offsetIndex:Object.keys(f).length}),t._offsetIndex=h.offsetIndex)}function f(e,t,r,n,o,i){var s=!(!1===(i=i||{}).moduleHasSelected),l=!(!1===i.moduleHasUnselected),c=!(!1===i.moduleHasConstrain),u=!(!1===i.moduleHasCliponaxis),d=!(!1===i.moduleHasTextangle),f=!(!1===i.moduleHasInsideanchor),h=!!i.hasPathbar,v=Array.isArray(o)||"auto"===o,m=v||"inside"===o,x=v||"outside"===o;if(m||x){var g=p(n,"textfont",r.font),y=a.extendFlat({},g),b=!(e.textfont&&e.textfont.color);if(b&&delete y.color,p(n,"insidetextfont",y),h){var k=a.extendFlat({},g);b&&delete k.color,p(n,"pathbar.textfont",k)}x&&p(n,"outsidetextfont",g),s&&n("selected.textfont.color"),l&&n("unselected.textfont.color"),c&&n("constraintext"),u&&n("cliponaxis"),d&&n("textangle"),n("texttemplate")}m&&f&&n("insidetextanchor")}e.exports={supplyDefaults:function(e,t,r,c){function p(r,n){return a.coerce(e,t,u,r,n)}if(i(e,t,c,p)){s(e,t,c,p),p("xhoverformat"),p("yhoverformat"),p("orientation",t.x&&!t.y?"h":"v"),p("base"),p("offset"),p("width"),p("text"),p("hovertext"),p("hovertemplate");var d=p("textposition");f(e,t,c,p,d,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),l(e,t,p,r,c);var h=(t.marker.line||{}).color,v=o.getComponentMethod("errorbars","supplyDefaults");v(e,t,h||n.defaultLine,{axis:"y"}),v(e,t,h||n.defaultLine,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(t,p)}else t.visible=!1},crossTraceDefaults:function(e,t){var r;function n(e){return a.coerce(r._input,r,u,e)}if("group"===t.barmode)for(var o=0;o<e.length;o++)"bar"===(r=e[o]).type&&(r._input,d(0,r,t,n))},handleGroupingDefaults:d,handleText:f}},39269:function(e){e.exports=function(e,t,r){return e.x="xVal"in t?t.xVal:t.x,e.y="yVal"in t?t.yVal:t.y,t.xa&&(e.xaxis=t.xa),t.ya&&(e.yaxis=t.ya),"h"===r.orientation?(e.label=e.y,e.value=e.x):(e.label=e.x,e.value=e.y),e}},97547:function(e,t,r){var a=r(83491),n=r(91771),o=r(47401).isArrayOrTypedArray;t.coerceString=function(e,t,r){if("string"===typeof t){if(t||!e.noBlank)return t}else if(("number"===typeof t||!0===t)&&!e.strict)return String(t);return void 0!==r?r:e.dflt},t.coerceNumber=function(e,t,r){if(a(t)){t=+t;var n=e.min,o=e.max;if(!(void 0!==n&&t<n||void 0!==o&&t>o))return t}return void 0!==r?r:e.dflt},t.coerceColor=function(e,t,r){return n(t).isValid()?t:void 0!==r?r:e.dflt},t.coerceEnumerated=function(e,t,r){return e.coerceNumber&&(t=+t),-1!==e.values.indexOf(t)?t:void 0!==r?r:e.dflt},t.getValue=function(e,t){var r;return Array.isArray(e)?t<e.length&&(r=e[t]):r=e,r},t.getLineWidth=function(e,t){return 0<t.mlw?t.mlw:o(e.marker.line.width)?0:e.marker.line.width}},16032:function(e,t,r){var a=r(21661),n=r(62282),o=r(31454),i=r(47401).fillText,s=r(97547).getLineWidth,l=r(37762).hoverLabelText,c=r(9405).BADNUM;function u(e,t,r,n,o){var s,u,p,d,f,h,v,m=e.cd,x=m[0].trace,g=m[0].t,y="closest"===n,b="waterfall"===x.type,k=e.maxHoverDistance,w=e.maxSpikeDistance;"h"===x.orientation?(s=r,u=t,p="y",d="x",f=O,h=z):(s=t,u=r,p="x",d="y",h=O,f=z);var T=x[p+"period"],M=y||T;function S(e){return _(e,-1)}function A(e){return _(e,1)}function _(e,t){var r=e.w;return e[p]+t*r/2}function L(e){return e[p+"End"]-e[p+"Start"]}var C=y?S:T?function(e){return e.p-L(e)/2}:function(e){return Math.min(S(e),e.p-g.bardelta/2)},P=y?A:T?function(e){return e.p+L(e)/2}:function(e){return Math.max(A(e),e.p+g.bardelta/2)};function D(e,t,r){return o.finiteRange&&(r=0),a.inbox(e-s,t-s,r+Math.min(1,Math.abs(t-e)/v)-1)}function z(e){return D(C(e),P(e),k)}function I(e){var t=e[d];if(b){var r=Math.abs(e.rawS)||0;u>0?t+=r:u<0&&(t-=r)}return t}function O(e){var t=u,r=e.b,n=I(e);return a.inbox(r-t,n-t,k+(n-t)/(n-r)-1)}var V=e[p+"a"],j=e[d+"a"];v=Math.abs(V.r2c(V.range[1])-V.r2c(V.range[0]));var N=a.getDistanceFunction(n,f,h,(function(e){return(f(e)+h(e))/2}));if(a.getClosest(m,N,e),!1!==e.index&&m[e.index].p!==c){M||(C=function(e){return Math.min(S(e),e.p-g.bargroupwidth/2)},P=function(e){return Math.max(A(e),e.p+g.bargroupwidth/2)});var F=m[e.index],B=x.base?F.b+F.s:F.s;e[d+"0"]=e[d+"1"]=j.c2p(F[d],!0),e[d+"LabelVal"]=B;var H=g.extents[g.extents.round(F.p)];e[p+"0"]=V.c2p(y?C(F):H[0],!0),e[p+"1"]=V.c2p(y?P(F):H[1],!0);var W=void 0!==F.orig_p;return e[p+"LabelVal"]=W?F.orig_p:F.p,e.labelLabel=l(V,e[p+"LabelVal"],x[p+"hoverformat"]),e.valueLabel=l(j,e[d+"LabelVal"],x[d+"hoverformat"]),e.baseLabel=l(j,F.b,x[d+"hoverformat"]),e.spikeDistance=(function(e){var t=u,r=e.b,n=I(e);return a.inbox(r-t,n-t,w+(n-t)/(n-r)-1)}(F)+function(e){return D(S(e),A(e),w)}(F))/2,e[p+"Spike"]=V.c2p(F.p,!0),i(F,x,e),e.hovertemplate=x.hovertemplate,e}}function p(e,t){var r=t.mcc||e.marker.color,a=t.mlcc||e.marker.line.color,n=s(e,t);return o.opacity(r)?r:o.opacity(a)&&n?a:void 0}e.exports={hoverPoints:function(e,t,r,a,o){var i=u(e,t,r,a,o);if(i){var s=i.cd,l=s[0].trace,c=s[i.index];return i.color=p(l,c),n.getComponentMethod("errorbars","hoverInfo")(c,l,i),[i]}},hoverOnBars:u,getTraceColor:p}},98234:function(e,t,r){e.exports={attributes:r(66905),layoutAttributes:r(21044),supplyDefaults:r(18878).supplyDefaults,crossTraceDefaults:r(18878).crossTraceDefaults,supplyLayoutDefaults:r(13603),calc:r(47133),crossTraceCalc:r(11262).crossTraceCalc,colorbar:r(78666),arraysToCalcdata:r(54846),plot:r(74835).plot,style:r(49651).style,styleOnSelect:r(49651).styleOnSelect,hoverPoints:r(16032).hoverPoints,eventData:r(39269),selectPoints:r(76304),moduleType:"trace",name:"bar",basePlotModule:r(66807),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{description:["The data visualized by the span of the bars is set in `y`","if `orientation` is set th *v* (the default)","and the labels are set in `x`.","By setting `orientation` to *h*, the roles are interchanged."].join(" ")}}},21044:function(e){e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *relative*, the bars are stacked on top of one another,","with negative values below the axis, positive values above","With *group*, the bars are plotted next to one another","centered around the shared location.","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc",description:["Sets the normalization for bar traces on the graph.","With *fraction*, the value of each bar is divided by the sum of all","values at that location coordinate.","*percent* is the same but multiplied by 100 to show percentages."].join(" ")},bargap:{valType:"number",min:0,max:1,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","adjacent location coordinates."].join(" ")},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc",description:["Sets the gap (in plot fraction) between bars of","the same location coordinate."].join(" ")}}},13603:function(e,t,r){var a=r(62282),n=r(37762),o=r(47401),i=r(21044);e.exports=function(e,t,r){function s(r,a){return o.coerce(e,t,i,r,a)}for(var l=!1,c=!1,u=!1,p={},d=s("barmode"),f=0;f<r.length;f++){var h=r[f];if(a.traceIs(h,"bar")&&h.visible){if(l=!0,"group"===d){var v=h.xaxis+h.yaxis;p[v]&&(u=!0),p[v]=!0}if(h.visible&&"histogram"===h.type)"category"!==n.getFromId({_fullLayout:t},h["v"===h.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}l?("overlay"!==d&&s("barnorm"),s("bargap",c&&!u?0:.2),s("bargroupgap")):delete t.barmode}},74835:function(e,t,r){var a=r(62258),n=r(83491),o=r(47401),i=r(43995),s=r(31454),l=r(41707),c=r(62282),u=r(37762).tickText,p=r(77846),d=p.recordMinTextSize,f=p.clearMinTextSize,h=r(49651),v=r(97547),m=r(33419),x=r(66905),g=x.text,y=x.textposition,b=r(14904).appendArrayPointValue,k=m.TEXTPAD;function w(e){return e.id}function T(e){if(e.ids)return w}function M(e,t){return e<t?1:-1}function S(e,t,r,a){var n;return!t.uniformtext.mode&&A(r)?(a&&(n=a()),e.transition().duration(r.duration).ease(r.easing).each("end",(function(){n&&n()})).each("interrupt",(function(){n&&n()}))):e}function A(e){return e&&e.duration>0}function _(e){return"auto"===e?0:e}function L(e,t){var r=Math.PI/180*t,a=Math.abs(Math.sin(r)),n=Math.abs(Math.cos(r));return{x:e.width*n+e.height*a,y:e.width*a+e.height*n}}function C(e,t,r,a,n,o){var i=!!o.isHorizontal,s=!!o.constrained,l=o.angle||0,c=o.anchor||"end",u="end"===c,p="start"===c,d=((o.leftToRight||0)+1)/2,f=1-d,h=n.width,v=n.height,m=Math.abs(t-e),x=Math.abs(a-r),g=m>2*k&&x>2*k?k:0;m-=2*g,x-=2*g;var y=_(l);"auto"!==l||h<=m&&v<=x||!(h>m||v>x)||(h>x||v>m)&&h<v===m<x||(y+=90);var b=L(n,y),w=1;s&&(w=Math.min(1,m/b.x,x/b.y));var T=n.left*f+n.right*d,S=(n.top+n.bottom)/2,A=(e+k)*f+(t-k)*d,C=(r+a)/2,P=0,D=0;if(p||u){var z=(i?b.x:b.y)/2,I=i?M(e,t):M(r,a);i?p?(A=e+I*g,P=-I*z):(A=t-I*g,P=I*z):p?(C=r+I*g,D=-I*z):(C=a-I*g,D=I*z)}return{textX:T,textY:S,targetX:A,targetY:C,anchorX:P,anchorY:D,scale:w,rotate:y}}e.exports={plot:function(e,t,r,p,m,x){var w=t.xaxis,P=t.yaxis,D=e._fullLayout;m||(m={mode:D.barmode,norm:D.barmode,gap:D.bargap,groupgap:D.bargroupgap},f("bar",D));var z=o.makeTraceGroups(p,r,"trace bars").each((function(r){var c=a.select(this),p=r[0].trace,f="waterfall"===p.type,z="funnel"===p.type,I="bar"===p.type||z,O=0;f&&p.connector.visible&&"between"===p.connector.mode&&(O=p.connector.line.width/2);var V="h"===p.orientation,j=A(m),N=o.ensureSingle(c,"g","points"),F=T(p),B=N.selectAll("g.point").data(o.identity,F);B.enter().append("g").classed("point",!0),B.exit().remove(),B.each((function(c,f){var T,A,z=a.select(this),N=function(e,t,r,a){var n=[],o=[],i=a?t:r,s=a?r:t;return n[0]=i.c2p(e.s0,!0),o[0]=s.c2p(e.p0,!0),n[1]=i.c2p(e.s1,!0),o[1]=s.c2p(e.p1,!0),a?[n,o]:[o,n]}(c,w,P,V),F=N[0][0],B=N[0][1],H=N[1][0],W=N[1][1],E=0===(V?B-F:W-H);if(E&&I&&v.getLineWidth(p,c)&&(E=!1),E||(E=!n(F)||!n(B)||!n(H)||!n(W)),c.isBlank=E,E&&(V?B=F:W=H),O&&!E&&(V?(F-=M(F,B)*O,B+=M(F,B)*O):(H-=M(H,W)*O,W+=M(H,W)*O)),"waterfall"===p.type){if(!E){var R=p[c.dir].marker;T=R.line.width,A=R.color}}else T=v.getLineWidth(p,c),A=c.mc||p.marker.color;function U(e){var t=a.round(T/2%1,2);return 0===m.gap&&0===m.groupgap?a.round(Math.round(e)-t,2):e}if(!e._context.staticPlot){var G=s.opacity(A)<1||T>.01?U:function(e,t,r){return r&&e===t?e:Math.abs(e-t)>=2?U(e):e>t?Math.ceil(e):Math.floor(e)};F=G(F,B,V),B=G(B,F,V),H=G(H,W,!V),W=G(W,H,!V)}var X=S(o.ensureSingle(z,"path"),D,m,x);if(X.style("vector-effect","non-scaling-stroke").attr("d",isNaN((B-F)*(W-H))||E&&e._context.staticPlot?"M0,0Z":"M"+F+","+H+"V"+W+"H"+B+"V"+H+"Z").call(l.setClipUrl,t.layerClipId,e),!D.uniformtext.mode&&j){var Y=l.makePointStyleFns(p);l.singlePointStyle(c,X,p,Y,e)}!function(e,t,r,a,n,s,c,p,f,m,x){var w,T=t.xaxis,A=t.yaxis,P=e._fullLayout;function D(t,r,a){return o.ensureSingle(t,"text").text(r).attr({class:"bartext bartext-"+w,"text-anchor":"middle","data-notex":1}).call(l.font,a).call(i.convertToTspans,e)}var z=a[0].trace,I="h"===z.orientation,O=function(e,t,r,a,n){var i,s=t[0].trace,l=s.texttemplate;i=l?function(e,t,r,a,n){var i=t[0].trace,s=o.castOption(i,r,"texttemplate");if(!s)return"";var l,c,p,d,f="waterfall"===i.type,h="funnel"===i.type;"h"===i.orientation?(l="y",c=n,p="x",d=a):(l="x",c=a,p="y",d=n);function v(e){return u(c,c.c2l(e),!0).text}function m(e){return u(d,d.c2l(e),!0).text}var x=t[r],g={};g.label=x.p,g.labelLabel=g[l+"Label"]=v(x.p);var y=o.castOption(i,x.i,"text");(0===y||y)&&(g.text=y);g.value=x.s,g.valueLabel=g[p+"Label"]=m(x.s);var k={};b(k,i,x.i),f&&(g.delta=+x.rawS||x.s,g.deltaLabel=m(g.delta),g.final=x.v,g.finalLabel=m(g.final),g.initial=g.final-g.delta,g.initialLabel=m(g.initial));h&&(g.value=x.s,g.valueLabel=m(g.value),g.percentInitial=x.begR,g.percentInitialLabel=o.formatPercent(x.begR),g.percentPrevious=x.difR,g.percentPreviousLabel=o.formatPercent(x.difR),g.percentTotal=x.sumR,g.percenTotalLabel=o.formatPercent(x.sumR));var w=o.castOption(i,x.i,"customdata");w&&(g.customdata=w);return o.texttemplateString(s,g,e._d3locale,k,g,i._meta||{})}(e,t,r,a,n):s.textinfo?function(e,t,r,a){var n=e[0].trace,i="h"===n.orientation,s="waterfall"===n.type,l="funnel"===n.type;function c(e){return u(i?a:r,e,!0).text}function p(e){return u(i?r:a,+e,!0).text}var d,f=n.textinfo,h=e[t],v=f.split("+"),m=[],x=function(e){return-1!==v.indexOf(e)};x("label")&&m.push(c(e[t].p));x("text")&&(0===(d=o.castOption(n,h.i,"text"))||d)&&m.push(d);if(s){var g=+h.rawS||h.s,y=h.v,b=y-g;x("initial")&&m.push(p(b)),x("delta")&&m.push(p(g)),x("final")&&m.push(p(y))}if(l){x("value")&&m.push(p(h.s));var k=0;x("percent initial")&&k++,x("percent previous")&&k++,x("percent total")&&k++;var w=k>1;x("percent initial")&&(d=o.formatPercent(h.begR),w&&(d+=" of initial"),m.push(d)),x("percent previous")&&(d=o.formatPercent(h.difR),w&&(d+=" of previous"),m.push(d)),x("percent total")&&(d=o.formatPercent(h.sumR),w&&(d+=" of total"),m.push(d))}return m.join("<br>")}(t,r,a,n):v.getValue(s.text,r);return v.coerceString(g,i)}(P,a,n,T,A);w=function(e,t){var r=v.getValue(e.textposition,t);return v.coerceEnumerated(y,r)}(z,n);var V="stack"===m.mode||"relative"===m.mode,j=a[n],N=!V||j._outmost;if(!O||"none"===w||(j.isBlank||s===c||p===f)&&("auto"===w||"inside"===w))return void r.select("text").remove();var F=P.font,B=h.getBarColor(a[n],z),H=h.getInsideTextFont(z,n,F,B),W=h.getOutsideTextFont(z,n,F),E=r.datum();I?"log"===T.type&&E.s0<=0&&(s=T.range[0]<T.range[1]?0:T._length):"log"===A.type&&E.s0<=0&&(p=A.range[0]<A.range[1]?A._length:0);var R,U,G,X,Y,K=Math.abs(c-s)-2*k,Z=Math.abs(f-p)-2*k;"outside"===w&&(N||j.hasB||(w="inside"));if("auto"===w){if(N)w="inside",R=D(r,O,Y=o.ensureUniformFontSize(e,H)),G=(U=l.bBox(R.node())).width,X=U.height,G>0&&X>0&&(G<=K&&X<=Z||G<=Z&&X<=K||(I?K>=G*(Z/X):Z>=X*(K/G)))?w="inside":(w="outside",R.remove(),R=null);else w="inside"}if(!R){var q=(R=D(r,O,Y=o.ensureUniformFontSize(e,"outside"===w?W:H))).attr("transform");if(R.attr("transform",""),G=(U=l.bBox(R.node())).width,X=U.height,R.attr("transform",q),G<=0||X<=0)return void R.remove()}var J,Q=z.textangle;J="outside"===w?function(e,t,r,a,n,o){var i,s=!!o.isHorizontal,l=!!o.constrained,c=o.angle||0,u=n.width,p=n.height,d=Math.abs(t-e),f=Math.abs(a-r);i=s?f>2*k?k:0:d>2*k?k:0;var h=1;l&&(h=s?Math.min(1,f/p):Math.min(1,d/u));var v=_(c),m=L(n,v),x=(s?m.x:m.y)/2,g=(n.left+n.right)/2,y=(n.top+n.bottom)/2,b=(e+t)/2,w=(r+a)/2,T=0,S=0,A=s?M(t,e):M(r,a);s?(b=t-A*i,T=A*x):(w=a+A*i,S=-A*x);return{textX:g,textY:y,targetX:b,targetY:w,anchorX:T,anchorY:S,scale:h,rotate:v}}(s,c,p,f,U,{isHorizontal:I,constrained:"both"===z.constraintext||"outside"===z.constraintext,angle:Q}):C(s,c,p,f,U,{isHorizontal:I,constrained:"both"===z.constraintext||"inside"===z.constraintext,angle:Q,anchor:z.insidetextanchor});J.fontSize=Y.size,d(z.type,J,P),j.transform=J,S(R,P,m,x).attr("transform",o.getTextTransform(J))}(e,t,z,r,f,F,B,H,W,m,x),t.layerClipId&&l.hideOutsideRangePoint(c,z.select("text"),w,P,p.xcalendar,p.ycalendar)}));var H=!1===p.cliponaxis;l.setClipUrl(c,H?null:t.layerClipId,e)}));c.getComponentMethod("errorbars","plot")(e,z,t,m)},toMoveInsideBar:C}},76304:function(e){function t(e,t,r,a,n){var o=t.c2p(a?e.s0:e.p0,!0),i=t.c2p(a?e.s1:e.p1,!0),s=r.c2p(a?e.p0:e.s0,!0),l=r.c2p(a?e.p1:e.s1,!0);return n?[(o+i)/2,(s+l)/2]:a?[i,(s+l)/2]:[(o+i)/2,l]}e.exports=function(e,r){var a,n=e.cd,o=e.xaxis,i=e.yaxis,s=n[0].trace,l="funnel"===s.type,c="h"===s.orientation,u=[];if(!1===r)for(a=0;a<n.length;a++)n[a].selected=0;else for(a=0;a<n.length;a++){var p=n[a],d="ct"in p?p.ct:t(p,o,i,c,l);r.contains(d,!1,a,e)?(u.push({pointNumber:a,x:o.c2d(p.x),y:i.c2d(p.y)}),p.selected=1):p.selected=0}return u}},72528:function(e,t,r){e.exports=o;var a=r(47401).distinctVals,n=r(9405).BADNUM;function o(e,t){this.traces=e,this.sepNegVal=t.sepNegVal,this.overlapNoMerge=t.overlapNoMerge;for(var r=1/0,o=[],i=0;i<e.length;i++){for(var s=e[i],l=0;l<s.length;l++){var c=s[l];c.p!==n&&o.push(c.p)}s[0]&&s[0].width1&&(r=Math.min(s[0].width1,r))}this.positions=o;var u=a(o);this.distinctPositions=u.vals,1===u.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(u.minDiff,r);var p=(t.posAxis||{}).type;"category"!==p&&"multicategory"!==p||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}o.prototype.put=function(e,t){var r=this.getLabel(e,t),a=this.bins[r]||0;return this.bins[r]=a+t,a},o.prototype.get=function(e,t){var r=this.getLabel(e,t);return this.bins[r]||0},o.prototype.getLabel=function(e,t){return(t<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},49651:function(e,t,r){var a=r(62258),n=r(31454),o=r(41707),i=r(47401),s=r(62282),l=r(77846).resizeText,c=r(66905),u=c.textfont,p=c.insidetextfont,d=c.outsidetextfont,f=r(97547);function h(e,t,r){o.pointStyle(e.selectAll("path"),t,r),v(e,t,r)}function v(e,t,r){e.selectAll("text").each((function(e){var n=a.select(this),s=i.ensureUniformFontSize(r,m(n,e,t,r));o.font(n,s)}))}function m(e,t,r,a){var n=a._fullLayout.font,o=r.textfont;if(e.classed("bartext-inside")){var i=k(t,r);o=g(r,t.i,n,i)}else e.classed("bartext-outside")&&(o=y(r,t.i,n));return o}function x(e,t,r){return b(u,e.textfont,t,r)}function g(e,t,r,a){var o=x(e,t,r);return(void 0===e._input.textfont||void 0===e._input.textfont.color||Array.isArray(e.textfont.color)&&void 0===e.textfont.color[t])&&(o={color:n.contrast(a),family:o.family,size:o.size}),b(p,e.insidetextfont,t,o)}function y(e,t,r){var a=x(e,t,r);return b(d,e.outsidetextfont,t,a)}function b(e,t,r,a){t=t||{};var n=f.getValue(t.family,r),o=f.getValue(t.size,r),i=f.getValue(t.color,r);return{family:f.coerceString(e.family,n,a.family),size:f.coerceNumber(e.size,o,a.size),color:f.coerceColor(e.color,i,a.color)}}function k(e,t){return"waterfall"===t.type?t[e.dir].marker.color:e.mcc||e.mc||t.marker.color}e.exports={style:function(e){var t=a.select(e).selectAll("g.barlayer").selectAll("g.trace");l(e,t,"bar");var r=t.size(),n=e._fullLayout;t.style("opacity",(function(e){return e[0].trace.opacity})).each((function(e){("stack"===n.barmode&&r>1||0===n.bargap&&0===n.bargroupgap&&!e[0].trace.marker.line.width)&&a.select(this).attr("shape-rendering","crispEdges")})),t.selectAll("g.points").each((function(t){h(a.select(this),t[0].trace,e)})),s.getComponentMethod("errorbars","style")(t)},styleTextPoints:v,styleOnSelect:function(e,t,r){var n=t[0].trace;n.selectedpoints?function(e,t,r){o.selectedPointStyle(e.selectAll("path"),t),function(e,t,r){e.each((function(e){var n,s=a.select(this);if(e.selected){n=i.ensureUniformFontSize(r,m(s,e,t,r));var l=t.selected.textfont&&t.selected.textfont.color;l&&(n.color=l),o.font(s,n)}else o.selectedTextStyle(s,t)}))}(e.selectAll("text"),t,r)}(r,n,e):(h(r,n,e),s.getComponentMethod("errorbars","style")(r))},getInsideTextFont:g,getOutsideTextFont:y,getBarColor:k,resizeText:l}},58048:function(e,t,r){var a=r(31454),n=r(8757).hasColorscale,o=r(94060),i=r(47401).coercePattern;e.exports=function(e,t,r,s,l){var c=r("marker.color",s),u=n(e,"marker");u&&o(e,t,l,r,{prefix:"marker.",cLetter:"c"}),r("marker.line.color",a.defaultLine),n(e,"marker.line")&&o(e,t,l,r,{prefix:"marker.line.",cLetter:"c"}),r("marker.line.width"),r("marker.opacity"),i(r,"marker.pattern",c,u),r("selected.marker.color"),r("unselected.marker.color")}},77846:function(e,t,r){var a=r(62258),n=r(47401);function o(e){return"_"+e+"Text_minsize"}e.exports={recordMinTextSize:function(e,t,r){if(r.uniformtext.mode){var a=o(e),n=r.uniformtext.minsize,i=t.scale*t.fontSize;t.hide=i<n,r[a]=r[a]||1/0,t.hide||(r[a]=Math.min(r[a],Math.max(i,n)))}},clearMinTextSize:function(e,t){t[o(e)]=void 0},resizeText:function(e,t,r){var o=e._fullLayout,i=o["_"+r+"Text_minsize"];if(i){var s,l="hide"===o.uniformtext.mode;switch(r){case"funnelarea":case"pie":case"sunburst":s="g.slice";break;case"treemap":case"icicle":s="g.slice, g.pathbar";break;default:s="g.points > g.point"}t.selectAll(s).each((function(e){var t=e.transform;t&&(t.scale=l&&t.hide?0:i/t.fontSize,a.select(this).select("text").attr("transform",n.getTextTransform(t)))}))}}}},34673:function(e,t,r){var a=r(4216).r,n=r(87241).extendFlat,o=r(38866),i=r(66905);e.exports={r:o.r,theta:o.theta,r0:o.r0,dr:o.dr,theta0:o.theta0,dtheta:o.dtheta,thetaunit:o.thetaunit,base:n({},i.base,{description:["Sets where the bar base is drawn (in radial axis units).","In *stack* barmode,","traces that set *base* will be excluded","and drawn in *overlay* mode instead."].join(" ")}),offset:n({},i.offset,{description:["Shifts the angular position where the bar is drawn","(in *thetatunit* units)."].join(" ")}),width:n({},i.width,{description:["Sets the bar angular width (in *thetaunit* units)."].join(" ")}),text:n({},i.text,{description:["Sets hover text elements associated with each bar.","If a single string, the same string appears over all bars.","If an array of string, the items are mapped in order to the","this trace's coordinates."].join(" ")}),hovertext:n({},i.hovertext,{description:"Same as `text`."}),marker:i.marker,hoverinfo:o.hoverinfo,hovertemplate:a(),selected:i.selected,unselected:i.unselected}},29461:function(e,t,r){var a=r(8757).hasColorscale,n=r(92171),o=r(54846),i=r(11262).setGroupPositions,s=r(35533),l=r(62282).traceIs,c=r(47401).extendFlat;e.exports={calc:function(e,t){for(var r=e._fullLayout,i=t.subplot,l=r[i].radialaxis,c=r[i].angularaxis,u=l.makeCalcdata(t,"r"),p=c.makeCalcdata(t,"theta"),d=t._length,f=new Array(d),h=u,v=p,m=0;m<d;m++)f[m]={p:v[m],s:h[m]};function x(e){var r=t[e];void 0!==r&&(t["_"+e]=Array.isArray(r)?c.makeCalcdata(t,e):c.d2c(r,t.thetaunit))}return"linear"===c.type&&(x("width"),x("offset")),a(t,"marker")&&n(e,t,{vals:t.marker.color,containerStr:"marker",cLetter:"c"}),a(t,"marker.line")&&n(e,t,{vals:t.marker.line.color,containerStr:"marker.line",cLetter:"c"}),o(f,t),s(f,t),f},crossTraceCalc:function(e,t,r){for(var a=e.calcdata,n=[],o=0;o<a.length;o++){var s=a[o],u=s[0].trace;!0===u.visible&&l(u,"bar")&&u.subplot===r&&n.push(s)}var p=c({},t.radialaxis,{_id:"x"}),d=t.angularaxis;i(e,d,p,n,{mode:t.barmode,norm:t.barnorm,gap:t.bargap,groupgap:t.bargroupgap})}}},74806:function(e,t,r){var a=r(47401),n=r(37893).handleRThetaDefaults,o=r(58048),i=r(34673);e.exports=function(e,t,r,s){function l(r,n){return a.coerce(e,t,i,r,n)}n(e,t,s,l)?(l("thetaunit"),l("base"),l("offset"),l("width"),l("text"),l("hovertext"),l("hovertemplate"),o(e,t,l,r,s),a.coerceSelectionMarkerOpacity(t,l)):t.visible=!1}},41848:function(e,t,r){var a=r(21661),n=r(47401),o=r(16032).getTraceColor,i=n.fillText,s=r(61149).makeHoverPointText,l=r(73608).isPtInsidePolygon;e.exports=function(e,t,r){var c=e.cd,u=c[0].trace,p=e.subplot,d=p.radialAxis,f=p.angularAxis,h=p.vangles,v=h?l:n.isPtInsideSector,m=e.maxHoverDistance,x=f._period||2*Math.PI,g=Math.abs(d.g2p(Math.sqrt(t*t+r*r))),y=Math.atan2(r,t);d.range[0]>d.range[1]&&(y+=Math.PI);if(a.getClosest(c,(function(e){return v(g,y,[e.rp0,e.rp1],[e.thetag0,e.thetag1],h)?m+Math.min(1,Math.abs(e.thetag1-e.thetag0)/x)-1+(e.rp1-g)/(e.rp1-e.rp0)-1:1/0}),e),!1!==e.index){var b=c[e.index];e.x0=e.x1=b.ct[0],e.y0=e.y1=b.ct[1];var k=n.extendFlat({},b,{r:b.s,theta:b.p});return i(b,u,e),s(k,u,p,e),e.hovertemplate=u.hovertemplate,e.color=o(u,b),e.xLabelVal=e.yLabelVal=void 0,b.s<0&&(e.idealAlign="left"),[e]}}},84194:function(e,t,r){e.exports={moduleType:"trace",name:"barpolar",basePlotModule:r(70029),categories:["polar","bar","showLegend"],attributes:r(34673),layoutAttributes:r(23676),supplyDefaults:r(74806),supplyLayoutDefaults:r(84267),calc:r(29461).calc,crossTraceCalc:r(29461).crossTraceCalc,plot:r(35451),colorbar:r(78666),formatLabels:r(29672),style:r(49651).style,styleOnSelect:r(49651).styleOnSelect,hoverPoints:r(41848),selectPoints:r(76304),meta:{hrName:"bar_polar",description:["The data visualized by the radial span of the bars is set in `r`"].join(" ")}}},23676:function(e){e.exports={barmode:{valType:"enumerated",values:["stack","overlay"],dflt:"stack",editType:"calc",description:["Determines how bars at the same location coordinate","are displayed on the graph.","With *stack*, the bars are stacked on top of one another","With *overlay*, the bars are plotted over one another,","you might need to an *opacity* to see multiple bars."].join(" ")},bargap:{valType:"number",dflt:.1,min:0,max:1,editType:"calc",description:["Sets the gap between bars of","adjacent location coordinates.","Values are unitless, they represent fractions of the minimum difference","in bar positions in the data."].join(" ")}}},84267:function(e,t,r){var a=r(47401),n=r(23676);e.exports=function(e,t,r){var o,i={};function s(r,i){return a.coerce(e[o]||{},t[o],n,r,i)}for(var l=0;l<r.length;l++){var c=r[l];"barpolar"===c.type&&!0===c.visible&&(i[o=c.subplot]||(s("barmode"),s("bargap"),i[o]=1))}}},35451:function(e,t,r){var a=r(62258),n=r(83491),o=r(47401),i=r(41707),s=r(73608);e.exports=function(e,t,r){var l=t.xaxis,c=t.yaxis,u=t.radialAxis,p=t.angularAxis,d=function(e){var t=e.cxx,r=e.cyy;if(e.vangles)return function(a,n,i,l){var c,u;o.angleDelta(i,l)>0?(c=i,u=l):(c=l,u=i);var p=[s.findEnclosingVertexAngles(c,e.vangles)[0],(c+u)/2,s.findEnclosingVertexAngles(u,e.vangles)[1]];return s.pathPolygonAnnulus(a,n,c,u,p,t,r)};return function(e,a,n,i){return o.pathAnnulus(e,a,n,i,t,r)}}(t),f=t.layers.frontplot.select("g.barlayer");o.makeTraceGroups(f,r,"trace bars").each((function(){var r=a.select(this),s=o.ensureSingle(r,"g","points").selectAll("g.point").data(o.identity);s.enter().append("g").style("vector-effect","non-scaling-stroke").style("stroke-miterlimit",2).classed("point",!0),s.exit().remove(),s.each((function(e){var t,r=a.select(this),i=e.rp0=u.c2p(e.s0),s=e.rp1=u.c2p(e.s1),f=e.thetag0=p.c2g(e.p0),h=e.thetag1=p.c2g(e.p1);if(n(i)&&n(s)&&n(f)&&n(h)&&i!==s&&f!==h){var v=u.c2g(e.s1),m=(f+h)/2;e.ct=[l.c2p(v*Math.cos(m)),c.c2p(v*Math.sin(m))],t=d(i,s,f,h)}else t="M0,0Z";o.ensureSingle(r,"path").attr("d",t)})),i.setClipUrl(r,t._hasClipOnAxisFalse?t.clipIds.forTraces:null,e)}))}}}]);