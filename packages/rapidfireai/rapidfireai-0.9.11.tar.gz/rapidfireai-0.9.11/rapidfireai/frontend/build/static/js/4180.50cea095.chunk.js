"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[4180],{50684:function(e,t,n){n.d(t,{H:function(){return c},W:function(){return s}});var r=n(31014),i=n(64596);const o={paper_bgcolor:"white",plot_bgcolor:"white"},u={width:1200,height:600},l={displaylogo:!1,modeBarButtonsToRemove:["toImage"]},s=(e,t)=>(n,r)=>(0,i.downloadImage)({data:e,layout:{...t,...o},config:l},{...u,format:n,filename:r}),c=()=>{const e=(0,r.useRef)(null),[t,n]=(0,r.useState)(null),i=(0,r.useCallback)((t=>{e.current=t,n((t=>t||((t,n)=>{var r;return null===(r=e.current)||void 0===r?void 0:r.call(e,t,n)})))}),[]);return[t,i]}},84655:function(e,t,n){n.d(t,{E:function(){return l}});var r=n(31014),i=n(25121),o=n(9133),u=n(7842);const l=function(e,t,n,l){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"linear";const[c,a]=(0,r.useState)(void 0),[d,f]=(0,r.useState)(void 0);return{setRange:a,setOffsetTimestamp:f,stepRange:(0,r.useMemo)((()=>{if(c){if(e===u.fj.TIME&&(0,o.isString)(c[0])&&(0,o.isString)(c[1])){return(0,i.p4)(n,l,t,c)}if(e===u.fj.TIME_RELATIVE&&d&&(0,o.isNumber)(c[0])&&(0,o.isNumber)(c[1])){return(0,i.p4)(n,l,t,d)}if(e===u.fj.STEP&&(0,o.isNumber)(c[0])&&(0,o.isNumber)(c[1])){const e=Math.floor("log"===s?10**c[0]:c[0]),t=Math.ceil("log"===s?10**c[1]:c[1]);return e&&t?[e-1,t+1]:void 0}}}),[e,t,c,n,l,d,s]),range:c}}},99061:function(e,t,n){n.d(t,{_:function(){return r}});const r=e=>{let{data:t,selectedImageKeys:n}=e;const r=t.reduce(((e,t)=>{for(const r of Object.keys(t.images))if(null!==n&&void 0!==n&&n.includes(r)){const n=t.images[r];for(const t of Object.values(n))void 0!==t.step&&(e[t.step]={style:{display:"none"},label:""})}return e}),{});return{stepMarks:r,maxMark:Math.max(...Object.keys(r).map(Number)),minMark:Math.min(...Object.keys(r).map(Number))}}},92206:function(e,t,n){n.d(t,{v:function(){return i}});var r=n(31014);const i=function(){let{enabled:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=(0,r.useRef)(),[n,i]=(0,r.useState)(!e);return(0,r.useEffect)((()=>{if(!e||!t.current||!window.IntersectionObserver)return i(!0),()=>{};const n=new IntersectionObserver((e=>{let[t]=e;i(t.isIntersecting)}));return setTimeout((()=>{t.current&&n.observe(t.current)})),()=>n.disconnect()}),[e]),{isInViewport:n,elementRef:e=>{t.current=e}}}},97604:function(e,t,n){n.d(t,{l:function(){return i}});var r=n(31014);const i=e=>{const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),e=>{t.current(e)}}},25790:function(e,t,n){n.d(t,{Iq:function(){return o},PQ:function(){return u},ZY:function(){return s},nD:function(){return l}});var r=n(31014);const i=(e,t)=>function(n,r,i){var o,u;let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const s=-1===r&&-1===i;var c,a,d,f;(null===(o=n.querySelector(".is-hover-highlight"))||void 0===o||o.classList.remove("is-hover-highlight"),r>-1)&&(null===(c=n.querySelectorAll(e)[r])||void 0===c||c.classList.add("is-hover-highlight"));(null===(u=n.querySelector(".is-selection-highlight"))||void 0===u||u.classList.remove("is-selection-highlight"),i>-1)&&(null===(a=n.querySelectorAll(e)[i])||void 0===a||a.classList.add("is-selection-highlight"));if(l>0){const t=i>-1?i-l:r>-1?r-l:-1;n.querySelectorAll(e).forEach(((e,n)=>{e.classList.toggle("is-band",n>=0&&n<l),e.classList.toggle("is-band-highlighted",n===t)}))}else n.querySelectorAll(e).forEach((e=>e.classList.remove("is-band")));s?null===(d=n.querySelector(t))||void 0===d||d.classList.remove("is-highlight"):null===(f=n.querySelector(t))||void 0===f||f.classList.add("is-highlight")},o=i("svg .trace.bars g.point",".trace.bars"),u=i("svg .scatterlayer g.trace",".scatterlayer"),l=i("svg .scatterlayer path.point",".trace.scatter"),s=function(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const u=(0,r.useMemo)((()=>e&&t?n.findIndex((e=>{let{uuid:n}=e;return n===t})):-1),[n,e,t]),[l,s]=(0,r.useState)(-1);return(0,r.useEffect)((()=>{e&&i(e,l,u,o)}),[i,e,u,l,o]),{selectedTraceIndex:u,hoveredPointIndex:l,setHoveredPointIndex:s}}},65977:function(e,t,n){n.d(t,{t:function(){return c}});var r=n(89555),i=n(31014),o=n(9133),u=n(50111);const l=".main-svg .draglayer .nsewdrag",s=e=>{var t;const n=(0,o.isString)(e)&&(null===(t=e.match(/[0-9]{2}:[0-9]{2}:[0-9]{2}\.([0-9]+)/))||void 0===t?void 0:t[1]);return n?1e3*Number(`0.${n}`)%1:0},c=e=>{let{onUnhover:t,onHover:n,runsData:c,plotData:a,legendLabelData:d,containsMultipleMetricKeys:f,xAxisKeyLabel:v,xAxisKey:p,disabled:h,setHoveredPointIndex:g,xAxisScaleType:m="linear"}=e;const x=(0,i.useRef)({containerLeftPixels:0,plotWidthPixels:0,plotOffsetPixels:0,lowerBoundValue:0,valueRange:0,mainContainer:null,dragLayer:null,initialized:!1}),y=(0,i.useRef)(null),R=(0,i.useRef)(void 0),b=(0,i.useMemo)((()=>(0,o.uniq)(a.map((e=>{let{x:t}=e;return t})).flat())),[a]),[E,C]=(0,i.useState)(null),S=(0,i.useRef)(void 0),I=(0,i.useRef)(d),L=(0,i.useRef)(c),w=(0,i.useRef)(a),M=(0,i.useRef)(b);I.current=d,L.current=c,w.current=a,M.current=b;const k=(0,i.useCallback)((e=>{var t,n,r,i,u,l;const c=null===(t=e.layout.xaxis)||void 0===t||null===(n=t.range)||void 0===n?void 0:n[0],a=null===(r=e.layout.xaxis)||void 0===r||null===(i=r.range)||void 0===i?void 0:i[1];let d=(0,o.isNumber)(c)?c:new Date(null!==c&&void 0!==c?c:0).getTime(),f=(0,o.isNumber)(a)?a:new Date(null!==a&&void 0!==a?a:0).getTime();d+=s(c),f+=s(a),x.current.lowerBoundValue=null!==(u=d)&&void 0!==u?u:0,x.current.valueRange=(null!==(l=f)&&void 0!==l?l:0)-x.current.lowerBoundValue}),[]),T=(0,i.useCallback)((()=>{const{mainContainer:e,dragLayer:t}=x.current;if(e&&t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();x.current.containerLeftPixels=n.x,x.current.plotWidthPixels=r.width,x.current.plotOffsetPixels=r.x-n.x,x.current.initialized=r.width>0}}),[]),H=(0,i.useCallback)(((e,t)=>{k(e);const n=t.querySelector(".main-svg"),r=t.querySelector(l);x.current.mainContainer=n,x.current.dragLayer=r,T()}),[k,T]),D=(0,i.useCallback)(((e,t)=>{C({figure:e,graphDiv:t}),H(e,t)}),[H]),B=(0,i.useCallback)((e=>{e.relatedTarget instanceof Element&&e.relatedTarget.classList.contains("dragcover")||(null===t||void 0===t||t(),y.current&&(y.current.style.display="none"))}),[t]),N=(0,i.useCallback)((e=>{var t,n;let{points:r}=e;const i=r[0],o=null===i||void 0===i?void 0:i.data;if(g(null!==(t=null===i||void 0===i?void 0:i.curveNumber)&&void 0!==t?t:-1),!o)return;const u=null===(n=o.metricHistory)||void 0===n?void 0:n[i.pointIndex],l={xValue:i.x,yValue:i.y,metricEntity:u,index:i.pointIndex,label:v,traceUuid:o.uuid};R.current=l}),[v,g]),P=(0,i.useCallback)((()=>{R.current=void 0,g(-1)}),[g]),V=(0,i.useCallback)((e=>{const t=x.current,n=(e-t.plotOffsetPixels-t.containerLeftPixels)/t.plotWidthPixels;let r=t.lowerBoundValue+t.valueRange*n;"log"===m&&(r=10**r);return M.current.reduce(((e,t)=>Math.abs(t-r)<Math.abs(e-r)?t:e),M.current[0])}),[m]);(0,i.useEffect)((()=>{if(h)return;if(!E)return;k(E.figure);const e=E.graphDiv.querySelector(l),t=(0,o.throttle)((e=>{x.current.initialized||T();const t=V(e.clientX),n=I.current.map((e=>{var n,r;const i=L.current.find((t=>{let{uuid:n}=t;return n===e.uuid})),u=w.current.find((t=>{let{uuid:n,metricKey:r}=t;return n===e.uuid&&e.metricKey===r}));if(!u)return;const l=f?e.label:null===i||void 0===i?void 0:i.displayName,s=null===(n=u.x)||void 0===n?void 0:n.indexOf(t);if((0,o.isUndefined)(s)||-1===s)return;const c=null===(r=u.y)||void 0===r?void 0:r[s];return{displayName:l||"",value:(0,o.isNumber)(c)?c:void 0,color:null===e||void 0===e?void 0:e.color,dashStyle:null===e||void 0===e?void 0:e.dashStyle,uuid:`${e.uuid}.${e.metricKey}`}}));S.current={tooltipLegendItems:(0,o.orderBy)((0,o.compact)(n),"value","desc"),hoveredDataPoint:null===R||void 0===R?void 0:R.current,xValue:t,xAxisKey:p,xAxisKeyLabel:v}}),50,{leading:!0}),r=(0,o.throttle)(T,50),i=e=>{var t,r;if(!S.current)return;const i=x.current,o=V(e.clientX),u=(("log"===m?Math.log10(o):o)-i.lowerBoundValue)/i.valueRange*i.plotWidthPixels;y.current&&(y.current.style.display="block",y.current.style.left=`${i.plotOffsetPixels+u}px`),null===n||void 0===n||n((null===(t=S.current)||void 0===t||null===(r=t.hoveredDataPoint)||void 0===r?void 0:r.traceUuid)||"",{x:i.containerLeftPixels+i.plotOffsetPixels+u,y:e.clientY,originalEvent:e},S.current)};return e?(e.addEventListener("pointermove",t),e.addEventListener("pointermove",i),window.addEventListener("resize",r),e.addEventListener("pointerleave",B),()=>{e.removeEventListener("pointermove",t),e.removeEventListener("pointermove",i),e.removeEventListener("pointerleave",B),window.removeEventListener("resize",r)}):()=>{}}),[B,E,k,n,f,R,h,p,v,m,V,T]);const U=h?null:(0,u.Y)("div",{css:(0,r.AH)({top:0,width:0,borderLeft:"1px dashed rgba(0,0,0,0.5)",height:"100%",position:"absolute",pointerEvents:"none"},""),ref:y,style:{display:"none"}});return{updateHandler:H,initHandler:D,scanlineElement:U,onPointHover:N,onPointUnhover:P}}},75627:function(e,t,n){n.d(t,{QS:function(){return u},W:function(){return f},bL:function(){return c},uN:function(){return v}});var r=n(31014),i=n(91144),o=n(50111);let u=function(e){return e[e.Simple=1]="Simple",e[e.MultipleTracesWithScanline=2]="MultipleTracesWithScanline",e}({});const l=r.createContext(null);let s=function(e){return e[e.HIDDEN=0]="HIDDEN",e[e.HOVER=1]="HOVER",e[e.VISIBLE=2]="VISIBLE",e}({});const c=e=>e&&"tooltipLegendItems"in e,a=e=>{if(null===e||!(e instanceof Element))return null;if(e instanceof HTMLElement)return e;let t=e;for(;t&&!(t instanceof HTMLElement);)t=t.parentElement;return t};var d={name:"13udsys",styles:"height:100%"};const f=e=>{let{className:t,children:n,contextData:c,component:f,hoverOnly:v=!1,showControllerNotification:h=(()=>{}),refreshRuns:g=(()=>{})}=e;const m=(0,r.useRef)(null),x=(0,r.useRef)(null),y=(0,r.useRef)({x:0,y:0}),R=(0,i.dD)(),b=(0,r.useRef)({x:0,y:0}),[E,C]=(0,r.useState)(u.Simple),[S,I]=(0,r.useState)(s.HIDDEN),[L,w]=(0,r.useState)(null),[M,k]=(0,r.useState)(""),[T,H]=(0,r.useState)(null),D=(0,r.useRef)(null),B=(0,r.useRef)(S),N=(0,r.useRef)(M),P=(0,r.useRef)(L),V=(0,r.useRef)(T),U=(0,r.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!x.current||!m.current)return;let t=E===u.MultipleTracesWithScanline?b.current.x:y.current.x,n=y.current.y;const r=x.current,i=m.current.getBoundingClientRect();E===u.MultipleTracesWithScanline&&(t-=i.x,n-=i.y),x.current.style.left="0px",x.current.style.top="0px",x.current.style.transform=`translate3d(${t+1}px, ${n+1}px, 0)`;const o=()=>{const e=r.getBoundingClientRect(),o=window.innerHeight,u=n;o-n<e.height&&u>e.height&&(n-=e.height),t+e.width>=i.width&&(t-=e.width),r.style.transform=`translate3d(${t+1}px, ${n+1}px, 0)`};e?requestAnimationFrame(o):o()}),[E]);(0,r.useEffect)((()=>{B.current=S}),[S]);const O=(0,r.useCallback)(((e,t)=>{var n;const r=e.getBoundingClientRect(),i=(null===(n=m.current)||void 0===n?void 0:n.getBoundingClientRect())||{left:0,top:0};return{x:t.offsetX+(r.left-i.left),y:t.offsetY+(r.top-i.top)}}),[]),A=(0,r.useCallback)((e=>{if(B.current===s.HOVER&&x.current&&m.current){D.current=null;const t=a(e.target);t&&(y.current=O(t,e.nativeEvent),U())}}),[U,O]),W=(0,r.useCallback)(((e,t,n,r,i)=>{var o;N.current=e,P.current=n,V.current=i,B.current!==s.VISIBLE&&(w(n),!e&&null!==(o=D.current)&&void 0!==o&&o.runUuid||(t===u.MultipleTracesWithScanline&&(b.current.x=(null===r||void 0===r?void 0:r.x)||0),C(t),k((t=>(i&&H(i),B.current===s.HIDDEN||B.current===s.HOVER&&e!==t?(I(s.HOVER),e):t)))))}),[]),q=(0,r.useCallback)((e=>{v||0===e.button&&N.current&&(D.current={x:e.pageX,y:e.pageY,runUuid:N.current})}),[v]),Y=(0,r.useCallback)((e=>{if(v)return;if(D.current&&(()=>{var t,n;if(!R)return(null===(n=D.current)||void 0===n?void 0:n.runUuid)&&e.pageX===D.current.x&&e.pageY===D.current.y;return(null===(t=D.current)||void 0===t?void 0:t.runUuid)&&Math.abs(e.pageX-D.current.x)<5&&Math.abs(e.pageY-D.current.y)<5})()){if(B.current===s.VISIBLE){k(D.current.runUuid),H(V.current);const t=a(e.nativeEvent.target);t&&(y.current=O(t,e.nativeEvent),U(!0))}else I(s.VISIBLE),U(!0);e.stopPropagation()}D.current=null}),[U,v,O,R]),K=(0,r.useCallback)((()=>I(s.HIDDEN)),[]);(0,r.useLayoutEffect)((()=>{if(!m.current)return;const e=m.current.getRootNode(),t=e=>{var t;if(B.current!==s.VISIBLE)return;const n=a(e.target);if(!n)return;n instanceof HTMLElement&&(null===x||void 0===x?void 0:x.current)instanceof HTMLElement&&x.current.contains(n)||null!==(t=D.current)&&void 0!==t&&t.runUuid||I(s.HIDDEN)};return e.addEventListener("click",t,{capture:!0}),()=>{e.removeEventListener("click",t,{capture:!0})}}),[O,U]);const $=(0,r.useCallback)((()=>{var e;N.current="",null!==(e=D.current)&&void 0!==e&&e.runUuid||B.current===s.VISIBLE||(k(""),I(s.HIDDEN))}),[]),_=(0,r.useCallback)((function(){N.current="",k(""),I(s.HIDDEN)}),[]),j=(0,r.useMemo)((()=>S!==s.VISIBLE?null:M),[S,M]),z=(0,r.useMemo)((()=>({updateTooltip:W,resetTooltip:$,destroyTooltip:_,selectedRunUuid:j,closeContextMenu:K,showControllerNotification:h,refreshRuns:g})),[W,$,_,j,K,h,g]),X=S!==s.HIDDEN&&(E===u.MultipleTracesWithScanline||""!==M);return(0,o.FD)(l.Provider,{value:z,children:[(0,o.Y)("div",{onMouseMove:A,onMouseDownCapture:q,onClickCapture:Y,css:d,children:n}),(0,o.Y)("div",{css:p.contextMenuContainer,className:t,ref:m,children:X&&(0,o.Y)("div",{ref:x,css:p.contextMenuWrapper,"data-testid":"tooltip-container",style:{userSelect:S===s.HOVER?"none":"unset",pointerEvents:S===s.HOVER?"none":"all"},children:(0,o.Y)(f,{runUuid:M,hoverData:T,chartData:L,contextData:c,isHovering:S===s.HOVER,closeContextMenu:K,mode:E,showControllerNotification:h,refreshRuns:g})})})]})},v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.Simple;const n=(0,r.useContext)(l);if(!n)throw new Error("You must invoke useRunsChartsTooltip() in a component being ancestor of <RunsChartsTooltipWrapper />!");const{updateTooltip:i,resetTooltip:o,selectedRunUuid:s,closeContextMenu:c,destroyTooltip:a}=n,d=(0,r.useCallback)((function(){i(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t,e,arguments.length>1?arguments[1]:void 0,arguments.length>2?arguments[2]:void 0)}),[i,e,t]);return{setTooltip:d,resetTooltip:o,selectedRunUuid:s,closeContextMenu:c,destroyTooltip:a}},p={contextMenuContainer:{overflow:"hidden",top:0,left:0,width:"100%",height:"100%",position:"fixed",pointerEvents:"none"},contextMenuWrapper:e=>({zIndex:1,position:"absolute",padding:e.spacing.sm,backgroundColor:e.colors.backgroundPrimary,border:`1px solid ${e.colors.border}`,left:-999,top:-999,borderRadius:e.general.borderRadiusBase,boxShadow:e.general.shadowLow,maxHeight:"80vh",display:"flex",overflow:"hidden"}),overlayElement:()=>({"&::after":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"transparent"}})}},62758:function(e,t,n){n.d(t,{Ez:function(){return d},KP:function(){return v},cA:function(){return f},g_:function(){return c},iO:function(){return a},oB:function(){return s}});var r=n(31014),i=n(30152),o=n(7204),u=n(50111);const l=r.createContext((()=>{})),s=e=>{let{children:t,updateChartsUIState:n}=e;return(0,u.Y)(l.Provider,{value:n,children:t})},c=()=>r.useContext(l),a=()=>{const e=c();return(t,n)=>{e((e=>{var r,i;const o=null===(r=e.compareRunCharts)||void 0===r?void 0:r.slice(),u=null===(i=e.compareRunSections)||void 0===i?void 0:i.slice();if(!o||!u)return e;const l=o.findIndex((e=>e.uuid===t)),s=o.findIndex((e=>e.uuid===n));if(l<0||s<0)return e;const c=o[l],a=o[s],d=a.metricSectionId===c.metricSectionId,f=u.findIndex((e=>e.uuid===c.metricSectionId)),v=u.findIndex((e=>e.uuid===a.metricSectionId));u.splice(f,1,{...u[f],isReordered:!0}),u.splice(v,1,{...u[v],isReordered:!0});const p={...c};return p.metricSectionId=a.metricSectionId,o.splice(l,1),d?o.splice(s,0,p):o.splice(o.findIndex((e=>e.uuid===n)),0,p),{...e,compareRunCharts:o,compareRunSections:u}}))}},d=()=>{const e=c();return t=>{const n=i.i$.serialize({...t,uuid:(0,o.yk)()});t.uuid?e((e=>{var r;return{...e,compareRunCharts:null===(r=e.compareRunCharts)||void 0===r?void 0:r.map((e=>e.uuid===t.uuid?n:e))}})):e((e=>({...e,compareRunCharts:e.compareRunCharts&&[...e.compareRunCharts,n]})))}},f=()=>{const e=c();return(t,n)=>{e((e=>{var r,i;const o=null===(r=e.compareRunCharts)||void 0===r?void 0:r.slice(),u=null===(i=e.compareRunSections)||void 0===i?void 0:i.slice();if(!o||!u)return e;const l=o.findIndex((e=>e.uuid===t));if(l<0)return e;const s=o[l],c={...s};c.metricSectionId=n;const a=u.findIndex((e=>e.uuid===s.metricSectionId)),d=u.findIndex((e=>e.uuid===n));return u.splice(a,1,{...u[a],isReordered:!0}),u.splice(d,1,{...u[d],isReordered:!0}),o.splice(l,1),o.push(c),{...e,compareRunCharts:o,compareRunSections:u}}))}},v=()=>{const e=c();return t=>{e((e=>{var n,r;return{...e,compareRunCharts:t.isGenerated?null===(n=e.compareRunCharts)||void 0===n?void 0:n.map((e=>e.uuid===t.uuid?{...e,deleted:!0}:e)):null===(r=e.compareRunCharts)||void 0===r?void 0:r.filter((e=>e.uuid!==t.uuid))}}))}}},13135:function(e,t,n){n.d(t,{S:function(){return a}});var r=n(9133),i=n(31014),o=n(10811),u=n(7842),l=n(16297),s=n(32039),c=n(76010);const a=e=>{const{metricKeys:t,runUuids:n,enabled:a,maxResults:d,range:f,autoRefreshEnabled:v}=e,p=(0,o.wA)(),{resultsByRunUuid:h,isLoading:g,isRefreshing:m}=(0,o.d4)((e=>{const i=(0,u.Cx)(f);let o=!1,l=!1;const s=n.map((n=>{const r=t.reduce(((t,r)=>{var u,s;const c=null===(u=e.entities.sampledMetricsByRunUuid[n])||void 0===u||null===(s=u[r])||void 0===s?void 0:s[i];return c?(l=l||Boolean(c.loading),o=o||Boolean(c.refreshing),t[r]=c,t):t}),{});return{runUuid:n,...r}}));return{isLoading:l,isRefreshing:o,resultsByRunUuid:(0,r.keyBy)(s,"runUuid")}})),x=(0,i.useCallback)((()=>{t.forEach((e=>{(0,r.chunk)(n,100).forEach((t=>{const n=(0,l.H)(t,e,d,f,"all");p(n)}))}))}),[p,d,n,t,f]),y=(0,i.useRef)(void 0),R=(0,i.useRef)(v&&e.enabled);R.current=v&&e.enabled;const b=(0,i.useMemo)((()=>n.join(",")),[n]);return(0,i.useEffect)((()=>{a&&!v&&t.forEach((e=>{(0,r.chunk)(n,100).forEach((t=>{const n=(0,l.H)(t,e,d,f);p(n)}))}))}),[p,d,n,t,f,a,v]),(0,i.useEffect)((()=>{let e=!1;if(!a||!v)return;const n=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=b.split(",").filter((e=>""!==e));await Promise.all(t.map((async t=>Promise.all((0,r.chunk)(n,100).map((async n=>p((0,l.H)(n,t,d,f,e?"auto":void 0))))))))},i=async()=>{if(R.current&&!e){try{await n(!0)}catch(t){c.A.logErrorAndNotifyUser(t)}clearTimeout(y.current),R.current&&!e&&(y.current=window.setTimeout(i,s.QB))}};return n().then(i),()=>{e=!0,clearTimeout(y.current)}}),[p,d,b,t,f,a,v]),{isLoading:g,isRefreshing:m,resultsByRunUuid:h,refresh:x}}}}]);