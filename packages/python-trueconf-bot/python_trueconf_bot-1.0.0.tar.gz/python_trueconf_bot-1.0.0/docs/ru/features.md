# –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –Ω–∞ –æ—Å–Ω–æ–≤–µ asyncio

–í—Å—ë –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ async/await. –í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫. 

### –ü–æ—Ö–æ–∂–µ—Å—Ç—å –Ω–∞ aiogram

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∑–Ω–∞–∫–æ–º—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏: Router, –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, —à–æ—Ä—Ç–∫–∞—Ç—ã (message.answer, message.reply), —Ñ–∏–ª—å—Ç—Ä—ã –∏ –¥–∞–∂–µ magic-filter (F.text, F.document, F.photo). 

### –£–¥–æ–±–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–±—ã—Ç–∏–π

–í—Å–µ –≤—Ö–æ–¥—è—â–∏–µ JSON –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ –∫–ª–∞—Å—Å—ã Python (Message, AttachmentContent, UploadingProgress –∏ –¥—Ä.), –ø–æ—ç—Ç–æ–º—É —Ä–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Å—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–∞. 

### –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞

–†–æ—É—Ç–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è:

```python
from trueconf import Router, Message
from trueconf.enums import MessageType
from trueconf.filters import F

router = Router()

@router.message(F.text.startswith("/start"))
async def on_start(msg: Message):
  await msg.answer("–ü—Ä–∏–≤–µ—Ç! –Ø TrueConf –±–æ—Ç üëã")

@router.message(F.document.mime_type == "application/pdf")
async def on_pdf(msg: Message):
  await msg.reply("–°–ø–∞—Å–∏–±–æ –∑–∞ PDF!")
```

### –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

1. –ò—Å–ø–æ–ª—å–∑—É—è –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π JWT-—Ç–æ–∫–µ–Ω:
    ```python
    bot = Bot(server="video.example.com", token="...")
    ```

2. –∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è:
    ```python
    bot = Bot.from_credentials(server, username, password)
    ```
  
### –ê–ª–∏–∞—Å—ã –∏ —à–æ—Ä—Ç–∫–∞—Ç—ã –≤ —Å—Ç–∏–ª–µ aiogram

–î–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π –¥–æ—Å—Ç—É–ø–Ω—ã –ø—Ä–∏–≤—ã—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã:

```python
await msg.answer("–¢–µ–∫—Å—Ç –≤ —á–∞—Ç")
await msg.reply("–û—Ç–≤–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ")
await msg.copy_to(chat_id="other_chat")
```

### –ú–Ω–æ–≥–æ–±–æ—Ç–Ω–æ—Å—Ç—å

–í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–æ—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –æ—Ç–¥–µ–ª—å–Ω–æ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ.

### –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç ‚Äî WebSocket

–í—Å—ë –æ–±—â–µ–Ω–∏–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ WebSocket. –≠—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö REST-–∑–∞–ø—Ä–æ—Å–æ–≤.

### Magic-filter, –∫–∞–∫ –≤ aiogram

–¢–æ—á–Ω–æ —Ç–∞–∫ –∂–µ, –∫–∞–∫ –≤ aiogram:

```python
@router.message(F.photo)
async def on_photo(msg: Message): ...

@router.message(F.document.mime_type.in_(["application/pdf", "application/msword"]))
async def on_doc(msg: Message): ...
```

### –§–∞–π–ª—ã –∏ –∑–∞–≥—Ä—É–∑–∫–∏

–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤. –ú–æ–∂–Ω–æ —Å–∫–∞—á–∏–≤–∞—Ç—å —Ñ–∞–π–ª –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –∏–ª–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –ø—É—Ç–∏.

```python
path = await bot.download_file_by_id(file_id)
await msg.answer(f"–§–∞–π–ª —Å–∫–∞—á–∞–Ω –≤ {path}")
```

### –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã API

–í –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã TrueConf API: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, –∑–∞–≥—Ä—É–∑–∫–∞/—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, –æ–ø—Ä–æ—Å—ã, –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –∏ –ø—Ä.