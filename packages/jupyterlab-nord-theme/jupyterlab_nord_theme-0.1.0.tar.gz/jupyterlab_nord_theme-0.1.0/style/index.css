/*
 * JupyterLab Nord Theme - Based on Default Dark Theme
 * Uses the official Nord color palette with all default layout/sizing preserved
 */

:root {
  /* Nord Color Palette */
  --nord0: #2e3440;
  --nord1: #3b4252;
  --nord2: #434c5e;
  --nord3: #4c566a;
  --nord4: #d8dee9;
  --nord5: #e5e9f0;
  --nord6: #eceff4;
  --nord7: #8fbcbb;
  --nord8: #88c0d0;
  --nord9: #81a1c1;
  --nord10: #5e81ac;
  --nord11: #bf616a;
  --nord12: #d08770;
  --nord13: #ebcb8b;
  --nord14: #a3be8c;
  --nord15: #b48ead;
}

body[data-jp-theme-name='Nord'] {
  /* Elevation - keep default shadow system */
  --jp-shadow-base-lightness: 32;
  --jp-shadow-umbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.2
  );
  --jp-shadow-penumbra-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.14
  );
  --jp-shadow-ambient-color: rgba(
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    var(--jp-shadow-base-lightness),
    0.12
  );
  --jp-elevation-z0: none;
  --jp-elevation-z1: 0 2px 1px -1px var(--jp-shadow-umbra-color),
    0 1px 1px 0 var(--jp-shadow-penumbra-color),
    0 1px 3px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z2: 0 3px 1px -2px var(--jp-shadow-umbra-color),
    0 2px 2px 0 var(--jp-shadow-penumbra-color),
    0 1px 5px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z4: 0 2px 4px -1px var(--jp-shadow-umbra-color),
    0 4px 5px 0 var(--jp-shadow-penumbra-color),
    0 1px 10px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z6: 0 3px 5px -1px var(--jp-shadow-umbra-color),
    0 6px 10px 0 var(--jp-shadow-penumbra-color),
    0 1px 18px 0 var(--jp-shadow-ambient-color);
  --jp-elevation-z8: 0 5px 5px -3px var(--jp-shadow-umbra-color),
    0 8px 10px 1px var(--jp-shadow-penumbra-color),
    0 3px 14px 2px var(--jp-shadow-ambient-color);
  --jp-elevation-z12: 0 7px 8px -4px var(--jp-shadow-umbra-color),
    0 12px 17px 2px var(--jp-shadow-penumbra-color),
    0 5px 22px 4px var(--jp-shadow-ambient-color);
  --jp-elevation-z16: 0 8px 10px -5px var(--jp-shadow-umbra-color),
    0 16px 24px 2px var(--jp-shadow-penumbra-color),
    0 6px 30px 5px var(--jp-shadow-ambient-color);
  --jp-elevation-z20: 0 10px 13px -6px var(--jp-shadow-umbra-color),
    0 20px 31px 3px var(--jp-shadow-penumbra-color),
    0 8px 38px 7px var(--jp-shadow-ambient-color);
  --jp-elevation-z24: 0 11px 15px -7px var(--jp-shadow-umbra-color),
    0 24px 38px 3px var(--jp-shadow-penumbra-color),
    0 9px 46px 8px var(--jp-shadow-ambient-color);

  /* Shortcut buttons */
  --jp-shortcuts-button-background: var(--nord10);
  --jp-shortcuts-button-hover-background: var(--nord9);

  /* Borders */
  --jp-border-width: 1px;
  --jp-border-color0: var(--nord3);
  --jp-border-color1: var(--nord3);
  --jp-border-color2: var(--nord2);
  --jp-border-color3: var(--nord1);
  --jp-inverse-border-color: var(--nord4);
  --jp-border-radius: 2px;

  /* UI Fonts */
  --jp-ui-font-scale-factor: 1.2;
  --jp-ui-font-size0: 0.83333em;
  --jp-ui-font-size1: 13px;
  --jp-ui-font-size2: 1.2em;
  --jp-ui-font-size3: 1.44em;
  --jp-ui-font-family: system-ui, -apple-system, blinkmacsystemfont, 'Segoe UI',
    helvetica, arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
    'Segoe UI Symbol';

  /* UI Font Colors - using Nord colors */
  --jp-ui-font-color0: var(--nord6);
  --jp-ui-font-color1: var(--nord5);
  --jp-ui-font-color2: var(--nord4);
  --jp-ui-font-color3: var(--nord3);

  /* UI Inverse Font Colors */
  --jp-ui-inverse-font-color0: var(--nord0);
  --jp-ui-inverse-font-color1: var(--nord1);
  --jp-ui-inverse-font-color2: var(--nord2);
  --jp-ui-inverse-font-color3: var(--nord3);

  /* Content Fonts */
  --jp-content-line-height: 1.6;
  --jp-content-font-scale-factor: 1.2;
  --jp-content-font-size0: 0.83333em;
  --jp-content-font-size1: 14px;
  --jp-content-font-size2: 1.2em;
  --jp-content-font-size3: 1.44em;
  --jp-content-font-size4: 1.728em;
  --jp-content-font-size5: 2.0736em;
  --jp-content-presentation-font-size1: 17px;
  --jp-content-heading-line-height: 1;
  --jp-content-heading-margin-top: 1.2em;
  --jp-content-heading-margin-bottom: 0.8em;
  --jp-content-heading-font-weight: 500;

  /* Content Font Colors - using Nord colors */
  --jp-content-font-color0: var(--nord6);
  --jp-content-font-color1: var(--nord6);
  --jp-content-font-color2: var(--nord5);
  --jp-content-font-color3: var(--nord4);
  --jp-content-link-color: var(--nord8);
  --jp-content-link-visited-color: var(--nord15);
  --jp-content-link-hover-color: var(--nord9);
  --jp-content-font-family: system-ui, -apple-system, blinkmacsystemfont,
    'Segoe UI', helvetica, arial, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol';

  /* Code Fonts */
  --jp-code-font-size: 13px;
  --jp-code-line-height: 1.3077;
  --jp-code-padding: 5px;
  --jp-code-font-family-default: menlo, consolas, 'DejaVu Sans Mono', monospace;
  --jp-code-font-family: var(--jp-code-font-family-default);
  --jp-code-presentation-font-size: 16px;
  --jp-code-cursor-width0: 1.4px;
  --jp-code-cursor-width1: 2px;
  --jp-code-cursor-width2: 4px;

  /* Layout Colors - using Nord colors */
  --jp-layout-color0: var(--nord0);
  --jp-layout-color1: var(--nord1);
  --jp-layout-color2: var(--nord2);
  --jp-layout-color3: var(--nord3);
  --jp-layout-color4: var(--nord4);

  /* Inverse Layout Colors */
  --jp-inverse-layout-color0: var(--nord6);
  --jp-inverse-layout-color1: var(--nord6);
  --jp-inverse-layout-color2: var(--nord5);
  --jp-inverse-layout-color3: var(--nord4);
  --jp-inverse-layout-color4: var(--nord3);

  /* Brand/accent - using Nord frost colors */
  --jp-brand-color0: var(--nord10);
  --jp-brand-color1: var(--nord9);
  --jp-brand-color2: var(--nord8);
  --jp-brand-color3: var(--nord7);
  --jp-brand-color4: var(--nord6);
  --jp-accent-color0: var(--nord14);
  --jp-accent-color1: var(--nord14);
  --jp-accent-color2: var(--nord14);
  --jp-accent-color3: var(--nord14);

  /* State colors - using Nord aurora colors */
  --jp-warn-color0: var(--nord13);
  --jp-warn-color1: var(--nord13);
  --jp-warn-color2: var(--nord13);
  --jp-warn-color3: var(--nord13);
  --jp-error-color0: var(--nord11);
  --jp-error-color1: var(--nord11);
  --jp-error-color2: var(--nord11);
  --jp-error-color3: var(--nord11);
  --jp-success-color0: var(--nord14);
  --jp-success-color1: var(--nord14);
  --jp-success-color2: var(--nord14);
  --jp-success-color3: var(--nord14);
  --jp-info-color0: var(--nord8);
  --jp-info-color1: var(--nord9);
  --jp-info-color2: var(--nord10);
  --jp-info-color3: var(--nord7);

  /* Cell specific styles */
  --jp-cell-padding: 5px;
  --jp-cell-collapser-width: 8px;
  --jp-cell-collapser-min-height: 20px;
  --jp-cell-collapser-not-active-hover-opacity: 0.6;
  --jp-cell-editor-background: var(--nord1);
  --jp-cell-editor-border-color: var(--nord3);
  --jp-cell-editor-box-shadow: inset 0 0 2px var(--nord8);
  --jp-cell-editor-active-background: var(--nord0);
  --jp-cell-editor-active-border-color: var(--nord9);
  --jp-cell-prompt-width: 64px;
  --jp-cell-prompt-font-family: var(--jp-code-font-family-default);
  --jp-cell-prompt-letter-spacing: 0;
  --jp-cell-prompt-opacity: 1;
  --jp-cell-prompt-not-active-opacity: 1;
  --jp-cell-prompt-not-active-font-color: var(--nord4);
  --jp-cell-inprompt-font-color: var(--nord8);
  --jp-cell-outprompt-font-color: var(--nord12);

  /* Notebook specific styles */
  --jp-notebook-padding: 10px;
  --jp-notebook-select-background: var(--nord1);
  --jp-notebook-multiselected-color: rgba(129, 161, 193, 0.24);
  --jp-notebook-scroll-padding: calc(
    100% - var(--jp-code-font-size) * var(--jp-code-line-height) -
      var(--jp-code-padding) - var(--jp-cell-padding) - 1px
  );

  /* Rendermime styles */
  --jp-rendermime-error-background: rgba(191, 97, 106, 0.28);
  --jp-rendermime-table-row-background: var(--nord1);
  --jp-rendermime-table-row-hover-background: rgba(136, 192, 208, 0.2);

  /* Dialog specific styles */
  --jp-dialog-background: rgba(46, 52, 64, 0.6);

  /* Console specific styles */
  --jp-console-padding: 10px;

  /* Toolbar specific styles */
  --jp-toolbar-border-color: var(--nord2);
  --jp-toolbar-micro-height: 8px;
  --jp-toolbar-background: var(--nord1);
  --jp-toolbar-box-shadow: 0 0 2px 0 rgba(0, 0, 0, 0.8);
  --jp-toolbar-header-margin: 4px 4px 0 4px;
  --jp-toolbar-active-background: var(--nord0);
  
  /* Private tab and toolbar heights */
  --jp-private-maintabbar-height: 32px;
  --jp-private-horizontal-tab-height: 24px;
  --jp-private-horizontal-tab-width: 216px;
  --jp-private-toolbar-height: 28px;

  /* Statusbar specific styles */
  --jp-statusbar-height: 24px;

  /* Input field styles */
  --jp-input-box-shadow: inset 0 0 2px var(--nord8);
  --jp-input-active-background: var(--nord0);
  --jp-input-hover-background: var(--nord2);
  --jp-input-background: var(--nord2);
  --jp-input-border-color: var(--jp-inverse-border-color);
  --jp-input-active-border-color: var(--nord9);
  --jp-input-active-box-shadow-color: rgba(136, 192, 208, 0.3);

  /* General editor styles */
  --jp-editor-selected-background: var(--nord2);
  --jp-editor-selected-focused-background: rgba(129, 161, 193, 0.24);
  --jp-editor-cursor-color: var(--nord6);

  /* Code mirror specific styles - using Nord colors for syntax highlighting */
  --jp-mirror-editor-keyword-color: var(--nord9);
  --jp-mirror-editor-atom-color: var(--nord8);
  --jp-mirror-editor-number-color: var(--nord15);
  --jp-mirror-editor-def-color: var(--nord8);
  --jp-mirror-editor-variable-color: var(--nord4);
  --jp-mirror-editor-variable-2-color: var(--nord7);
  --jp-mirror-editor-variable-3-color: var(--nord14);
  --jp-mirror-editor-punctuation-color: var(--nord6);
  --jp-mirror-editor-property-color: var(--nord8);
  --jp-mirror-editor-operator-color: var(--nord9);
  --jp-mirror-editor-comment-color: var(--nord3);
  --jp-mirror-editor-string-color: var(--nord14);
  --jp-mirror-editor-string-2-color: var(--nord15);
  --jp-mirror-editor-meta-color: var(--nord15);
  --jp-mirror-editor-qualifier-color: var(--nord3);
  --jp-mirror-editor-builtin-color: var(--nord9);
  --jp-mirror-editor-bracket-color: var(--nord3);
  --jp-mirror-editor-tag-color: var(--nord11);
  --jp-mirror-editor-attribute-color: var(--nord12);
  --jp-mirror-editor-header-color: var(--nord8);
  --jp-mirror-editor-quote-color: var(--nord14);
  --jp-mirror-editor-link-color: var(--nord8);
  --jp-mirror-editor-error-color: var(--nord11);
  --jp-mirror-editor-hr-color: var(--nord3);

  /* RTC user specific colors - using Nord colors */
  --jp-collaborator-color1: var(--nord12);
  --jp-collaborator-color2: var(--nord13);
  --jp-collaborator-color3: var(--nord14);
  --jp-collaborator-color4: var(--nord7);
  --jp-collaborator-color5: var(--nord8);
  --jp-collaborator-color6: var(--nord15);
  --jp-collaborator-color7: var(--nord11);

  /* Vega extension styles */
  --jp-vega-background: var(--nord4);

  /* Sidebar-related styles */
  --jp-sidebar-min-width: 250px;

  /* Search-related styles */
  --jp-search-toggle-off-opacity: 0.6;
  --jp-search-toggle-hover-opacity: 0.8;
  --jp-search-toggle-on-opacity: 1;
  --jp-search-selected-match-background-color: var(--nord13);
  --jp-search-selected-match-color: var(--nord0);
  --jp-search-unselected-match-background-color: var(--nord6);
  --jp-search-unselected-match-color: var(--nord0);

  /* Scrollbar related styles */
  --jp-scrollbar-background-color: var(--nord1);
  --jp-scrollbar-thumb-color: 76, 86, 106;
  --jp-scrollbar-endpad: 3px;
  --jp-scrollbar-thumb-margin: 3.5px;
  --jp-scrollbar-thumb-radius: 9px;

  /* Icon colors - using Nord colors */
  --jp-icon-contrast-color0: var(--nord15);
  --jp-icon-contrast-color1: var(--nord14);
  --jp-icon-contrast-color2: var(--nord11);
  --jp-icon-contrast-color3: var(--nord8);

  /* Button colors */
  --jp-accept-color-normal: var(--nord10);
  --jp-accept-color-hover: var(--nord9);
  --jp-accept-color-active: var(--nord8);
  --jp-warn-color-normal: var(--nord11);
  --jp-warn-color-hover: var(--nord11);
  --jp-warn-color-active: var(--nord11);
  --jp-reject-color-normal: var(--nord3);
  --jp-reject-color-hover: var(--nord2);
  --jp-reject-color-active: var(--nord1);

  /* File or activity icons and switch semantic variables */
  --jp-jupyter-icon-color: var(--nord12);
  --jp-notebook-icon-color: var(--nord12);
  --jp-json-icon-color: var(--nord13);
  --jp-console-icon-background-color: var(--nord9);
  --jp-console-icon-color: var(--nord6);
  --jp-terminal-icon-background-color: var(--nord5);
  --jp-terminal-icon-color: var(--nord2);
  --jp-text-editor-icon-color: var(--nord5);
  --jp-inspector-icon-color: var(--nord5);
  --jp-switch-color: var(--nord4);
  --jp-switch-true-position-color: var(--nord13);
}

/* Completer specific styles */
.jp-Completer {
  --jp-completer-type-background0: transparent;
  --jp-completer-type-background1: var(--nord8);
  --jp-completer-type-background2: var(--nord12);
  --jp-completer-type-background3: var(--nord14);
  --jp-completer-type-background4: var(--nord11);
  --jp-completer-type-background5: var(--nord15);
  --jp-completer-type-background6: var(--nord3);
  --jp-completer-type-background7: var(--nord11);
  --jp-completer-type-background8: var(--nord3);
  --jp-completer-type-background9: var(--nord13);
  --jp-completer-type-background10: var(--nord7);
}

/* Set the default typography for monospace elements */
.jp-ThemedContainer tt,
.jp-ThemedContainer code,
.jp-ThemedContainer kbd,
.jp-ThemedContainer samp,
.jp-ThemedContainer pre {
  font-family: var(--jp-code-font-family);
  font-size: var(--jp-code-font-size);
  line-height: var(--jp-code-line-height);
}

/* fix illegible yellow background in exception stacktrace */
:where(
    .jp-RenderedText[data-mime-type='application/vnd.jupyter.stderr']
      pre
      .ansi-yellow-bg
  ) {
  color: var(--nord0);
}