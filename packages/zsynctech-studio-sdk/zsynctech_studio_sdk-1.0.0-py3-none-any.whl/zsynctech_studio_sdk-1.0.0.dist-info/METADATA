Metadata-Version: 2.4
Name: zsynctech-studio-sdk
Version: 1.0.0
Summary: SDK Para intera√ß√£o de automa√ß√µes com a plataforma de monitoramento.
Author-email: ZSync Tech LTDA <contato@zsynctech.com>
Requires-Python: >=3.13
Requires-Dist: httpx>=0.28.1
Requires-Dist: pika>=1.3.2
Requires-Dist: pydantic>=2.11.7
Requires-Dist: rich>=14.1.0
Requires-Dist: uuid7>=0.1.0
Description-Content-Type: text/markdown

# ZSync Tech Studio SDK

SDK oficial da ZSync Tech para integra√ß√£o com o ZSync Tech Studio, uma plataforma de automa√ß√£o de processos. Este SDK permite que voc√™ desenvolva rob√¥s de automa√ß√£o que se integram perfeitamente com o ecossistema ZSync Tech.

## üìã √çndice

- [Instala√ß√£o](#instala√ß√£o)
- [Configura√ß√£o Inicial](#configura√ß√£o-inicial)
- [Conceitos B√°sicos](#conceitos-b√°sicos)
- [Guia de Uso](#guia-de-uso)
  - [StartService - Recebendo Configura√ß√µes](#startservice---recebendo-configura√ß√µes)
  - [Execution - Gerenciando Execu√ß√µes](#execution---gerenciando-execu√ß√µes)
  - [Task - Gerenciando Tarefas](#task---gerenciando-tarefas)
  - [Step - Gerenciando Passos](#step---gerenciando-passos)
- [Exemplo Completo](#exemplo-completo)
- [API Reference](#api-reference)
- [Depend√™ncias](#depend√™ncias)
- [Suporte](#suporte)

## üöÄ Instala√ß√£o via pip

```bash
pip install zsynctech-studio-sdk
```

## üöÄ Instala√ß√£o via uv

```bash
uv add zsynctech-studio-sdk
```

## ‚öôÔ∏è Configura√ß√£o Inicial

Antes de usar o SDK, voc√™ precisa configurar suas credenciais:

```python
from zsynctech_studio_sdk import set_credentials

# Configure suas credenciais
set_credentials(
    secret_key="sua_secret_key",
    instance_id="seu_instance_id", 
    server="https://seu-servidor.com"
)
```

## üß† Conceitos B√°sicos

O ZSync Tech Studio SDK trabalha com uma hierarquia de conceitos:

1. **Execution (Execu√ß√£o)**: Representa uma execu√ß√£o completa de um rob√¥
2. **Task (Tarefa)**: Uma tarefa espec√≠fica dentro de uma execu√ß√£o
3. **Step (Passo)**: Um passo individual dentro de uma tarefa

Cada n√≠vel pode ter diferentes status e observa√ß√µes para rastreamento detalhado.

## üìñ Guia de Uso

### StartService - Recebendo Configura√ß√µes

O `StartService` permite que seu rob√¥ receba configura√ß√µes via RabbitMQ:

```python
from zsynctech_studio_sdk import StartService

# Configure o servi√ßo
start_service = StartService(
    rabbitmq_url="amqp://usuario:senha@servidor:5672/",
    heartbeat=5400
)

# Verificar se h√° configura√ß√µes dispon√≠veis
config = start_service.get_start_config()
if config:
    print(f"Execu√ß√£o recebida: {config.executionId}")
    # Processar a configura√ß√£o...

# Ou usar um listener cont√≠nuo
def process_config(config):
    print(f"Processando execu√ß√£o: {config.executionId}")
    # Sua l√≥gica aqui...

start_service.start_listener(process_config)
```

### Execution - Gerenciando Execu√ß√µes

A classe `Execution` gerencia o ciclo de vida de uma execu√ß√£o:

```python
from zsynctech_studio_sdk import Execution, ExecutionStatus

# Criar uma execu√ß√£o
execution = Execution(config.executionId)

# Iniciar a execu√ß√£o
execution.start("Iniciando processamento...")

# Atualizar progresso
execution.set_total_task_count(100)
execution.update_current_task_count(50)

# Atualizar observa√ß√£o
execution.update_observation("Processando dados...")

# Finalizar com sucesso
execution.finished("Processamento conclu√≠do com sucesso!")

# Ou em caso de erro
execution.error("Erro ao processar dados")
```

### Task - Gerenciando Tarefas

A classe `Task` gerencia tarefas individuais:

```python
from zsynctech_studio_sdk import Task

# Criar uma tarefa
task = Task(
    execution_id=execution.execution_id,
    code="TASK_001",
    description="Processar arquivo de dados"
)

# Usar como context manager (recomendado)
with task:
    # Sua l√≥gica aqui
    process_file()
    # Status ser√° automaticamente SUCCESS ou FAIL

# Ou gerenciar manualmente
task.start("Iniciando processamento do arquivo")
try:
    process_file()
    task.success("Arquivo processado com sucesso")
except Exception as e:
    task.fail(f"Erro ao processar arquivo: {str(e)}")
```

### Step - Gerenciando Passos

A classe `Step` gerencia passos individuais dentro de uma tarefa:

```python
from zsynctech_studio_sdk import Step

# Criar um passo
step = Step(
    task_id=task.task_id,
    code="STEP_001",
    observation="Validando dados"
)

# Usar como context manager (recomendado)
with step:
    # Sua l√≥gica aqui
    validate_data()
    # Status ser√° automaticamente SUCCESS ou FAIL

# Ou gerenciar manualmente
step._start("Iniciando valida√ß√£o")
try:
    validate_data()
    step.success("Dados validados com sucesso")
except Exception as e:
    step.fail(f"Erro na valida√ß√£o: {str(e)}")
```

## üí° Exemplo Completo

```python
from zsynctech_studio_sdk import (
    set_credentials, StartService, Execution, Task, Step
)

# 1. Configurar credenciais
set_credentials(
    secret_key="sua_secret_key",
    instance_id="seu_instance_id",
    server="https://seu-servidor.com"
)

# 2. Configurar StartService
start_service = StartService("amqp://usuario:senha@servidor:5672/")

def process_automation(config):
    """Fun√ß√£o principal de processamento"""
    
    # 3. Criar execu√ß√£o
    execution = Execution(config.executionId)
    execution.start("Iniciando automa√ß√£o")
    
    try:
        # 4. Definir total de tarefas
        execution.set_total_task_count(3)
        
        # 5. Processar cada tarefa
        for i, data in enumerate(data_to_process):
            with Task(execution.execution_id, f"TASK_{i:03d}", f"Processar {data}") as task:
                
                # 6. Processar passos da tarefa
                with Step(task.task_id, "VALIDATE", "Validando arquivo") as step:
                    validate_file(data)
                
                with Step(task.task_id, "PROCESS", "Processando dados") as step:
                    process_file(data)
                
                with Step(task.task_id, "SAVE", "Salvando resultado") as step:
                    save_result(data)
                
                # 7. Atualizar progresso
                execution.update_current_task_count(i)
        
        # 8. Finalizar com sucesso
        execution.finished("Automa√ß√£o conclu√≠da com sucesso!")
        
    except Exception as e:
        execution.error(f"Erro na automa√ß√£o: {str(e)}")

# 9. Iniciar listener
start_service.start_listener(process_automation)
```

## üìö API Reference

### StartService

- `__init__(rabbitmq_url: str, heartbeat: int = 5400)`: Inicializa o servi√ßo
- `get_start_config() -> Optional[Config]`: Obt√©m configura√ß√£o dispon√≠vel
- `start_listener(callback: Callable)`: Inicia listener cont√≠nuo
- `close()`: Fecha conex√£o

### Execution

- `start(observation: Optional[str] = None)`: Inicia execu√ß√£o
- `finished(observation: Optional[str] = None)`: Finaliza com sucesso
- `error(observation: Optional[str] = None)`: Marca como erro
- `waiting(observation: Optional[str] = None)`: Marca como aguardando
- `set_total_task_count(count: int)`: Define total de tarefas
- `update_current_task_count(count: int)`: Atualiza progresso
- `update_observation(observation: str)`: Atualiza observa√ß√£o

### Task

- `start(observation: Optional[str] = None)`: Inicia tarefa
- `success(observation: Optional[str] = None)`: Marca como sucesso
- `fail(observation: Optional[str] = None)`: Marca como falha
- Suporte a context manager (`with`)

### Step

- `_start(observation: Optional[str] = None)`: Inicia passo
- `success(observation: Optional[str] = None)`: Marca como sucesso
- `fail(observation: Optional[str] = None)`: Marca como falha
- Suporte a context manager (`with`)

## üì¶ Depend√™ncias

- `httpx>=0.28.1` - Cliente HTTP
- `pika>=1.3.2` - Cliente RabbitMQ
- `pydantic>=2.11.7` - Valida√ß√£o de dados
- `rich>=14.1.0` - Interface rica
- `uuid7>=0.1.0` - Gera√ß√£o de UUIDs

## üÜò Suporte

Para suporte t√©cnico, entre em contato:

- **Email**: contato@zsynctech.com
- **Empresa**: ZSync Tech LTDA

---

**Vers√£o**: 0.1.0  
**Python**: >=3.13
