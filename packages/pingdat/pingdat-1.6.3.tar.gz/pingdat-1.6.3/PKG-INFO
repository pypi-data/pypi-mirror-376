Metadata-Version: 2.4
Name: pingdat
Version: 1.6.3
Summary: A simple ping exporter for Prometheus metrics.
Author-email: jheddings <jheddings@gmail.com>
License-Expression: MIT
License-File: LICENSE
Requires-Python: <4,>=3.10
Requires-Dist: click<9,>=8.2.1
Requires-Dist: ping3<6,>=5.1.5
Requires-Dist: prometheus-client<0.23,>=0.22.1
Requires-Dist: pydantic<3,>=2.11.7
Requires-Dist: pyyaml<7,>=6.0.2
Requires-Dist: requests<3,>=2.32.5
Description-Content-Type: text/markdown

# pingdat #

[![PyPI](https://img.shields.io/pypi/v/pingdat.svg)](https://pypi.org/project/pingdat)
[![LICENSE](https://img.shields.io/github/license/jheddings/pingdat)](LICENSE)
[![Style](https://img.shields.io/badge/style-black-black)](https://github.com/ambv/black)

A Prometheus exporter for ping statistics.

## Installation ##

Install the published package using pip:

```shell
pip3 install pingdat
```

This project uses `uv` to manage dependencies and a local virtual environment.  To
get started, clone the repository and install the dependencies with the following:

```shell
uv sync
```

### Grafana Dashboard ###

A Grafana dashboard is available as #(17922)[https://grafana.com/grafana/dashboards/17922].

## Usage ##

Run the module and tell it which config file to use.

```shell
python3 -m pingdat --config pingdat.yaml
```

If you are using `uv` to manage the virtual environment, use the following:

```shell
uv run pingdat --config pingdat.yaml
```

### Docker ###

`pingdat` is available as a published Docker image.  To run, use the latest version:
from Docker Hub:

```shell
docker container run --rm --publish 9056:9056 "jheddings/pingdat:latest"
```

The configuration file is read from `/opt/pingdat/pingdat.yaml` and may be changed
with arguments to the container:

```shell
docker container run --rm --tty --publish 9056:9056 \
  --volume "/path/to/host/config:/etc/pingdat" \
  "jheddings/pingdat:latest" --config /etc/pingdat/pingdat.yaml
```

## Docker Compose ##

A sample configuration is also provided for using `docker compose`.  Similar to using
Docker directly, the configuration file can be provided on the host side.  Then,
simply start the cluster normally:

```shell
docker compose up
```

Or detached as a background process:

```shell
docker compose up --detach
```

## Configuration ##

For now, review the sample `pingdat.yaml` config file for a description of supported
configuration options.
