<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="3364px" preserveAspectRatio="none" style="width:1988px;height:3364px;background:#FFFFFF;" version="1.1" viewBox="0 0 1988 3364" width="1988px" zoomAndPan="magnify"><defs/><g><!--MD5=[d39d75d20503768f828654fc47e3a2bb]
cluster CLI--><g id="cluster_CLI"><path d="M881.5,372 L1510.5,372 A12.5,12.5 0 0 1 1523,384.5 L1523,398.2969 L869,398.2969 L869,384.5 A12.5,12.5 0 0 1 881.5,372 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="310" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="654" x="869" y="372"/><line style="stroke:#181818;stroke-width:0.5;" x1="869" x2="1523" y1="398.2969" y2="398.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1136.5" y="389.9951">CLI Parsing Stage</text></g><!--MD5=[d0ac3bb48443da74912b05f24c3586b3]
cluster Reservation--><g id="cluster_Reservation"><path d="M455.5,704 L925.5,704 A12.5,12.5 0 0 1 938,716.5 L938,730.2969 L443,730.2969 L443,716.5 A12.5,12.5 0 0 1 455.5,704 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="348" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="495" x="443" y="704"/><line style="stroke:#181818;stroke-width:0.5;" x1="443" x2="938" y1="730.2969" y2="730.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="614.5" y="721.9951">Reserve Device Stage</text></g><!--MD5=[90893be49055836d7fce4a881185a168]
cluster DeployEnv--><g id="cluster_DeployEnv"><path d="M1183.5,1074 L1962.5,1074 A12.5,12.5 0 0 1 1975,1086.5 L1975,1100.2969 L1171,1100.2969 L1171,1086.5 A12.5,12.5 0 0 1 1183.5,1074 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="614" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="804" x="1171" y="1074"/><line style="stroke:#008000;stroke-width:2.0;" x1="1171" x2="1975" y1="1100.2969" y2="1100.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="1494.5" y="1091.9951">Env Deployment Stage</text></g><!--MD5=[95d8d1c609991844aa1090be3bf0a985]
cluster EnvSetup--><g id="cluster_EnvSetup"><path d="M19.5,1562 L1013.5,1562 A12.5,12.5 0 0 1 1026,1574.5 L1026,1588.2969 L7,1588.2969 L7,1574.5 A12.5,12.5 0 0 1 19.5,1562 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="1660" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="1019" x="7" y="1562"/><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="1026" y1="1588.2969" y2="1588.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="459.5" y="1579.9951">Env Setup Stage</text></g><!--MD5=[633ffaaa6b466dbc1261450af05c0616]
cluster Booting--><g id="cluster_Booting"><path d="M175.5,2108.5 L707.5,2108.5 A12.5,12.5 0 0 1 720,2121 L720,2134.7969 L163,2134.7969 L163,2121 A12.5,12.5 0 0 1 175.5,2108.5 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="1089.5" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="557" x="163" y="2108.5"/><line style="stroke:#008000;stroke-width:2.0;" x1="163" x2="720" y1="2134.7969" y2="2134.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="393" y="2126.4951">Booting stage</text></g><!--MD5=[2ce57b441d02f115157b8d56bc5b11fa]
cluster ReleaseEnv--><g id="cluster_ReleaseEnv"><path d="M1254.5,2194.5 L1824.5,2194.5 A12.5,12.5 0 0 1 1837,2207 L1837,2220.7969 L1242,2220.7969 L1242,2207 A12.5,12.5 0 0 1 1254.5,2194.5 " fill="#F1F1F1" style="stroke:#F1F1F1;stroke-width:1.0;"/><rect fill="none" height="352.5" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="595" x="1242" y="2194.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1242" x2="1837" y1="2220.7969" y2="2220.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129" x="1475" y="2212.4951">Release Env Stage</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1171.5" y="350.6982">entry</text><ellipse cx="1189" cy="372" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="857" y="509.1982">exit</text><ellipse cx="869" cy="530.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="873.3891" x2="865.6109" y1="534.8891" y2="527.1109"/><line style="stroke:#181818;stroke-width:1.5;" x1="873.3891" x2="865.6109" y1="527.1109" y2="534.8891"/><g id="CLI.AddCLIArgsHook"><rect fill="#D8F3FA" height="52.5938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="1276.5" y="413"/><line style="stroke:#181818;stroke-width:0.5;" x1="1276.5" x2="1507.5" y1="439.2969" y2="439.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1335" y="430.9951">AddCLIArgsHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="1281.5" y="457.292">boardfarm_add_cmdline_args()</text></g><g id="CLI.ParseCLIArgsHook"><rect fill="#D8F3FA" height="52.5938" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="207" x="1299.5" y="604"/><line style="stroke:#008000;stroke-width:2.0;" x1="1299.5" x2="1506.5" y1="630.2969" y2="630.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="1340" y="621.9951">ParseCLIArgsHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187" x="1304.5" y="648.292">boardfarm_cmdline_parse()</text></g><g id="elem_GMN15"><path d="M891.5,595 L891.5,665.5313 A0,0 0 0 0 891.5,665.5313 L1264.5,665.5313 A0,0 0 0 0 1264.5,665.5313 L1264.5,634.5 L1299.49,630.5 L1264.5,626.5 L1264.5,605 L1254.5,595 L891.5,595 A0,0 0 0 0 891.5,595 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1254.5,595 L1254.5,605 L1264.5,605 L1254.5,595 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="897.5" y="612.0669">Replace arg</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="92" x="976.5" y="612.0669">bfconfig_file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="1072.5" y="612.0669">with</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1101.5" y="612.0669">inventory_file</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="897.5" y="627.1997">Add arg</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="951.5" y="627.1997">deployment_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="897.5" y="642.3325">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="128" x="897.5" y="657.4653">deployment_type</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1029.5" y="657.4653">can be</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="41" x="1076.5" y="657.4653">static</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1117.5" y="657.4653">/</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="62" x="1121.5" y="657.4653">dynamic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1183.5" y="657.4653">/</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="62" x="1187.5" y="657.4653">discover</text></g><g id="elem_reservechoice"><polygon fill="#F1F1F1" points="532,875,544,887,532,899,520,887,532,875" style="stroke:#181818;stroke-width:0.5;"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="679.5" y="682.6982">entry</text><ellipse cx="697" cy="704" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="926" y="815.1982">exit</text><ellipse cx="938" cy="836.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="942.3891" x2="934.6109" y1="840.8891" y2="833.1109"/><line style="stroke:#181818;stroke-width:1.5;" x1="942.3891" x2="934.6109" y1="833.1109" y2="840.8891"/><g id="Reservation.ReserveDeviceHook"><rect fill="#D8F3FA" height="52.5938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="219" x="461.5" y="745"/><line style="stroke:#181818;stroke-width:0.5;" x1="461.5" x2="680.5" y1="771.2969" y2="771.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="501" y="762.9951">ReserveDeviceHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="466.5" y="789.292">boardfarm_reserve_devices()</text></g><g id="Reservation.LockableResource"><rect fill="#F1F1F1" height="52.5938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="148" x="459" y="983"/><line style="stroke:#181818;stroke-width:0.5;" x1="459" x2="607" y1="1009.2969" y2="1009.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="469" y="1000.9951">LockableResource</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="464" y="1027.292">return board ID</text></g><g id="Reservation.CLIArgs"><rect fill="#F1F1F1" height="52.5938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="195" x="639.5" y="983"/><line style="stroke:#181818;stroke-width:0.5;" x1="639.5" x2="834.5" y1="1009.2969" y2="1009.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="711.5" y="1000.9951">CLIArgs</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="644.5" y="1027.292">pick board-name from CLI</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1171.5" y="1052.6982">entry</text><ellipse cx="1189" cy="1074" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="1177" y="1215.6982">exit</text><ellipse cx="1189" cy="1237" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="1193.3891" x2="1185.6109" y1="1241.3891" y2="1233.6109"/><line style="stroke:#181818;stroke-width:1.5;" x1="1193.3891" x2="1185.6109" y1="1233.6109" y2="1241.3891"/><g id="elem_deploy_choice_1"><polygon fill="#F1F1F1" points="1580,1288.5,1592,1300.5,1580,1312.5,1568,1300.5,1580,1288.5" style="stroke:#181818;stroke-width:0.5;"/></g><g id="DeployEnv.DeployEnvHook"><rect fill="#D8F3FA" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="250" x="1211" y="1115.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1211" x2="1461" y1="1141.7969" y2="1141.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="1281.5" y="1133.4951">DeployEnvHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="1216" y="1159.792">boardfarm_deploy_env()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="1216" y="1176.0889">Parses the INV and ENV to deploy</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1216" y="1192.3857">containers</text></g><rect fill="#F1F1F1" height="40" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109" x="1525.5" y="1138"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="1530.5" y="1162.8467">ParsePartialInv</text><g id="elem_GMN51"><path d="M1668.5,1115 L1668.5,1154 L1634.84,1158 L1668.5,1162 L1668.5,1200.6641 A0,0 0 0 0 1668.5,1200.6641 L1959.5,1200.6641 A0,0 0 0 0 1959.5,1200.6641 L1959.5,1125 L1949.5,1115 L1668.5,1115 A0,0 0 0 0 1668.5,1115 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1949.5,1115 L1949.5,1125 L1959.5,1125 L1949.5,1115 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="1674.5" y="1132.0669">Parsing partial INV.json will not be a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1674.5" y="1147.1997">separate hook spec of core.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1674.5" y="1162.3325">The plugin for docker factory shall handle</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1674.5" y="1177.4653">the parsing internally by implementing the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="1674.5" y="1192.5981">boardfarm_deploy_env_hook</text></g><g id="elem_GMN54"><path d="M1626,1273 L1626,1296.5 L1592.01,1300.5 L1626,1304.5 L1626,1328.3984 A0,0 0 0 0 1626,1328.3984 L1944,1328.3984 A0,0 0 0 0 1944,1328.3984 L1944,1283 L1934,1273 L1626,1273 A0,0 0 0 0 1626,1273 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1934,1273 L1934,1283 L1944,1283 L1934,1273 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253" x="1632" y="1290.0669">if deployment_type is discover it means</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="290" x="1632" y="1305.1997">that we want to regenerate the final INV.JSON</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="1632" y="1320.3325">based on the partial INV JSON provided earlier.</text></g><g id="DeployEnv.DeployEnvDevices"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="1340.5" y="1457"/><line style="stroke:#181818;stroke-width:0.5;" x1="1340.5" x2="1585.5" y1="1483.2969" y2="1483.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="1399" y="1474.9951">DeployEnvDevices</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225" x="1345.5" y="1501.292">boardfarm_deploy_env_devices()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="194" x="1345.5" y="1517.5889">Interacts with docker factory</text></g><g id="DeployEnv.GenerateDeployedInv"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="240" x="1445" y="1603"/><line style="stroke:#181818;stroke-width:0.5;" x1="1445" x2="1685" y1="1629.2969" y2="1629.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="1490" y="1620.9951">GenerateDeployedInv</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="1450" y="1647.292">boardfarm_generate_inventory()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="1450" y="1663.5889">should provide the final INV.json</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="881.5" y="1540.6982">entry</text><ellipse cx="899" cy="1562" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="1014" y="1689.1982">exit</text><ellipse cx="1026" cy="1710.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="1030.3891" x2="1022.6109" y1="1714.8891" y2="1707.1109"/><line style="stroke:#181818;stroke-width:1.5;" x1="1030.3891" x2="1022.6109" y1="1707.1109" y2="1714.8891"/><g id="elem_skip_choice"><polygon fill="#F1F1F1" points="420,1932.5,432,1944.5,420,1956.5,408,1944.5,420,1932.5" style="stroke:#181818;stroke-width:0.5;"/></g><g id="EnvSetup.RegisterHook"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="293" x="385.5" y="1603"/><line style="stroke:#008000;stroke-width:2.0;" x1="385.5" x2="678.5" y1="1629.2969" y2="1629.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="485" y="1620.9951">RegisterHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="200" x="390.5" y="1647.292">boardfarm_register_devices()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273" x="390.5" y="1663.5889">Should be a Core hook not device hook</text></g><g id="EnvSetup.AddDeviceHook"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="291" x="713.5" y="1603"/><line style="stroke:#008000;stroke-width:2.0;" x1="713.5" x2="1004.5" y1="1629.2969" y2="1629.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="804" y="1620.9951">AddDeviceHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="173" x="718.5" y="1647.292">boardfarm_add_devices()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="271" x="718.5" y="1663.5889">Should be a core hook not device hook</text></g><g id="EnvSetup.SetupEnvHook"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="236" x="390" y="1749"/><line style="stroke:#008000;stroke-width:2.0;" x1="390" x2="626" y1="1775.2969" y2="1775.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="457" y="1766.9951">SetupEnvHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159" x="395" y="1793.292">boardfarm_setup_env()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="216" x="395" y="1809.5889">Calling all device booting hooks</text></g><g id="EnvSetup.SkipBootHook"><rect fill="#FEC772" height="85.1875" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="405" x="598.5" y="1902"/><line style="stroke:#008000;stroke-width:2.0;" x1="598.5" x2="1003.5" y1="1928.2969" y2="1928.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="752" y="1919.9951">SkipBootHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="603.5" y="1946.292">boardfarm_skip_boot()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179" x="603.5" y="1962.5889">In case there are activities</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="385" x="603.5" y="1978.8857">needed to be performed before handling out the device</text></g><g id="elem_GMN76"><path d="M23,1610 L23,1665.3984 A0,0 0 0 0 23,1665.3984 L351,1665.3984 A0,0 0 0 0 351,1665.3984 L351,1641.5 L385.35,1637.5 L351,1633.5 L351,1620 L341,1610 L23,1610 A0,0 0 0 0 23,1610 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M341,1610 L341,1620 L351,1620 L341,1610 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="29" y="1627.0669">Moved this up.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="29" y="1642.1997">Since registering devices is a core activity.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="29" y="1657.3325">And should happen first before intiating booting.</text></g><g id="elem_GMN79"><path d="M47,1763.5 L47,1803.7656 A0,0 0 0 0 47,1803.7656 L355,1803.7656 A0,0 0 0 0 355,1803.7656 L355,1787.5 L389.74,1783.5 L355,1779.5 L355,1773.5 L345,1763.5 L47,1763.5 A0,0 0 0 0 47,1763.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M345,1763.5 L345,1773.5 L355,1773.5 L345,1763.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="53" y="1780.5669">Renamed it to SetupEnvHook</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287" x="53" y="1795.6997">It does not deploy but calls all booting hooks.</text></g><g id="elem_GMN109"><path d="M23,2023.5 L23,2063.7656 L387,2063.7656 L387,2033.5 L377,2023.5 L23,2023.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M377,2023.5 L377,2033.5 L387,2033.5 L377,2023.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="343" x="29" y="2040.5669">The Booting stage must be a simple call to all booting</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="307" x="29" y="2055.6997">hook implementations implemented by devices.</text></g><g id="EnvSetup.PostEnvSetupHook"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="251" x="750.5" y="2462"/><line style="stroke:#181818;stroke-width:0.5;" x1="750.5" x2="1001.5" y1="2488.2969" y2="2488.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133" x="809.5" y="2479.9951">PostEnvSetupHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="755.5" y="2506.292">boardfarm_post_deploy_devices()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="755.5" y="2522.5889">Disconnect disposable services</text></g><g id="elem_GMN113"><path d="M750,2660 L750,2685.1328 A0,0 0 0 0 750,2685.1328 L1004,2685.1328 A0,0 0 0 0 1004,2685.1328 L1004,2670 L994,2660 L880.93,2660 L876.19,2531.05 L872.93,2660 L750,2660 A0,0 0 0 0 750,2660 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M994,2660 L994,2670 L1004,2670 L994,2660 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="756" y="2677.0669">Renamed now to PostEnvSetupHook</text></g><g id="EnvSetup.Booting.ValidateDeviceHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#008000;stroke-width:2.0;" width="234" x="214" y="2160"/><line style="stroke:#008000;stroke-width:2.0;" x1="214" x2="448" y1="2186.2969" y2="2186.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="262.5" y="2177.9951">ValidateDeviceHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="219" y="2204.292">validate_device_requirements()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="219" y="2220.5889">Validate against INV.json</text></g><g id="EnvSetup.Booting.ServerBootHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="189" x="235.5" y="2363"/><line style="stroke:#181818;stroke-width:0.5;" x1="235.5" x2="424.5" y1="2389.2969" y2="2389.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="273.5" y="2380.9951">ServerBootHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="169" x="240.5" y="2407.292">boardfarm_server_boot()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="240.5" y="2423.5889">Boot servers</text></g><g id="EnvSetup.Booting.ServerConfigureHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="222" x="216" y="2561"/><line style="stroke:#181818;stroke-width:0.5;" x1="216" x2="438" y1="2587.2969" y2="2587.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="253.5" y="2578.9951">ServerConfigureHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="202" x="221" y="2605.292">boardfarm_server_configure()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="221" y="2621.5889">Configure servers</text></g><g id="EnvSetup.Booting.DeviceBootHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="191" x="230.5" y="2715"/><line style="stroke:#181818;stroke-width:0.5;" x1="230.5" x2="421.5" y1="2741.2969" y2="2741.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="268" y="2732.9951">DeviceBootHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="235.5" y="2759.292">boardfarm_device_boot()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="235.5" y="2775.5889">Boot CPE</text></g><g id="EnvSetup.Booting.DeviceConfigureHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="224" x="213" y="2845"/><line style="stroke:#181818;stroke-width:0.5;" x1="213" x2="437" y1="2871.2969" y2="2871.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="250" y="2862.9951">DeviceConfigureHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="218" y="2889.292">boardfarm_device_configure()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="218" y="2905.5889">Configure CPE</text></g><g id="EnvSetup.Booting.AddnDeviceBootHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="259" x="195.5" y="2975"/><line style="stroke:#181818;stroke-width:0.5;" x1="195.5" x2="454.5" y1="3001.2969" y2="3001.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="249" y="2992.9951">AddnDeviceBootHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="239" x="200.5" y="3019.292">boardfarm_attached_device_boot()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="200.5" y="3035.5889">Boot Extras</text></g><g id="EnvSetup.Booting.AddnDeviceConfigureHook"><rect fill="#FEC772" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="292" x="195" y="3105"/><line style="stroke:#181818;stroke-width:0.5;" x1="195" x2="487" y1="3131.2969" y2="3131.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="248" y="3122.9951">AddnDeviceConfigureHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272" x="200" y="3149.292">boardfarm_attached_device_configure()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="200" y="3165.5889">Configure Extras</text></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="439.5" y="2087.1982">entry</text><ellipse cx="457" cy="2108.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="708" y="2277.1982">exit</text><ellipse cx="720" cy="2298.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="724.3891" x2="716.6109" y1="2302.8891" y2="2295.1109"/><line style="stroke:#181818;stroke-width:1.5;" x1="724.3891" x2="716.6109" y1="2295.1109" y2="2302.8891"/><rect fill="#F1F1F1" height="40" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="95" x="534.5" y="2377.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="539.5" y="2402.3467">SetupServer</text><rect fill="#F1F1F1" height="40" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="531.5" y="2729.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="536.5" y="2754.3467">BootCPE</text><rect fill="#F1F1F1" height="40" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="126" x="564" y="2989.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="569" y="3014.3467">BootAddnDevice</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="1248.5" y="2173.1982">entry</text><ellipse cx="1266" cy="2194.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="1230" y="2416.4951">exit</text><ellipse cx="1242" cy="2397.5" fill="#F1F1F1" rx="6" ry="6" style="stroke:#181818;stroke-width:1.5;"/><line style="stroke:#181818;stroke-width:1.5;" x1="1246.3891" x2="1238.6109" y1="2401.8891" y2="2394.1109"/><line style="stroke:#181818;stroke-width:1.5;" x1="1246.3891" x2="1238.6109" y1="2394.1109" y2="2401.8891"/><g id="ReleaseEnv.DeviceShutdownHook"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="228" x="1264" y="2462"/><line style="stroke:#181818;stroke-width:0.5;" x1="1264" x2="1492" y1="2488.2969" y2="2488.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="1301.5" y="2479.9951">DeviceShutdownHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="208" x="1269" y="2506.292">boardfarm_shutdown_device()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1269" y="2522.5889">Shutdown connections</text></g><g id="ReleaseEnv.ReleaseDeviceHook"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="218" x="1269" y="2264"/><line style="stroke:#181818;stroke-width:0.5;" x1="1269" x2="1487" y1="2290.2969" y2="2290.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="1308.5" y="2281.9951">ReleaseDeviceHook</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="1274" y="2308.292">boardfarm_release_devices()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1274" y="2324.5889">Release all devices</text></g><g id="elem_GMN128"><path d="M1527,2476.5 L1527,2492.5 L1492.18,2496.5 L1527,2500.5 L1527,2516.7656 A0,0 0 0 0 1527,2516.7656 L1821,2516.7656 A0,0 0 0 0 1821,2516.7656 L1821,2486.5 L1811,2476.5 L1527,2476.5 A0,0 0 0 0 1527,2476.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1811,2476.5 L1811,2486.5 L1821,2486.5 L1811,2476.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1533" y="2493.5669">If we have a device shutdown hook.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="1533" y="2508.6997">Shouldn't we have a device powerup hook?</text></g><ellipse cx="1175" cy="16" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#F1F1F1" height="40" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="50" x="1150" y="103"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1159" y="127.8467">Main</text><g id="PluginManager"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="173" x="1009.5" y="220"/><line style="stroke:#181818;stroke-width:0.5;" x1="1009.5" x2="1182.5" y1="246.2969" y2="246.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="1045" y="237.9951">PluginManager</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1014.5" y="264.292">init all BF plugins</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="1014.5" y="280.5889">Reads BF entry-points</text></g><rect fill="#F1F1F1" height="40" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="77" x="1217.5" y="234.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1222.5" y="259.3467">ArgParser</text><ellipse cx="1665" cy="630.5" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="1665.5" cy="631" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="BoardfarmConfigure"><rect fill="#D8F3FA" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="262" x="566" y="496"/><line style="stroke:#181818;stroke-width:0.5;" x1="566" x2="828" y1="522.2969" y2="522.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138" x="628" y="513.9951">BoardfarmConfigure</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="571" y="540.292">boardfarm_configure()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="571" y="556.5889">TBD, adds hook stages to the core</text></g><ellipse cx="423" cy="771.5" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="423.5" cy="772" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="elem_deploy_choice"><polygon fill="#F1F1F1" points="978,929,990,941,978,953,966,941,978,929" style="stroke:#181818;stroke-width:0.5;"/></g><g id="ParseInventory"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="875.5" y="1358"/><line style="stroke:#181818;stroke-width:0.5;" x1="875.5" x2="1080.5" y1="1384.2969" y2="1384.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="927" y="1375.9951">ParseInventory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="880.5" y="1402.292">parse_boardfarm_config()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="880.5" y="1418.5889">Parses INV.json for devices</text></g><ellipse cx="608" cy="1392.5" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="608.5" cy="1393" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><g id="elem_choice_output"><polygon fill="#F1F1F1" points="1083,1848,1095,1860,1083,1872,1071,1860,1083,1848" style="stroke:#181818;stroke-width:0.5;"/></g><g id="Execution"><rect fill="#F1F1F1" height="52.5938" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="244" x="1217" y="2017"/><line style="stroke:#181818;stroke-width:0.5;" x1="1217" x2="1461" y1="2043.2969" y2="2043.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="68" x="1305" y="2034.9951">Execution</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224" x="1222" y="2061.292">Can be tests or interact session.</text></g><ellipse cx="1180" cy="2595.5" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="1180.5" cy="2596" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[743761f828eeadc8c3ff83be990b5658]
link *start to Main--><g id="link_*start_Main"><path d="M1175,26.32 C1175,42.12 1175,74.65 1175,97.38 " fill="none" id="*start-to-Main" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1175,102.64,1179,93.64,1175,97.64,1171,93.64,1175,102.64" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1176" y="69.0669">start boardfarm</text></g><!--MD5=[6530e5ae41ffa88603919c6be07b6a02]
link Main to PluginManager--><g id="link_Main_PluginManager"><path d="M1163.34,143.11 C1151.75,162.12 1133.64,191.8 1119.12,215.61 " fill="none" id="Main-to-PluginManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1116.45,219.98,1124.5463,214.372,1119.0497,215.709,1117.7127,210.2124,1116.45,219.98" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="1145" y="186.0669">init</text></g><!--MD5=[1e1cffdbda8f5af32880d7f861867952]
link Main to ArgParser--><g id="link_Main_ArgParser"><path d="M1186.95,143.11 C1201.37,166.16 1225.61,204.91 1241.19,229.83 " fill="none" id="Main-to-ArgParser" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1244,234.31,1242.6368,224.5559,1241.3564,230.066,1235.8464,228.7857,1244,234.31" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="19" x="1216" y="186.0669">init</text></g><!--MD5=[86888201fdefd023b2fcc9480d22d093]
link PluginManager to entry_cli_stage--><g id="link_PluginManager_entry_cli_stage"><path d="M1123.15,289.22 C1143.56,314.56 1170.01,347.42 1182.25,362.62 " fill="none" id="PluginManager-to-entry_cli_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1185.57,366.74,1183.0202,357.2269,1182.4257,362.8524,1176.8001,362.2579,1185.57,366.74" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d130919fb3ec04d3341dfd3b4ff4272f]
link ArgParser to entry_cli_stage--><g id="link_ArgParser_entry_cli_stage"><path d="M1244.94,274.57 C1230.4,299.64 1205.42,342.7 1194.44,361.62 " fill="none" id="ArgParser-to-entry_cli_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1191.74,366.28,1199.705,360.487,1194.2407,361.9503,1192.7774,356.4859,1191.74,366.28" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="1219" y="332.0669">passed to</text></g><!--MD5=[bb4ac8230b1fe25846cffcfa28898d02]
link AddCLIArgsHook to ParseCLIArgsHook--><g id="link_AddCLIArgsHook_ParseCLIArgsHook"><path d="M1393.51,466.38 C1395.51,500.88 1399.06,561.84 1401.21,598.68 " fill="none" id="AddCLIArgsHook-to-ParseCLIArgsHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1401.51,603.93,1404.99,594.7165,1401.2248,598.9381,1397.0031,595.1729,1401.51,603.93" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1197768e89a16391ea4e911321bc4510]
link ParseCLIArgsHook to CLIEnd--><g id="link_ParseCLIArgsHook_CLIEnd"><path d="M1506.55,630.5 C1560.99,630.5 1622.06,630.5 1649.81,630.5 " fill="none" id="ParseCLIArgsHook-to-CLIEnd" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1654.9,630.5,1645.9,626.5,1649.9,630.5,1645.9,634.5,1654.9,630.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="1535.75" y="608.5669">if incorrect CLI</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1524.75" y="623.6997">args are provided</text></g><!--MD5=[a96d77a7bc5e3b65a3b1821a6022fc53]
reverse link BoardfarmConfigure to exit_cli_stage--><g id="link_BoardfarmConfigure_exit_cli_stage"><path d="M833.2,530.5 C843.1,530.5 853.01,530.5 862.92,530.5 " fill="none" id="BoardfarmConfigure-backto-exit_cli_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="828.02,530.5,837.02,534.5,833.02,530.5,837.02,526.5,828.02,530.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e090cae977825acb00bc02247fd7e468]
link BoardfarmConfigure to entry_reservation_stage--><g id="link_BoardfarmConfigure_entry_reservation_stage"><path d="M697,565.38 C697,604.97 697,668.17 697,692.75 " fill="none" id="BoardfarmConfigure-to-entry_reservation_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="697,697.89,701,688.89,697,692.89,693,688.89,697,697.89" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9dc6aaa55555aa3dd9c7254c1b663ed5]
link ReserveDeviceHook to reservechoice--><g id="link_ReserveDeviceHook_reservechoice"><path d="M562.15,798.25 C554.21,821.37 542.86,854.39 536.6,872.62 " fill="none" id="ReserveDeviceHook-to-reservechoice" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="534.83,877.77,541.5232,870.545,536.4454,873.0381,533.9522,867.9603,534.83,877.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[c4aed8a80662f0d372d989bed52a6deb]
link reservechoice to LockableResource--><g id="link_reservechoice_LockableResource"><path d="M529.07,896.35 C526.36,904.54 522.52,917.46 521,929 C518.89,945.02 521.14,962.81 524.24,977.5 " fill="none" id="reservechoice-to-LockableResource" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="525.42,982.76,527.3455,973.1012,524.3218,977.8821,519.5409,974.8584,525.42,982.76" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171" x="522" y="945.5669">lockable-resource != None</text></g><!--MD5=[97ef467ea16fe7bdaed76c43812ce719]
link reservechoice to CLIArgs--><g id="link_reservechoice_CLIArgs"><path d="M543.5,887.69 C572.67,887.49 650.62,890.81 698,929 C713.19,941.24 722.9,960.88 728.83,977.57 " fill="none" id="reservechoice-to-CLIArgs" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="730.56,982.64,731.4733,972.8336,728.9617,977.9023,723.893,975.3908,730.56,982.64" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177" x="718" y="945.5669">lockable-resource == None</text></g><!--MD5=[862eeff7a6cabd33b86a4502d1d61214]
reverse link ReserveEnd to reservechoice--><g id="link_ReserveEnd_reservechoice"><path d="M419.4,786.46 C416.21,802.22 413.74,827.89 426,845 C448.63,876.6 499.2,883.85 521.31,885.51 " fill="none" id="ReserveEnd-backto-reservechoice" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="420.49,781.52,414.655,789.4543,419.419,786.4039,422.4693,791.1679,420.49,781.52" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="427" y="841.0669">if both are empty</text></g><!--MD5=[c516de58e8666e5b9ff008fd735852d0]
link exit_reservation_stage to deploy_choice--><g id="link_exit_reservation_stage_deploy_choice"><path d="M939.93,842.44 C945.88,857.69 964.07,904.3 972.98,927.13 " fill="none" id="exit_reservation_stage-to-deploy_choice" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="974.83,931.88,975.2902,922.0419,973.015,927.2211,967.8359,924.9459,974.83,931.88" style="stroke:#008000;stroke-width:1.0;"/></g><!--MD5=[11afb9c2fbaaf22bf290b7a86e735c6f]
link deploy_choice to ParseInventory--><g id="link_deploy_choice_ParseInventory"><path d="M978,953.11 C978,1008.56 978,1256.51 978,1352.95 " fill="none" id="deploy_choice-to-ParseInventory" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="978,1357.98,982,1348.98,978,1352.98,974,1348.98,978,1357.98" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="979" y="1162.5669">if deployment_type == static</text></g><!--MD5=[423c633fcfad2dd8bbd02e02c4b361e6]
link deploy_choice to entry_deploy_stage--><g id="link_deploy_choice_entry_deploy_stage"><path d="M985.02,946.36 C1016.37,965.82 1143.61,1044.82 1179.52,1067.11 " fill="none" id="deploy_choice-to-entry_deploy_stage" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="1184.13,1069.98,1178.5934,1061.8347,1179.882,1067.3428,1174.3739,1068.6315,1184.13,1069.98" style="stroke:#008000;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="1154" y="1014.0669">if deployment_type in [dynamic, discover]</text></g><!--MD5=[e1b5fa46f9e1a7ba64efc2fa38306e00]
link DeployEnvHook to ParsePartialInv--><g id="link_DeployEnvHook_ParsePartialInv"><path d="M1461.22,1158 C1481.86,1158 1502.38,1158 1520.41,1158 " fill="none" id="DeployEnvHook-to-ParsePartialInv" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1525.43,1158,1516.43,1154,1520.43,1158,1516.43,1162,1525.43,1158" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1479.25" y="1151.0669">calls</text></g><!--MD5=[d0c966c767fcb77b8eba1a24e9209569]
link ParsePartialInv to deploy_choice_1--><g id="link_ParsePartialInv_deploy_choice_1"><path d="M1580,1178.24 C1580,1206.03 1580,1256.91 1580,1283.05 " fill="none" id="ParsePartialInv-to-deploy_choice_1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1580,1288.23,1584,1279.23,1580,1283.23,1576,1279.23,1580,1288.23" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0e7a0680ed34d4718cde169eb83ace28]
link deploy_choice_1 to DeployEnvDevices--><g id="link_deploy_choice_1_DeployEnvDevices"><path d="M1569.42,1302.32 C1543.47,1304.97 1476.77,1315.79 1449,1358 C1430.8,1385.68 1437.34,1423.86 1446.64,1452.12 " fill="none" id="deploy_choice_1-to-DeployEnvDevices" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1448.28,1456.93,1449.1578,1447.1203,1446.6646,1452.1981,1441.5868,1449.705,1448.28,1456.93" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="1450" y="1397.0669">if deployment_type == dynamic</text></g><!--MD5=[44e988eb71e0721d2e4515685aeaba27]
link deploy_choice_1 to GenerateDeployedInv--><g id="link_deploy_choice_1_GenerateDeployedInv"><path d="M1585.46,1307.17 C1591.07,1312.81 1600.19,1321.55 1609,1328 C1630.53,1343.76 1647.66,1334.9 1661,1358 C1676.34,1384.56 1667.54,1397.04 1661,1427 C1647.13,1490.55 1612.16,1557.87 1588.48,1598.55 " fill="none" id="deploy_choice_1-to-GenerateDeployedInv" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1585.94,1602.89,1593.9418,1597.1479,1588.4682,1598.5763,1587.0399,1593.1027,1585.94,1602.89" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="1654" y="1496.0669">if deployment_type == discover</text></g><!--MD5=[c01b27d929f1765674bb3685369aecbb]
link DeployEnvDevices to GenerateDeployedInv--><g id="link_DeployEnvDevices_GenerateDeployedInv"><path d="M1486.91,1526.26 C1502.32,1548.02 1522.38,1576.33 1538.31,1598.82 " fill="none" id="DeployEnvDevices-to-GenerateDeployedInv" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1541.24,1602.95,1539.2991,1593.2943,1538.3487,1598.8707,1532.7723,1597.9203,1541.24,1602.95" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d36a27d54e814de000cb128655081cf4]
link exit_deploy_stage to ParseInventory--><g id="link_exit_deploy_stage_ParseInventory"><path d="M1184.59,1241.21 C1164.87,1255.56 1083.27,1314.92 1028.72,1354.6 " fill="none" id="exit_deploy_stage-to-ParseInventory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1024.51,1357.67,1034.1404,1355.6074,1028.5524,1354.7274,1029.4324,1349.1394,1024.51,1357.67" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f125238d130996b84cdc6e4b86c8d645]
reverse link ParseEnd to ParseInventory--><g id="link_ParseEnd_ParseInventory"><path d="M623.51,1392.5 C665.87,1392.5 786.31,1392.5 875.1,1392.5 " fill="none" id="ParseEnd-backto-ParseInventory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="618.28,1392.5,627.28,1396.5,623.28,1392.5,627.28,1388.5,618.28,1392.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="636.25" y="1370.5669">if deployment_type was static, and</text><text fill="#008000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="668.75" y="1385.6997">inventory_file was partial</text></g><!--MD5=[c03680c1c9d9af09389f4458a7cf5a5a]
link ParseInventory to entry_env_stage--><g id="link_ParseInventory_entry_env_stage"><path d="M946.62,1427.3 C939.37,1436.43 932.25,1446.66 927,1457 C910.74,1489.03 903.11,1531.56 900.32,1550.79 " fill="none" id="ParseInventory-to-entry_env_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="899.61,1555.97,904.8088,1547.605,900.2971,1551.0174,896.8847,1546.5057,899.61,1555.97" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="928" y="1496.0669">passes FinalInv.JSON for to booting stage.</text></g><!--MD5=[f66fb7d3f34f0f3ba3c0a7e58e587da1]
link RegisterHook to AddDeviceHook--><g id="link_RegisterHook_AddDeviceHook"><path d="M678.58,1637.5 C688.48,1637.5 698.38,1637.5 708.28,1637.5 " fill="none" id="RegisterHook-to-AddDeviceHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="713.46,1637.5,704.46,1633.5,708.46,1637.5,704.46,1641.5,713.46,1637.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a03230e004ded01660901a0fe2ce3b97]
link RegisterHook to SetupEnvHook--><g id="link_RegisterHook_SetupEnvHook"><path d="M404.64,1672.02 C392.26,1679.97 381.25,1689.82 373,1702 C360.87,1719.91 369.2,1734.45 386.48,1745.99 " fill="none" id="RegisterHook-to-SetupEnvHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="391.06,1748.85,385.5678,1740.6747,386.8264,1746.1897,381.3114,1747.4484,391.06,1748.85" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="374" y="1715.0669">passes device_manager</text></g><!--MD5=[dafb354bddb89787a78094aff01fbbee]
link SetupEnvHook to skip_choice--><g id="link_SetupEnvHook_skip_choice"><path d="M489.34,1818.22 C469.65,1853.79 439.69,1907.92 426.56,1931.65 " fill="none" id="SetupEnvHook-to-skip_choice" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="424.02,1936.24,431.8874,1930.3152,426.4482,1931.8692,424.8942,1926.43,424.02,1936.24" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9780217c3ef4b6305d0565734ff68204]
link skip_choice to SkipBootHook--><g id="link_skip_choice_SkipBootHook"><path d="M432.25,1944.5 C458.69,1944.5 524.31,1944.5 592.99,1944.5 " fill="none" id="skip_choice-to-SkipBootHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="598.36,1944.5,589.36,1940.5,593.36,1944.5,589.36,1948.5,598.36,1944.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="450.25" y="1937.5669">if skip_boot == True</text></g><!--MD5=[926aec4f2e09f4e4cf77cc3d279610f0]
link ValidateDeviceHook to ServerBootHook--><g id="link_ValidateDeviceHook_ServerBootHook"><path d="M330.83,2229.14 C330.66,2264.51 330.38,2320.08 330.19,2357.38 " fill="none" id="ValidateDeviceHook-to-ServerBootHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="330.17,2362.75,334.2214,2353.773,330.1986,2357.7501,326.2215,2353.7273,330.17,2362.75" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8ba783e4ca0c4e6c258b20323f9f8dde]
link ServerBootHook to SetupServer--><g id="link_ServerBootHook_SetupServer"><path d="M424.55,2397.5 C459.93,2397.5 498.85,2397.5 529.14,2397.5 " fill="none" id="ServerBootHook-to-SetupServer" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="534.31,2397.5,525.31,2393.5,529.31,2397.5,525.31,2401.5,534.31,2397.5" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="443" y="2390.5669">internal call</text></g><!--MD5=[7d87d6f495667a063907f3338508d0c9]
link ServerBootHook to ServerConfigureHook--><g id="link_ServerBootHook_ServerConfigureHook"><path d="M329.48,2432.19 C328.96,2466.52 328.15,2519.68 327.59,2555.73 " fill="none" id="ServerBootHook-to-ServerConfigureHook" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="327.51,2560.92,331.6637,2551.9899,327.5957,2555.9207,323.6649,2551.8528,327.51,2560.92" style="stroke:#008000;stroke-width:1.0;"/></g><!--MD5=[37ec2ebb77003c90b18dee21e509df36]
link ServerConfigureHook to DeviceBootHook--><g id="link_ServerConfigureHook_DeviceBootHook"><path d="M326.78,2630.23 C326.62,2653.75 326.42,2685.18 326.26,2709.73 " fill="none" id="ServerConfigureHook-to-DeviceBootHook" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="326.22,2714.86,330.2714,2705.883,326.2486,2709.8601,322.2715,2705.8373,326.22,2714.86" style="stroke:#008000;stroke-width:1.0;"/></g><!--MD5=[bb4698e29cac114f8a9108bebcaca26e]
link DeviceBootHook to BootCPE--><g id="link_DeviceBootHook_BootCPE"><path d="M421.6,2749.5 C457.97,2749.5 497.51,2749.5 526.16,2749.5 " fill="none" id="DeviceBootHook-to-BootCPE" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="531.38,2749.5,522.38,2745.5,526.38,2749.5,522.38,2753.5,531.38,2749.5" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="440" y="2742.5669">internal call</text></g><!--MD5=[63634851376d78902f35365ca00e639e]
link DeviceBootHook to DeviceConfigureHook--><g id="link_DeviceBootHook_DeviceConfigureHook"><path d="M325.74,2784.13 C325.61,2801.05 325.44,2821.65 325.31,2839.28 " fill="none" id="DeviceBootHook-to-DeviceConfigureHook" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="325.26,2844.65,329.3114,2835.673,325.2886,2839.6501,321.3115,2835.6273,325.26,2844.65" style="stroke:#008000;stroke-width:1.0;"/></g><!--MD5=[05b63661ff4e1de62b1bec44b5ee2073]
link DeviceConfigureHook to AddnDeviceBootHook--><g id="link_DeviceConfigureHook_AddnDeviceBootHook"><path d="M325,2914.13 C325,2931.05 325,2951.65 325,2969.28 " fill="none" id="DeviceConfigureHook-to-AddnDeviceBootHook" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="325,2974.65,329,2965.65,325,2969.65,321,2965.65,325,2974.65" style="stroke:#008000;stroke-width:1.0;"/></g><!--MD5=[834063ce656211202f5322f042e05402]
link AddnDeviceBootHook to BootAddnDevice--><g id="link_AddnDeviceBootHook_BootAddnDevice"><path d="M454.83,3009.5 C490.49,3009.5 527.77,3009.5 558.47,3009.5 " fill="none" id="AddnDeviceBootHook-to-BootAddnDevice" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="563.74,3009.5,554.74,3005.5,558.74,3009.5,554.74,3013.5,563.74,3009.5" style="stroke:#008000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="472.75" y="3002.5669">internal call</text></g><!--MD5=[1e91d6ef86b1482fb6c0eb71e655727a]
link AddnDeviceBootHook to AddnDeviceConfigureHook--><g id="link_AddnDeviceBootHook_AddnDeviceConfigureHook"><path d="M329.2,3044.13 C331.32,3061.05 333.89,3081.65 336.1,3099.28 " fill="none" id="AddnDeviceBootHook-to-AddnDeviceConfigureHook" style="stroke:#008000;stroke-width:1.0;"/><polygon fill="#008000" points="336.77,3104.65,339.6061,3095.2183,336.141,3099.6897,331.6696,3096.2247,336.77,3104.65" style="stroke:#008000;stroke-width:1.0;"/></g><!--MD5=[e17943515f724bcaab250caec7f6e4ec]
link skip_choice to entry_boot_stage--><g id="link_skip_choice_entry_boot_stage"><path d="M422.1,1954.67 C428.52,1982.79 447.89,2067.62 454.65,2097.19 " fill="none" id="skip_choice-to-entry_boot_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="455.82,2102.34,457.7125,2092.6747,454.7051,2097.4659,449.9139,2094.4585,455.82,2102.34" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="449" y="2048.0669">if skip_boot == False</text></g><!--MD5=[4e5e8c2defb542b32fb3ff74897b62bd]
link GMN109 to Booting--><g id="link_GMN109_Booting"><path d="M198.51,2063.77 C195.94,2071.845 192.935,2081.8275 190.1363,2092.4538 C189.4366,2095.1103 188.7498,2097.8071 188.0859,2100.5244 C187.7539,2101.883 187.4277,2103.2468 187.1085,2104.6132 C186.9489,2105.2964 186.791,2105.9803 186.635,2106.6645 C186.557,2107.0066 186.4795,2107.3488 186.4025,2107.6911 C186.364,2107.8622 186.3256,2108.0334 186.2874,2108.2045 C186.2682,2108.2901 186.2491,2108.3757 186.2301,2108.4612 " fill="none" id="GMN109-Booting" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/></g><!--MD5=[bae467192a1be992dda23ab7f7a386a7]
link exit_boot_stage to PostEnvSetupHook--><g id="link_exit_boot_stage_PostEnvSetupHook"><path d="M723.26,2303.59 C738.75,2323.06 805.85,2407.37 845.78,2457.53 " fill="none" id="exit_boot_stage-to-PostEnvSetupHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="849.08,2461.68,846.6067,2452.1467,845.967,2457.7673,840.3464,2457.1276,849.08,2461.68" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="822" y="2402.0669">on success</text></g><!--MD5=[572eb7a6e0fa6ffef447c449e47ea0b5]
link exit_env_stage to choice_output--><g id="link_exit_env_stage_choice_output"><path d="M1027.9,1716.41 C1035.75,1736.73 1065.86,1814.66 1077.94,1845.92 " fill="none" id="exit_env_stage-to-choice_output" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1079.85,1850.85,1080.3364,1841.0132,1078.0474,1846.1862,1072.8744,1843.8973,1079.85,1850.85" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="1067" y="1788.0669">returns booting status</text></g><!--MD5=[4f3da24a863a9554577a79ca3182d9e3]
link choice_output to Execution--><g id="link_choice_output_Execution"><path d="M1089.59,1865.67 C1118.47,1886.15 1235.35,1969.02 1298.33,2013.67 " fill="none" id="choice_output-to-Execution" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1302.77,2016.81,1297.7263,2008.3506,1298.686,2013.9255,1293.1111,2014.8851,1302.77,2016.81" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1257" y="1941.5669">if booting succeeded or</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="1303" y="1956.6997">skip_boot</text></g><!--MD5=[677d022932f217905b1e003bf4065d7f]
link Execution to entry_release_stage--><g id="link_Execution_entry_release_stage"><path d="M1326.45,2070.11 C1309.93,2103.84 1281.68,2161.5 1270.63,2184.06 " fill="none" id="Execution-to-entry_release_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1268.43,2188.55,1275.9764,2182.2214,1270.6261,2184.0581,1268.7894,2178.7077,1268.43,2188.55" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1318" y="2113.0669">on completion</text></g><!--MD5=[0d9a656e063ace387dcc1a4b56e69fa0]
link ReleaseDeviceHook to DeviceShutdownHook--><g id="link_ReleaseDeviceHook_DeviceShutdownHook"><path d="M1378,2333.19 C1378,2367.52 1378,2420.68 1378,2456.73 " fill="none" id="ReleaseDeviceHook-to-DeviceShutdownHook" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1378,2461.92,1382,2452.92,1378,2456.92,1374,2452.92,1378,2461.92" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="1379" y="2402.0669">calls</text></g><!--MD5=[09bf892686a30f4e80618ac8af1c661d]
link choice_output to entry_release_stage--><g id="link_choice_output_entry_release_stage"><path d="M1081.24,1870.53 C1076,1901.6 1063.15,2001.87 1101,2070 C1137.64,2135.96 1225.88,2177.05 1255.84,2189.49 " fill="none" id="choice_output-to-entry_release_stage" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1260.73,2191.48,1253.8967,2184.3873,1256.0975,2189.5985,1250.8863,2191.7993,1260.73,2191.48" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1102" y="2048.0669">if booting failed</text></g><!--MD5=[8e77a20e0a6244f812512f90fa75a323]
link exit_release_stage to *end--><g id="link_exit_release_stage_*end"><path d="M1237.2,2401.46 C1224.82,2409.4 1191.97,2432.6 1180,2462 C1163.55,2502.41 1171.47,2555.67 1176.68,2580.56 " fill="none" id="exit_release_stage-to-*end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1177.81,2585.7,1179.7893,2576.0521,1176.739,2580.8161,1171.975,2577.7657,1177.81,2585.7" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="1181" y="2493.5669">successful</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="1202.5" y="2508.6997">exit</text></g><rect fill="#DDDDDD" height="113.7813" id="_legend" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="230" x="1730" y="3235"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="184" x="1736" y="3253.9951">Color Coding for Hooks</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1736" y="3270.292">Â </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1736" y="3288.5889">Â </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="42" x="1740" y="3288.5889">Color</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1782" y="3288.5889">Â </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1786" y="3288.5889">Â </text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="84" x="1790" y="3288.5889">Hook Type</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1874" y="3288.5889">Â </text><rect fill="#D8F3FA" height="16.2969" style="stroke:none;stroke-width:1.0;" width="50" x="1736" y="3291.8906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1736" y="3304.8857">Â </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="1790" y="3304.8857">Core Hooks</text><rect fill="#FEC772" height="16.2969" style="stroke:none;stroke-width:1.0;" width="50" x="1736" y="3308.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="1736" y="3321.1826">Â </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="1790" y="3321.1826">Device Hooks</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="1736" y="3337.4795">Â Â Â Â Â Â Â Â Â Â Â </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="1790" y="3337.4795">Boardfarm internal calls</text><line style="stroke:#000000;stroke-width:1.0;" x1="1736" x2="1954" y1="3275.5938" y2="3275.5938"/><line style="stroke:#000000;stroke-width:1.0;" x1="1736" x2="1954" y1="3291.8906" y2="3291.8906"/><line style="stroke:#000000;stroke-width:1.0;" x1="1736" x2="1954" y1="3308.1875" y2="3308.1875"/><line style="stroke:#000000;stroke-width:1.0;" x1="1736" x2="1954" y1="3324.4844" y2="3324.4844"/><line style="stroke:#000000;stroke-width:1.0;" x1="1736" x2="1954" y1="3340.7813" y2="3340.7813"/><line style="stroke:#000000;stroke-width:1.0;" x1="1736" x2="1736" y1="3275.5938" y2="3340.7813"/><line style="stroke:#000000;stroke-width:1.0;" x1="1786" x2="1786" y1="3275.5938" y2="3340.7813"/><line style="stroke:#000000;stroke-width:1.0;" x1="1954" x2="1954" y1="3275.5938" y2="3340.7813"/><!--MD5=[9956105c5e1927c0bca84c1bf280920b]
@startuml Boardfarm Current Flow
hide empty description


[*] - -> Main : start boardfarm
Main - -> PluginManager : init
Main - -> ArgParser : init

state CLIEnd <<end>>
state "CLI Parsing Stage" as CLI {
    state "entry" as entry_cli_stage <<entrypoint>>
    state "exit" as exit_cli_stage <<exitpoint>>

    state AddCLIArgsHook #D8F3FA
    state ParseCLIArgsHook #D8F3FA ##[bold]green
    note left of ParseCLIArgsHook
        Replace arg **bfconfig_file** with **inventory_file**
        Add arg **deployment_type**

        **deployment_type** can be **static**/**dynamic**/**discover**
    end note

    PluginManager - -> entry_cli_stage
    ArgParser - -> entry_cli_stage : passed to
    AddCLIArgsHook - -> ParseCLIArgsHook

}
ParseCLIArgsHook -right-> CLIEnd : if incorrect CLI\nargs are provided
exit_cli_stage -left-> BoardfarmConfigure


state ReserveEnd <<end>>
state "Reserve Device Stage" as Reservation{
    state reservechoice <<choice>>
    state "entry" as entry_reservation_stage <<entrypoint>>
    state "exit" as exit_reservation_stage <<exitpoint>>
    state BoardfarmConfigure #D8F3FA
    state ReserveDeviceHook #D8F3FA


    BoardfarmConfigure -down-> entry_reservation_stage

    ReserveDeviceHook - -> reservechoice
    reservechoice - -> LockableResource : lockable-resource != None
    reservechoice - -> CLIArgs : lockable-resource == None
}
reservechoice -up-> ReserveEnd : if both are empty


state deploy_choice <<choice>>
exit_reservation_stage -[#green]-> deploy_choice
deploy_choice -[#green]-> ParseInventory : <color:green>if deployment_type == static</color>

state "Env Deployment Stage" as DeployEnv ##[bold]green {
    state "entry" as entry_deploy_stage <<entrypoint>>
    state "exit" as exit_deploy_stage <<exitpoint>>
    state deploy_choice_1 <<choice>>

    state DeployEnvHook #D8F3FA

    deploy_choice -[#green]-> entry_deploy_stage : <color:green>if deployment_type in [dynamic, discover]</color>
    DeployEnvHook -right-> ParsePartialInv : calls
    note right of ParsePartialInv
        Parsing partial INV.json will not be a
        separate hook spec of core.
        The plugin for docker factory shall handle
        the parsing internally by implementing the
        boardfarm_deploy_env_hook
    end note

    note right of deploy_choice_1
        if deployment_type is discover it means
        that we want to regenerate the final INV.JSON
        based on the partial INV JSON provided earlier.
    end note

    ParsePartialInv - -> deploy_choice_1
    deploy_choice_1 - -> DeployEnvDevices : if deployment_type == dynamic
    deploy_choice_1 - -> GenerateDeployedInv: if deployment_type == discover
    DeployEnvDevices - -> GenerateDeployedInv


}

state ParseEnd <<end>>
exit_deploy_stage - -> ParseInventory
ParseInventory -left-> ParseEnd : <color:green>if deployment_type was static, and</color>\n<color:green>inventory_file was partial</color>



state "Env Setup Stage" as EnvSetup{
    state "entry" as entry_env_stage <<entrypoint>>
    state "exit" as exit_env_stage <<exitpoint>>

    ParseInventory - -> entry_env_stage: passes FinalInv.JSON for to booting stage.

    state skip_choice <<choice>>


    state RegisterHook #D8F3FA ##[bold]green
    state AddDeviceHook #D8F3FA ##[bold]green
    state SetupEnvHook #D8F3FA ##[bold]green
    state SkipBootHook #FEC772 ##[bold]green

    note left of RegisterHook
        Moved this up.
        Since registering devices is a core activity.
        And should happen first before intiating booting.
    end note

    note left of SetupEnvHook
            Renamed it to SetupEnvHook
            It does not deploy but calls all booting hooks.
    end note

    RegisterHook -right-> AddDeviceHook
    RegisterHook - -> SetupEnvHook : passes device_manager
    SetupEnvHook - -> skip_choice
    skip_choice -right-> SkipBootHook : if skip_boot == True

    State "Booting stage" as Booting ##[bold]green {


        state ValidateDeviceHook #FEC772 ##[bold]green
        state ServerBootHook #FEC772
        state ServerConfigureHook #FEC772
        state DeviceBootHook #FEC772
        state DeviceConfigureHook #FEC772
        state AddnDeviceBootHook #FEC772
        state AddnDeviceConfigureHook #FEC772

        state "entry" as entry_boot_stage <<entrypoint>>
        state "exit" as exit_boot_stage <<exitpoint>>



        ValidateDeviceHook - -> ServerBootHook
        ServerBootHook -right[#green]-> SetupServer : internal call
        ServerBootHook -[#green]-> ServerConfigureHook
        ServerConfigureHook -[#green]-> DeviceBootHook

        DeviceBootHook -right[#green]-> BootCPE : internal call
        DeviceBootHook -[#green]-> DeviceConfigureHook
        DeviceConfigureHook -[#green]-> AddnDeviceBootHook

        AddnDeviceBootHook -right[#green]-> BootAddnDevice : internal call
        AddnDeviceBootHook -[#green]-> AddnDeviceConfigureHook

    }

    skip_choice -down-> entry_boot_stage : if skip_boot == False



    note top of Booting
            The Booting stage must be a simple call to all booting
            hook implementations implemented by devices.
    end note

    note bottom of PostEnvSetupHook
            Renamed now to PostEnvSetupHook
    end note

    exit_boot_stage - -> PostEnvSetupHook : on success
    ' PostEnvSetupHook -left-> exit_env_stage
    state PostEnvSetupHook #D8F3FA

}


state choice_output <<choice>>

exit_env_stage - -> choice_output : returns booting status

choice_output - -> Execution : if booting succeeded or\n skip_boot

state "Release Env Stage" as ReleaseEnv {
    state "entry" as entry_release_stage <<entrypoint>>
    state "exit" as exit_release_stage <<exitpoint>>

    state DeviceShutdownHook #D8F3FA
    state ReleaseDeviceHook #D8F3FA


    Execution - -> entry_release_stage : on completion
    ReleaseDeviceHook - -> DeviceShutdownHook : calls
    note right of DeviceShutdownHook
            If we have a device shutdown hook.
            Shouldn't we have a device powerup hook?
    end note
}

choice_output - -> entry_release_stage : if booting failed
exit_release_stage - -> [*] : successful\nexit


PluginManager: init all BF plugins\nReads BF entry-points
AddCLIArgsHook : boardfarm_add_cmdline_args()
ParseCLIArgsHook : boardfarm_cmdline_parse()
ReserveDeviceHook : boardfarm_reserve_devices()
LockableResource : return board ID
BoardfarmConfigure: boardfarm_configure()\nTBD, adds hook stages to the core
CLIArgs : pick board-name from CLI
ParseInventory : parse_boardfarm_config()\nParses INV.json for devices
SetupEnvHook : boardfarm_setup_env()\nCalling all device booting hooks
PostEnvSetupHook : boardfarm_post_deploy_devices()\nDisconnect disposable services
RegisterHook : boardfarm_register_devices()\nShould be a Core hook not device hook
AddDeviceHook : boardfarm_add_devices()\nShould be a core hook not device hook
ValidateDeviceHook : validate_device_requirements()\nValidate against INV.json
ServerBootHook : boardfarm_server_boot()\nBoot servers
ServerConfigureHook : boardfarm_server_configure()\nConfigure servers
DeviceBootHook : boardfarm_device_boot()\nBoot CPE
DeviceConfigureHook : boardfarm_device_configure()\nConfigure CPE
AddnDeviceBootHook : boardfarm_attached_device_boot()\nBoot Extras
AddnDeviceConfigureHook : boardfarm_attached_device_configure()\nConfigure Extras
ReleaseDeviceHook: boardfarm_release_devices()\nRelease all devices
DeviceShutdownHook: boardfarm_shutdown_device()\nShutdown connections
DeployEnvHook : boardfarm_deploy_env()\nParses the INV and ENV to deploy\ncontainers
DeployEnvDevices : boardfarm_deploy_env_devices()\nInteracts with docker factory
GenerateDeployedInv : boardfarm_generate_inventory()\nshould provide the final INV.json
SkipBootHook : boardfarm_skip_boot()\nIn case there are activities\nneeded to be performed before handling out the device
Execution : Can be tests or interact session.



legend right
    **Color Coding for Hooks**

    | **Color** | **Hook Type** |
    | <#D8F3FA> | Core Hooks |
    | <#FEC772> | Device Hooks |
    |           | Boardfarm internal calls |
endlegend

@enduml

@startuml Boardfarm Current Flow
hide empty description


[*] - -> Main : start boardfarm
Main - -> PluginManager : init
Main - -> ArgParser : init

state CLIEnd <<end>>
state "CLI Parsing Stage" as CLI {
    state "entry" as entry_cli_stage <<entrypoint>>
    state "exit" as exit_cli_stage <<exitpoint>>

    state AddCLIArgsHook #D8F3FA
    state ParseCLIArgsHook #D8F3FA ##[bold]green
    note left of ParseCLIArgsHook
        Replace arg **bfconfig_file** with **inventory_file**
        Add arg **deployment_type**

        **deployment_type** can be **static**/**dynamic**/**discover**
    end note

    PluginManager - -> entry_cli_stage
    ArgParser - -> entry_cli_stage : passed to
    AddCLIArgsHook - -> ParseCLIArgsHook

}
ParseCLIArgsHook -right-> CLIEnd : if incorrect CLI\nargs are provided
exit_cli_stage -left-> BoardfarmConfigure


state ReserveEnd <<end>>
state "Reserve Device Stage" as Reservation{
    state reservechoice <<choice>>
    state "entry" as entry_reservation_stage <<entrypoint>>
    state "exit" as exit_reservation_stage <<exitpoint>>
    state BoardfarmConfigure #D8F3FA
    state ReserveDeviceHook #D8F3FA


    BoardfarmConfigure -down-> entry_reservation_stage

    ReserveDeviceHook - -> reservechoice
    reservechoice - -> LockableResource : lockable-resource != None
    reservechoice - -> CLIArgs : lockable-resource == None
}
reservechoice -up-> ReserveEnd : if both are empty


state deploy_choice <<choice>>
exit_reservation_stage -[#green]-> deploy_choice
deploy_choice -[#green]-> ParseInventory : <color:green>if deployment_type == static</color>

state "Env Deployment Stage" as DeployEnv ##[bold]green {
    state "entry" as entry_deploy_stage <<entrypoint>>
    state "exit" as exit_deploy_stage <<exitpoint>>
    state deploy_choice_1 <<choice>>

    state DeployEnvHook #D8F3FA

    deploy_choice -[#green]-> entry_deploy_stage : <color:green>if deployment_type in [dynamic, discover]</color>
    DeployEnvHook -right-> ParsePartialInv : calls
    note right of ParsePartialInv
        Parsing partial INV.json will not be a
        separate hook spec of core.
        The plugin for docker factory shall handle
        the parsing internally by implementing the
        boardfarm_deploy_env_hook
    end note

    note right of deploy_choice_1
        if deployment_type is discover it means
        that we want to regenerate the final INV.JSON
        based on the partial INV JSON provided earlier.
    end note

    ParsePartialInv - -> deploy_choice_1
    deploy_choice_1 - -> DeployEnvDevices : if deployment_type == dynamic
    deploy_choice_1 - -> GenerateDeployedInv: if deployment_type == discover
    DeployEnvDevices - -> GenerateDeployedInv


}

state ParseEnd <<end>>
exit_deploy_stage - -> ParseInventory
ParseInventory -left-> ParseEnd : <color:green>if deployment_type was static, and</color>\n<color:green>inventory_file was partial</color>



state "Env Setup Stage" as EnvSetup{
    state "entry" as entry_env_stage <<entrypoint>>
    state "exit" as exit_env_stage <<exitpoint>>

    ParseInventory - -> entry_env_stage: passes FinalInv.JSON for to booting stage.

    state skip_choice <<choice>>


    state RegisterHook #D8F3FA ##[bold]green
    state AddDeviceHook #D8F3FA ##[bold]green
    state SetupEnvHook #D8F3FA ##[bold]green
    state SkipBootHook #FEC772 ##[bold]green

    note left of RegisterHook
        Moved this up.
        Since registering devices is a core activity.
        And should happen first before intiating booting.
    end note

    note left of SetupEnvHook
            Renamed it to SetupEnvHook
            It does not deploy but calls all booting hooks.
    end note

    RegisterHook -right-> AddDeviceHook
    RegisterHook - -> SetupEnvHook : passes device_manager
    SetupEnvHook - -> skip_choice
    skip_choice -right-> SkipBootHook : if skip_boot == True

    State "Booting stage" as Booting ##[bold]green {


        state ValidateDeviceHook #FEC772 ##[bold]green
        state ServerBootHook #FEC772
        state ServerConfigureHook #FEC772
        state DeviceBootHook #FEC772
        state DeviceConfigureHook #FEC772
        state AddnDeviceBootHook #FEC772
        state AddnDeviceConfigureHook #FEC772

        state "entry" as entry_boot_stage <<entrypoint>>
        state "exit" as exit_boot_stage <<exitpoint>>



        ValidateDeviceHook - -> ServerBootHook
        ServerBootHook -right[#green]-> SetupServer : internal call
        ServerBootHook -[#green]-> ServerConfigureHook
        ServerConfigureHook -[#green]-> DeviceBootHook

        DeviceBootHook -right[#green]-> BootCPE : internal call
        DeviceBootHook -[#green]-> DeviceConfigureHook
        DeviceConfigureHook -[#green]-> AddnDeviceBootHook

        AddnDeviceBootHook -right[#green]-> BootAddnDevice : internal call
        AddnDeviceBootHook -[#green]-> AddnDeviceConfigureHook

    }

    skip_choice -down-> entry_boot_stage : if skip_boot == False



    note top of Booting
            The Booting stage must be a simple call to all booting
            hook implementations implemented by devices.
    end note

    note bottom of PostEnvSetupHook
            Renamed now to PostEnvSetupHook
    end note

    exit_boot_stage - -> PostEnvSetupHook : on success
    state PostEnvSetupHook #D8F3FA

}


state choice_output <<choice>>

exit_env_stage - -> choice_output : returns booting status

choice_output - -> Execution : if booting succeeded or\n skip_boot

state "Release Env Stage" as ReleaseEnv {
    state "entry" as entry_release_stage <<entrypoint>>
    state "exit" as exit_release_stage <<exitpoint>>

    state DeviceShutdownHook #D8F3FA
    state ReleaseDeviceHook #D8F3FA


    Execution - -> entry_release_stage : on completion
    ReleaseDeviceHook - -> DeviceShutdownHook : calls
    note right of DeviceShutdownHook
            If we have a device shutdown hook.
            Shouldn't we have a device powerup hook?
    end note
}

choice_output - -> entry_release_stage : if booting failed
exit_release_stage - -> [*] : successful\nexit


PluginManager: init all BF plugins\nReads BF entry-points
AddCLIArgsHook : boardfarm_add_cmdline_args()
ParseCLIArgsHook : boardfarm_cmdline_parse()
ReserveDeviceHook : boardfarm_reserve_devices()
LockableResource : return board ID
BoardfarmConfigure: boardfarm_configure()\nTBD, adds hook stages to the core
CLIArgs : pick board-name from CLI
ParseInventory : parse_boardfarm_config()\nParses INV.json for devices
SetupEnvHook : boardfarm_setup_env()\nCalling all device booting hooks
PostEnvSetupHook : boardfarm_post_deploy_devices()\nDisconnect disposable services
RegisterHook : boardfarm_register_devices()\nShould be a Core hook not device hook
AddDeviceHook : boardfarm_add_devices()\nShould be a core hook not device hook
ValidateDeviceHook : validate_device_requirements()\nValidate against INV.json
ServerBootHook : boardfarm_server_boot()\nBoot servers
ServerConfigureHook : boardfarm_server_configure()\nConfigure servers
DeviceBootHook : boardfarm_device_boot()\nBoot CPE
DeviceConfigureHook : boardfarm_device_configure()\nConfigure CPE
AddnDeviceBootHook : boardfarm_attached_device_boot()\nBoot Extras
AddnDeviceConfigureHook : boardfarm_attached_device_configure()\nConfigure Extras
ReleaseDeviceHook: boardfarm_release_devices()\nRelease all devices
DeviceShutdownHook: boardfarm_shutdown_device()\nShutdown connections
DeployEnvHook : boardfarm_deploy_env()\nParses the INV and ENV to deploy\ncontainers
DeployEnvDevices : boardfarm_deploy_env_devices()\nInteracts with docker factory
GenerateDeployedInv : boardfarm_generate_inventory()\nshould provide the final INV.json
SkipBootHook : boardfarm_skip_boot()\nIn case there are activities\nneeded to be performed before handling out the device
Execution : Can be tests or interact session.



legend right
    **Color Coding for Hooks**

    | **Color** | **Hook Type** |
    | <#D8F3FA> | Core Hooks |
    | <#FEC772> | Device Hooks |
    |           | Boardfarm internal calls |
endlegend

@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>
