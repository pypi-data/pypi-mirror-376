"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2561],{4681:(e,t,s)=>{s.d(t,{Z:()=>N});var r=s(23892),a=s(69849),l=s(90774),n=s(17282),i=s(117),o=s(12999),d=s(5747),c=s(2693),u=s(20906),m=s(51468),f=s(25168),x=s(59370),h=s(9472),p=s(76116),g=s(90002),j=s(50274);let v="h-4 w-4",N={FOLDER_OPEN:(0,r.jsx)(a.A,{className:v}),FOLDER_CLOSED:(0,r.jsx)(l.A,{className:v}),JSON:(0,r.jsx)(n.A,{className:v}),COLUMNAR_TABLE:(0,r.jsx)(i.A,{className:v}),ROW_TABLE:(0,r.jsx)(o.A,{className:v}),IMAGE:(0,r.jsx)(d.A,{className:v}),VIDEO:(0,r.jsx)(c.A,{className:v}),TEXT:(0,r.jsx)(u.A,{className:v}),FILE_DEFAULT:(0,r.jsx)(m.A,{className:v}),CHEVRON_DOWN:(0,r.jsx)(f.A,{className:v}),CHEVRON_RIGHT:(0,r.jsx)(x.A,{className:v}),BOOLEAN:(0,r.jsx)(h.A,{className:v}),DATE:(0,r.jsx)(p.A,{className:v}),NUMBER:(0,r.jsx)(g.A,{className:v}),LINK:(0,r.jsx)(j.A,{className:v}),IFRAME:(0,r.jsx)(j.A,{className:v}),TYPE:(0,r.jsx)(u.A,{className:v})}},18607:(e,t,s)=>{function r(e){return"string"==typeof e&&e.includes("://")}function a(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];if(0===t.length)return"";let r=t.filter(e=>e&&"string"==typeof e&&""!==e.trim());if(0===r.length)return"";if(1===r.length)return r[0];let a=r[0];for(let e=1;e<r.length;e++){let t=r[e];a.endsWith("/")||t.startsWith("/")?a.endsWith("/")&&t.startsWith("/")&&(a=a.slice(0,-1)):a+="/",a+=t}return a}function l(e){if(!e||"string"!=typeof e)return"";if("/"===e||"~"===e)return e;if(r(e)){let t=e.replace(/\/+$/,""),s=t.indexOf("://")+3;if(!t.substring(s).includes("/"))return e;let r=t.lastIndexOf("/");return -1===r?"":t.substring(r+1)}{let t=e.replace(/\\/g,"/").replace(/\/+$/,""),s=t.lastIndexOf("/");return -1===s?t:t.substring(s+1)}}function n(e){if(!e||"string"!=typeof e||"/"===e||"~"===e)return"";if(r(e)){let t=e.replace(/\/+$/,""),s=t.lastIndexOf("/");if(-1===s)return"";let r=t.substring(0,s),a=t.indexOf("://")+3;return t.substring(a).includes("/")?(!r.substring(a).includes("/"),r):""}{let t=e.replace(/\\/g,"/").replace(/\/+$/,""),s=t.lastIndexOf("/");return -1===s?"":0===s?"/":t.substring(0,s)}}s.d(t,{CN:()=>a,Gl:()=>n,uk:()=>l})},26460:(e,t,s)=>{s.d(t,{$:()=>u,Ay:()=>f,EI:()=>c,OX:()=>d,PI:()=>l});var r=s(58976),a=s(18607);let l=(0,r.zD)("folderTree/loadFolderContents",async e=>{let{path:t,limit:s=100,showHidden:r=!1}=e,a=new URLSearchParams({path:t,limit:s.toString(),show_hidden:r.toString()}),l=await fetch("/api/ls?".concat(a));if(!l.ok)throw Error("Failed to load folder contents: ".concat(l.statusText));return{path:t,items:await l.json()}});function n(e,t){let s=e.name===t||""===t?e.name:(0,a.CN)(t,e.name);return{id:s,name:(0,a.uk)(s)||e.name,path:s,isDir:e.isDir,size:e.size,lastModified:e.lastModified,children:e.isDir?[]:void 0,isLoaded:!1,isExpanded:!1,loading:!1}}function i(e,t,s){return e.path===t?s(e):e.children?{...e,children:e.children.map(e=>i(e,t,s))}:e}let o=(0,r.Z0)({name:"folderTree",initialState:{rootNode:null,expandedPaths:[],loading:!1,error:null,viewingId:null},reducers:{toggleNodeExpansion:(e,t)=>{let s=t.payload,r=e.expandedPaths.indexOf(s);r>=0?e.expandedPaths.splice(r,1):e.expandedPaths.push(s),e.rootNode&&(e.rootNode=i(e.rootNode,s,e=>({...e,isExpanded:!e.isExpanded})))},clearTree:e=>{e.rootNode=null,e.expandedPaths=[],e.error=null,e.viewingId=null},setViewingId:(e,t)=>{e.viewingId=t.payload},setNodeLoading:(e,t)=>{let{path:s,loading:r}=t.payload;e.rootNode&&(e.rootNode=i(e.rootNode,s,e=>({...e,loading:r})))}},extraReducers:e=>{e.addCase(l.pending,(e,t)=>{e.loading=!0,e.error=null;let s=t.meta.arg.path;e.rootNode&&(e.rootNode=i(e.rootNode,s,e=>({...e,loading:!0})))}).addCase(l.fulfilled,(e,t)=>{e.loading=!1;let{path:s,items:r}=t.payload;if(e.rootNode){let t=i(e.rootNode,s,e=>({...e,children:r.map(e=>n(e,s)),isLoaded:!0,loading:!1,isExpanded:!0}));e.rootNode=t}else e.rootNode=n({name:(0,a.uk)(s),size:0,lastModified:Date.now(),isDir:!0},(0,a.Gl)(s)),e.rootNode.path=s,e.rootNode.isLoaded=!0,e.rootNode.isExpanded=!0,e.rootNode.children=r.map(e=>n(e,s))}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to load folder contents";let s=t.meta.arg.path;e.rootNode&&(e.rootNode=i(e.rootNode,s,e=>({...e,loading:!1})))})}}),{toggleNodeExpansion:d,clearTree:c,setViewingId:u,setNodeLoading:m}=o.actions,f=o.reducer},40783:(e,t,s)=>{s.d(t,{A:()=>$});var r=s(23892),a=s(42522),l=s(69849),n=s(59370),i=s(6981),o=s(85848),d=s(84691),c=s(60779),u=s(26460),m=s(87326),f=s(57516),x=s(58972),h=s(62252),p=s(4681);function g(e){let{node:t,style:s}=e,a=(0,c.jL)(),l=(0,c.GV)(e=>e.folderTree.viewingId),n=(0,c.GV)(e=>e.ui.fileInfoToShow),i=t.data,d=l===i.id;(0,o.useEffect)(()=>{i.isDir&&i.isExpanded!==t.isOpen&&(i.isExpanded?t.open():t.close())},[i.isExpanded,i.isDir,t]);let g=(0,o.useCallback)(async e=>{e.stopPropagation(),a((0,u.$)(i.id)),i.isDir&&(i.isLoaded?a((0,u.OX)(i.path)):a((0,u.PI)({path:i.path})))},[i,a]),j=(0,o.useCallback)(e=>{if(e.stopPropagation(),!i.isDir){let e=(0,h.t)(i.name);if(e===h.p.ColumnarTable||e===h.p.RowTable){let e="/Table?filePath=".concat(encodeURIComponent(i.path));window.open(e,"_blank")}}},[i]),v=(0,o.useCallback)(e=>{e.stopPropagation(),e.preventDefault();let t="/FolderBrowser?rootFolder=".concat(encodeURIComponent(i.path));window.open(t,"_blank")},[i.path]),N=(0,o.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),a((0,u.PI)({path:i.path}))},[i.path,a]);return(0,r.jsxs)("div",{style:s,className:(0,x.cn)("group flex items-center space-x-2 px-2 py-1 text-sm cursor-pointer hover:bg-muted/50 rounded relative","select-none",d&&"bg-primary/20 hover:bg-primary/10"),onClick:g,onDoubleClick:j,children:[i.isDir?i.loading?(0,r.jsx)("div",{className:"w-4 h-4 flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-2 h-2 border border-muted-foreground border-t-transparent rounded-full animate-spin"})}):t.isOpen?p.Z.CHEVRON_DOWN:p.Z.CHEVRON_RIGHT:(0,r.jsx)("div",{className:"w-4 h-4"}),(()=>{if(i.isDir)return t.isOpen?p.Z.FOLDER_OPEN:p.Z.FOLDER_CLOSED;switch((0,h.t)(i.name)){case h.p.Json:return p.Z.JSON;case h.p.ColumnarTable:return p.Z.COLUMNAR_TABLE;case h.p.RowTable:return p.Z.ROW_TABLE;case h.p.Image:return p.Z.IMAGE;case h.p.Video:return p.Z.VIDEO;case h.p.Text:return p.Z.TEXT;default:return p.Z.FILE_DEFAULT}})(),(0,r.jsx)("span",{className:"truncate flex-1",title:i.name,children:i.name}),(()=>{let e;if(i.isDir)return null;switch(n){case"size":e=function(e){if(0===e)return"0 B";let t=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,t)*10)/10+" "+["B","KB","MB","GB"][t]}(i.size);break;case"lastModified":e=new Date(i.lastModified).toLocaleDateString();break;case"lastModifiedRelative":e=function(e){let t=Date.now()-e;return t<6e4?"now":t<36e5?"".concat(Math.floor(t/6e4),"m"):t<864e5?"".concat(Math.floor(t/36e5),"h"):t<6048e5?"".concat(Math.floor(t/864e5),"d"):t<2592e6?"".concat(Math.floor(t/6048e5),"w"):t<31536e6?"".concat(Math.floor(t/2592e6),"mo"):"".concat(Math.floor(t/31536e6),"y")}(i.lastModified);break;default:return null}return(0,r.jsx)("span",{className:"text-xs text-muted-foreground ml-auto",children:e})})(),i.isDir&&(0,r.jsxs)("div",{className:"absolute right-1 opacity-0 group-hover:opacity-100 transition-opacity flex gap-1",children:[(0,r.jsx)("button",{onClick:N,className:(0,x.cn)("bg-background border border-border rounded p-1 shadow-sm hover:bg-muted cursor-pointer","flex items-center justify-center",i.loading&&"animate-spin"),title:"Refresh ".concat(i.name),disabled:i.loading,children:(0,r.jsx)(m.A,{className:"h-3 w-3"})}),(0,r.jsx)("button",{onClick:v,className:(0,x.cn)("bg-background border border-border rounded p-1 shadow-sm hover:bg-muted cursor-pointer","flex items-center justify-center"),title:"Open ".concat(i.name," in new tab"),children:(0,r.jsx)(f.A,{className:"h-3 w-3"})})]})]})}function j(){let e=(0,c.jL)(),{rootNode:t,loading:s,error:a}=(0,c.GV)(e=>e.folderTree),l=(0,c.GV)(e=>e.ui.rootFolder);(0,o.useEffect)(()=>{l?(e((0,u.EI)()),e((0,u.PI)({path:l}))):e((0,u.EI)())},[l,e]),(0,o.useEffect)(()=>{t&&!t.isExpanded&&e((0,u.OX)(t.path))},[t,e]);let n=e=>({id:e.id,name:e.name,path:e.path,isDir:e.isDir,size:e.size,lastModified:e.lastModified,isLoaded:e.isLoaded,loading:e.loading,isExpanded:e.isExpanded,children:e.children?e.children.map(n):void 0}),i=t?[n(t)]:[];return a?(0,r.jsxs)("div",{className:"p-4 text-center text-sm text-red-500",children:[(0,r.jsx)("p",{children:"Error loading folder tree:"}),(0,r.jsx)("p",{className:"mt-1",children:a})]}):!t&&s?(0,r.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-muted-foreground border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{children:"Loading folder tree..."})]})}):t?(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsx)(d.P,{data:i,openByDefault:!1,width:"100%",height:800,indent:20,rowHeight:32,overscanCount:10,disableDrag:!0,disableDrop:!0,disableMultiSelection:!0,childrenAccessor:"children",idAccessor:"id",children:g})}):(0,r.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No folder selected"})}var v=s(69984),N=s(18607),w=s(59871);function b(){let e=(0,c.jL)(),t=(0,c.GV)(e=>e.ui.fileInfoToShow),s=(e=>{if(!e)return[];let t=[],s=(0,N.Gl)(e),r=(0,N.Gl)(s);if(r&&r!==s&&(0,N.Gl)(r)!==r&&t.push({name:"...",path:"",isEllipsis:!0}),r&&r!==s){let e=(0,N.uk)(r)||r;t.push({name:e,path:r,isEllipsis:!1})}if(s&&s!==e){let e=(0,N.uk)(s)||s;t.push({name:e,path:s,isEllipsis:!1})}return t})((0,c.GV)(e=>e.ui.rootFolder)||"~");return(0,r.jsxs)("div",{className:"h-full w-full border-r bg-muted/10 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(l.A,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsx)("h3",{className:"font-medium text-sm",children:"Folder Navigation"})]}),(0,r.jsxs)(w.l6,{value:t,onValueChange:t=>e((0,v.f3)(t)),children:[(0,r.jsx)(w.bq,{className:"w-auto h-7 text-xs",children:(0,r.jsx)(w.yv,{})}),(0,r.jsxs)(w.gC,{children:[(0,r.jsx)(w.eb,{value:"size",children:"Size"}),(0,r.jsx)(w.eb,{value:"lastModified",children:"Modified Date"}),(0,r.jsx)(w.eb,{value:"lastModifiedRelative",children:"Modified (Relative)"})]})]})]}),(0,r.jsx)("div",{className:"px-4 py-2 border-b bg-muted/20",children:(0,r.jsx)("nav",{className:"flex items-center space-x-1 text-xs overflow-hidden",children:s.map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-1 min-w-0",children:[t>0&&(0,r.jsx)(n.A,{className:"h-3 w-3 text-muted-foreground flex-shrink-0"}),e.isEllipsis?(0,r.jsx)("div",{className:"flex items-center px-1 py-0.5 text-muted-foreground",children:(0,r.jsx)(i.A,{className:"h-3 w-3"})}):(0,r.jsx)("button",{onClick:()=>(e=>{let t="/FolderBrowser?rootFolder=".concat(encodeURIComponent(e));window.open(t,"_blank")})(e.path),className:"flex items-center space-x-1 px-1 py-0.5 rounded hover:bg-muted/50 text-muted-foreground hover:text-foreground transition-colors min-w-0 cursor-pointer",title:e.path,children:(0,r.jsx)("span",{className:"truncate",children:e.name})})]},e.path))})}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsx)(j,{})})]})}var y=s(36712),E=s(37939),A=s(83252);function C(e){let{title:t,message:s,details:a}=e;return(0,r.jsxs)("div",{className:"p-4 border border-red-200 bg-red-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-red-800 mb-1",children:t}),(0,r.jsx)("p",{className:"text-sm text-red-600",children:s}),a&&(0,r.jsx)("p",{className:"text-xs text-red-500 mt-2",children:a})]})}function T(e){let{item:t}=e,[s,a]=(0,o.useState)(!1),l=(0,A.w)(t.path);return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-medium mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Image Preview"})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:s?(0,r.jsx)(C,{title:"Failed to load image",message:"The image could not be loaded or displayed."}):(0,r.jsx)("img",{src:l,alt:t.name,className:"max-w-full max-h-full object-contain rounded-lg shadow-sm",onError:()=>a(!0)})})]})}function S(e){let{item:t}=e,[s,a]=(0,o.useState)(!1),l=(0,A.w)(t.path);return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-medium mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Video Preview"})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:s?(0,r.jsx)(C,{title:"Failed to load video",message:"The video could not be loaded or played."}):(0,r.jsx)("video",{src:l,controls:!0,className:"max-w-full max-h-full rounded-lg shadow-sm",preload:"metadata",onError:()=>a(!0),children:"Your browser does not support the video tag."})})]})}function L(e){let{itemId:t,version:s=0}=e,r=(0,c.GV)(e=>e.folderTree.rootNode),a=t?function e(t,s){if(!t)return null;if(t.id===s)return t;if(t.children)for(let r of t.children){let t=e(r,s);if(t)return t}return null}(r,t):null,l=(null==a?void 0:a.path)||null,[n,i]=(0,o.useState)(""),[d,u]=(0,o.useState)(!0),[m,f]=(0,o.useState)(null),[x,h]=(0,o.useState)(null),p=(0,o.useRef)(null);return(0,o.useEffect)(()=>{i(""),f(null),h(null),u(!0),p.current&&p.current.abort();let e=new AbortController;if(p.current=e,!t||!l)return void u(!1);if(null==a?void 0:a.isDir){u(!1),f("Cannot read content of a directory");return}return fetch((0,A.w)(l),{signal:e.signal}).then(t=>{if(!e.signal.aborted){if(!t.ok){if(404===t.status)throw h(!1),Error("File not found");throw Error("HTTP error! status: ".concat(t.status))}return t.text()}}).then(t=>{e.signal.aborted||(i(t||""),h(!0))}).catch(t=>{e.signal.aborted||(f(t.message),"File not found"===t.message||console.error("Error loading file content:",t))}).finally(()=>{e.signal.aborted||u(!1)}),()=>{e.abort()}},[t,s,l,null==a?void 0:a.isDir]),{content:n,isLoading:d,error:m,fileExists:x,fullPath:l}}function M(e){let{message:t="Loading content..."}=e;return(0,r.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-4 h-4 border border-muted-foreground border-t-transparent rounded-full animate-spin"}),(0,r.jsx)("span",{className:"text-sm text-muted-foreground",children:t})]})})}function O(e){let{title:t="File not found",message:s="The file could not be found or accessed."}=e;return(0,r.jsxs)("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:t}),(0,r.jsx)("p",{className:"text-sm text-yellow-600",children:s})]})}var D=s(89390),I=s(98283),R=s(86841);function P(e){let{value:t,extensions:s=[],height:a="100vh"}=e,{theme:l,systemTheme:n}=(0,R.D)();return(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsx)(D.Ay,{value:t,extensions:s,theme:"dark"===l||"system"===l&&"dark"===n?I.bM:"light",height:a,readOnly:!0,basicSetup:{lineNumbers:!0,foldGutter:!1,highlightActiveLine:!1,searchKeymap:!1,autocompletion:!1,bracketMatching:!1,dropCursor:!1,indentOnInput:!1}})})}var _=s(20186),k=s(24157),F=s(41437),z=s(30017);function G(e){let{item:t,version:s=0}=e,{content:a,isLoading:l,error:n,fileExists:i}=L({itemId:t.id,version:s}),o=t.name.toLowerCase(),d=(()=>{if(o.endsWith(".py"))return{extension:(0,_.Hg)(),previewType:"Python Code Preview"};if(o.endsWith(".js")||o.endsWith(".jsx"))return{extension:(0,k.Q2)(),previewType:"JavaScript Code Preview"};if(o.endsWith(".ts")||o.endsWith(".tsx"))return{extension:(0,k.Q2)({typescript:!0}),previewType:"TypeScript Code Preview"};if(o.endsWith(".sql"))return{extension:(0,F.ll)(),previewType:"SQL Code Preview"};if(o.endsWith(".md")||o.endsWith(".markdown"))return{extension:(0,z.wD)(),previewType:"Markdown Preview"};return null})(),c=null!==d;return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-medium mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:c?d.previewType:"Text Preview"})]}),(()=>{if(l)return(0,r.jsx)(M,{});if(n)return(0,r.jsx)(C,{title:"Error loading file",message:n});if(!1===i)return(0,r.jsx)(O,{});let e=c&&d?[d.extension]:[];return(0,r.jsx)(P,{value:a||"(Empty file)",extensions:e})})()]})}var V=s(18870);function U(e){let{item:t,version:s=0}=e,{content:a,isLoading:l,error:n,fileExists:i}=L({itemId:t.id,version:s}),d=(0,o.useMemo)(()=>{if(!a.trim())return null;try{return JSON.parse(a)}catch(e){return null}},[a]);return(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("h4",{className:"text-lg font-medium mb-1",children:t.name}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"JSON Preview"})]}),l?(0,r.jsx)(M,{message:"Loading JSON content..."}):n?(0,r.jsx)(C,{title:"Error loading file",message:n}):!1===i?(0,r.jsx)(O,{}):a.trim()?d?(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)(V.A,{src:d,showControls:!0,className:"h-full"})}):(0,r.jsxs)("div",{className:"flex flex-col h-full min-h-0",children:[(0,r.jsx)("div",{className:"shrink-0",children:(0,r.jsx)(C,{title:"Invalid JSON",message:"The file content is not valid JSON. Displaying as plain text."})}),(0,r.jsx)("div",{className:"flex-1 min-h-0 mt-4",children:(0,r.jsx)(P,{value:a,extensions:[]})})]}):(0,r.jsx)(C,{title:"Empty file",message:"The file is empty or contains only whitespace."})]})}var W=s(46020),q=s(57182),B=s(56211);function J(e){let{item:t,subtitle:s}=e;return(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,r.jsx)("h4",{className:"text-lg font-medium",children:t.name}),(0,r.jsx)("button",{onClick:()=>{let e="/Table?filePath=".concat(encodeURIComponent(t.path));window.open(e,"_blank")},className:"p-1 rounded hover:bg-muted text-muted-foreground hover:text-foreground transition-colors",title:"Open in Table view",children:(0,r.jsx)(f.A,{className:"h-4 w-4"})}),(0,r.jsx)(B.A,{value:t.path})]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:s})]})}function Z(e){let{title:t="Not Implemented Yet",message:s="Preview for this file format is not implemented yet.",details:a}=e;return(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsxs)("div",{className:"p-4 border border-yellow-200 bg-yellow-50 rounded-lg",children:[(0,r.jsx)("h4",{className:"text-sm font-medium text-yellow-800 mb-1",children:t}),(0,r.jsx)("p",{className:"text-sm text-yellow-600",children:s})]}),a&&(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,r.jsx)("p",{children:a})})]})})}function H(e){let{item:t}=e,s=(0,c.jL)(),[a,l]=(0,o.useState)(null),[n,i]=(0,o.useState)(!1),[d,u]=(0,o.useState)(null),m=t.name.toLowerCase().endsWith(".parquet"),f=m?"WITH meta AS (\n    SELECT\n        path_in_schema AS column_name,\n        SUM(num_values) AS cntAll,\n        SUM(stats_null_count) AS cntNull,\n        MIN(stats_min_value) AS min,\n        MAX(stats_max_value) AS max\n    FROM parquet_metadata('".concat(t.path,"')\n    GROUP BY path_in_schema\n  )\n  SELECT column_name, column_type, cntAll, cntNull, min, max\n  FROM (DESCRIBE SELECT * FROM read_parquet ('").concat(t.path,"'))\n      LEFT JOIN meta USING (column_name)"):null;return(0,o.useEffect)(()=>{m&&f&&(async()=>{i(!0),u(null);try{let e=(0,W.bL)("parquet_metadata"),t=await (0,W.l4)(f,e,s);l(t)}catch(e){console.error("Error executing parquet metadata query:",e),u(e instanceof Error?e.message:"Failed to load parquet metadata")}finally{i(!1)}})()},[f,s,m]),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsx)(J,{item:t,subtitle:m?"Parquet Metadata Preview":"Columnar Table Preview"}),m?n?(0,r.jsx)(M,{message:"Loading Parquet metadata..."}):d?(0,r.jsx)(C,{title:"Error loading metadata",message:d}):a&&0!==a.length?(0,r.jsx)("div",{className:"flex-1 border rounded-lg overflow-hidden",children:(0,r.jsx)(q.A,{data:a})}):(0,r.jsx)(O,{title:"No metadata found",message:"No column metadata could be retrieved from the Parquet file."}):(0,r.jsx)(Z,{message:"Preview for this columnar file format is not implemented yet.",details:"File: ".concat(t.name,". Currently only Parquet files are supported for columnar table preview.")})]})}function X(e){let{item:t}=e,s=(0,c.jL)(),[a,l]=(0,o.useState)(null),[n,i]=(0,o.useState)(!1),[d,u]=(0,o.useState)(null),m="SELECT * FROM '".concat(t.path,"' LIMIT 10");return(0,o.useEffect)(()=>{(async()=>{i(!0),u(null);try{let e=(0,W.bL)("table_preview"),t=await (0,W.l4)(m,e,s);l(t)}catch(e){console.error("Error executing table preview query:",e),u(e instanceof Error?e.message:"Failed to load table data")}finally{i(!1)}})()},[m,s]),(0,r.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,r.jsx)(J,{item:t,subtitle:"Row Table Preview (First 10 rows)"}),n?(0,r.jsx)(M,{message:"Loading table data..."}):d?(0,r.jsx)(C,{title:"Error loading table",message:d,details:"Query: ".concat(m)}):a&&0!==a.length?(0,r.jsx)("div",{className:"flex-1 border rounded-lg overflow-hidden",children:(0,r.jsx)(q.A,{data:a})}):(0,r.jsx)(O,{title:"No data found",message:"The table appears to be empty or could not be read."})]})}function Y(){let e=(0,c.GV)(e=>e.folderTree.viewingId),t=(0,c.GV)(e=>e.folderTree.rootNode),s=e?function e(t,s){if(!t)return null;if(t.id===s)return t;if(t.children)for(let r of t.children){let t=e(r,s);if(t)return t}return null}(t,e):null,a=s&&!s.isDir?(0,h.t)(s.name):null;return(0,r.jsxs)("div",{className:"h-full w-full p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,r.jsx)(E.A,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsx)("h3",{className:"font-medium text-sm",children:"File Previewer"})]}),(0,r.jsx)("div",{className:"h-full border rounded-lg bg-muted/30 flex items-center justify-center p-4",children:(()=>{if(!s)return(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-muted-foreground mb-2",children:"File Preview"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Select a file from the folder navigation to preview its contents"})]})]});switch(a){case h.p.Image:return(0,r.jsx)(T,{item:s});case h.p.Video:return(0,r.jsx)(S,{item:s});case h.p.Json:return(0,r.jsx)(U,{item:s});case h.p.ColumnarTable:return(0,r.jsx)(H,{item:s});case h.p.RowTable:return(0,r.jsx)(X,{item:s});case h.p.Text:return(0,r.jsx)(G,{item:s});default:return(0,r.jsxs)("div",{className:"text-center space-y-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsx)(y.A,{className:"h-12 w-12 text-muted-foreground"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-lg font-medium text-muted-foreground mb-2",children:s.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mb-2",children:["File Type: ",s.isDir?"Folder":a||"Unknown"]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Preview not available for this file type"})]})]})}})()})]})}function $(){return(0,r.jsx)("div",{className:"h-full w-full",children:(0,r.jsxs)(a.N,{direction:"horizontal",defaultSizes:[20,80],minSize:15,maxSize:85,className:"h-full",children:[(0,r.jsx)(b,{}),(0,r.jsx)(Y,{})]})})}},42304:(e,t,s)=>{s.d(t,{SQ:()=>o,_2:()=>d,rI:()=>n,ty:()=>i});var r=s(23892);s(85848);var a=s(53053),l=s(58972);function n(e){let{...t}=e;return(0,r.jsx)(a.bL,{"data-slot":"dropdown-menu",...t})}function i(e){let{...t}=e;return(0,r.jsx)(a.l9,{"data-slot":"dropdown-menu-trigger",...t})}function o(e){let{className:t,sideOffset:s=4,...n}=e;return(0,r.jsx)(a.ZL,{children:(0,r.jsx)(a.UC,{"data-slot":"dropdown-menu-content",sideOffset:s,className:(0,l.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function d(e){let{className:t,inset:s,variant:n="default",...i}=e;return(0,r.jsx)(a.q7,{"data-slot":"dropdown-menu-item","data-inset":s,"data-variant":n,className:(0,l.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...i})}},42522:(e,t,s)=>{s.d(t,{N:()=>n});var r=s(23892),a=s(85848),l=s(58972);function n(e){let{children:t,direction:s="vertical",defaultSizes:n,minSize:i=10,maxSize:o=90,className:d}=e,c=n||Array(t.length).fill(100/t.length),[u,m]=(0,a.useState)(c),[f,x]=(0,a.useState)(!1),[h,p]=(0,a.useState)(-1),g=(0,a.useRef)(null),j=(0,a.useCallback)(e=>{x(!0),p(e)},[]),v=(0,a.useCallback)(e=>{let t;if(!f||-1===h||!g.current)return;let r=g.current.getBoundingClientRect();t="vertical"===s?(e.clientY-r.top)/r.height*100:(e.clientX-r.left)/r.width*100;let a=u.slice(0,h+1).reduce((e,t)=>e+t,0),l=u[h],n=u[h+1],d=t-(a-l),c=l+n-d,x=Math.max(i,Math.min(o,d)),p=Math.max(i,Math.min(o,c));if(x+p===d+c){let e=[...u];e[h]=x,e[h+1]=p,m(e)}},[f,h,s,i,o,u]),N=(0,a.useCallback)(()=>{x(!1),p(-1)},[]);a.useEffect(()=>{if(f)return document.addEventListener("mousemove",v),document.addEventListener("mouseup",N),document.body.style.cursor="vertical"===s?"row-resize":"col-resize",document.body.style.userSelect="none",()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",N),document.body.style.cursor="",document.body.style.userSelect=""}},[f,v,N,s]);let w="vertical"===s;return(0,r.jsx)("div",{ref:g,className:(0,l.cn)("flex",w?"flex-col":"flex-row","h-full w-full",d),children:(()=>{let e=[];return t.forEach((s,a)=>{let n=w?{height:"".concat(u[a],"%")}:{width:"".concat(u[a],"%")};e.push((0,r.jsx)("div",{style:n,className:"overflow-hidden",children:s},"panel-".concat(a))),a<t.length-1&&e.push((0,r.jsx)("div",{className:(0,l.cn)("bg-border hover:bg-primary/50 active:bg-primary/50 transition-colors","flex items-center justify-center","group select-none",w?"h-0.5 w-full cursor-row-resize":"w-0.5 h-full cursor-col-resize",f&&h===a&&"bg-primary"),onMouseDown:()=>j(a),children:(0,r.jsx)("div",{className:(0,l.cn)("bg-border group-hover:bg-border/80 rounded-full",w?"w-8 h-0.5":"h-8 w-0.5")})},"splitter-".concat(a)))}),e})()})}},57182:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(23892),a=s(82918),l=s(60779),n=s(47160),i=s(6499);function o(e){let{data:t,className:s="",onGridReady:n,colDefOverrides:o}=e,d=(0,l.d2)(),c=(0,l.uM)(),u=(0,l.en)(),m=(0,i.bt)(t),f=o?m.map(e=>{let t=e.field,s=t?o[t]:void 0;return s?{...e,...s}:e}):m;return(0,r.jsx)("div",{className:"h-full w-full ".concat(s),children:(0,r.jsx)(a.W6,{theme:d,rowData:t,columnDefs:f,onGridReady:e=>{null==n||n(e)},defaultColDef:c,...u})})}n.syG.registerModules([n.JKr])},59871:(e,t,s)=>{s.d(t,{bq:()=>m,eb:()=>p,gC:()=>h,l6:()=>c,yv:()=>u});var r=s(23892),a=s(85848),l=s(27298),n=s(25168),i=s(34953),o=s(18954),d=s(58972);let c=l.bL;l.YJ;let u=l.WT,m=a.forwardRef((e,t)=>{let{className:s,children:a,...i}=e;return(0,r.jsxs)(l.l9,{ref:t,className:(0,d.cn)("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[a,(0,r.jsx)(l.In,{asChild:!0,children:(0,r.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=l.l9.displayName;let f=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.PP,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(i.A,{className:"h-4 w-4"})})});f.displayName=l.PP.displayName;let x=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wn,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...a,children:(0,r.jsx)(n.A,{className:"h-4 w-4"})})});x.displayName=l.wn.displayName;let h=a.forwardRef((e,t)=>{let{className:s,children:a,position:n="popper",...i}=e;return(0,r.jsx)(l.ZL,{children:(0,r.jsxs)(l.UC,{ref:t,className:(0,d.cn)("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...i,children:[(0,r.jsx)(f,{}),(0,r.jsx)(l.LM,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a}),(0,r.jsx)(x,{})]})})});h.displayName=l.UC.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.JU,{ref:t,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",s),...a})}).displayName=l.JU.displayName;let p=a.forwardRef((e,t)=>{let{className:s,children:a,...n}=e;return(0,r.jsxs)(l.q7,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,r.jsx)("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(l.VF,{children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(l.p4,{children:a})]})});p.displayName=l.q7.displayName,a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,r.jsx)(l.wv,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...a})}).displayName=l.wv.displayName},60620:(e,t,s)=>{s.d(t,{A:()=>d});var r=s(23892),a=s(60779),l=s(24056),n=s(18870),i=s(13915);function o(){let e=(0,a.GV)(e=>e);return(0,r.jsx)("div",{className:"flex-1 p-0 overflow-hidden",children:(0,r.jsx)(n.A,{src:e,className:"h-full"})})}function d(){return(0,r.jsx)(i.A,{icon:(0,r.jsx)(l.A,{}),title:"Redux State Viewer",tooltip:"Debug Redux State",width:"50vw",height:"90vh",children:(0,r.jsx)(o,{})})}}}]);