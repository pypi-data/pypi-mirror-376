[project]
name = "tigergraph-mcp"
version = "0.2.4"
description = ""
authors = [
    {name = "xunalei.lin",email = "xuanlei.lin@tigergraph.com"}
]
readme = "README.md"
requires-python = ">=3.10,<3.13"

dependencies = [
    "mcp (>=1.10.0,<2.0.0)",
    "tigergraphx (>=0.2.15,<0.3.0)",
]

[tool.poetry.group.dev.dependencies]
# Task Runner
poethepoet = "^0.33.1"

# Testing Frameworks
pytest = "^8.3.5"
pytest-asyncio = "^0.26.0"
pytest-html = "^4.1.1"

# Agentic AI
panel = "^1.6.2"
crewai-tools = {extras = ["mcp"], version = "^0.46.0"}
langgraph = "^0.4.8"
langchain-mcp-adapters = "^0.1.7"

# Security patches
langchain-community = "^0.3.27"
h11 = "^0.16.0"
pillow = "^11.3.0"
tornado = "^6.5"
h2 = "^4.3.0"
uv = "^0.8.6"
starlette = "^0.47.2"
urllib3 = "^2.5.0"
requests = "^2.32.4"
aiohttp = "^3.12.14"

[build-system]
requires = ["poetry-core>=2.0.0,<3.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.ruff]
line-length = 100

[tool.ruff.lint]
select = [
  "E",  # Error codes (e.g., syntax errors, runtime errors)
  "W",  # Warning codes (potential issues or bad practices)
  "F",  # Pyflakes codes (unused imports, undefined names)
  "N",  # Naming conventions (variable/function/class naming)
  "R",  # Refactor suggestions (complexity, code quality improvements)
]

[project.scripts]
tigergraph-mcp = "tigergraph_mcp.main:main"

[tool.poe.tasks]
# Start MCP Server
start_mcp_server = "python -m tigergraph_mcp.main"

# Integration Test
integration_test = {cmd = "pytest -vs ./tests/integration --html=htmlcov/it-report.html", env = {PYTHONDONTWRITEBYTECODE = "1"}}

# Agentic AI
chatbot_langgraph = "python -m examples.chatbot_langgraph.main"
chatbot_crewai = "panel serve examples/chatbot_crewai/main.py"
