import{dP as xe,K as i,d as U,at as ne,dQ as Ee,dF as qe,dR as We,dS as Ge,F,ao as le,ah as q,ae as z,ag as V,aj as Re,ap as ae,dT as xt,ar as Le,as as ze,ai as Q,b9 as Xe,dU as Ct,r as T,az as H,cu as Ke,ay as Ze,cc as Be,bN as Te,aE as be,cd as De,bH as kt,cp as Ie,cq as Rt,aw as fe,dV as Ce,b5 as Ye,bB as zt,dW as Ue,V as $t,B as Z,dX as Pt,co as St,dY as Lt,bK as Bt,dZ as Tt,d_ as Dt,X as It,d$ as Ut,a4 as pe,e0 as Mt,c1 as Ot,am as Ft,e1 as Me,aT as he,c as E,e as I,f as k,G as se,u as te,P as me,a as ie,o as ve,C as ee,I as $e,j as d,J as re,w as y,h as v,p as _e,k as Je,l as jt,t as D,cC as Vt,Y as Nt,e2 as At,a0 as Oe,N as ue,n as A,a1 as Pe,e3 as Ht,a9 as Se,bw as Et,H as qt,Z as Qe,cM as Wt,x as we,aW as et,bs as Gt,L as tt,M as Xt,aK as Kt,cy as Zt,R as Yt,S as nt,U as rt,a3 as it,a5 as ot,a7 as de,i as lt,ab as Fe,a6 as at}from"./index-KHiidVve.js";import{_ as st,a as ct}from"./FormItem-BLErRK4c.js";import{C as Jt}from"./CommingSoon-CtPnd3mF.js";import{_ as Qt}from"./Alert-JPiDiWyN.js";import{A as en}from"./Add-CUOykUgu.js";import"./index-kXdYNgTn.js";import{A as tn}from"./Add-CUVNZISR.js";import{b as nn,a as rn}from"./Tabs-7QiGpSYZ.js";import"./debounce-MHG2Ws0B.js";const on=xe("attach",()=>i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),ln=xe("cancel",()=>i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),an=xe("retry",()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),i("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),sn=xe("trash",()=>i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),cn={success:i(Ge,null),error:i(We,null),warning:i(qe,null),info:i(Ee,null)},dn=U({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:[String,Object],railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:n}){function t(a,s,r,u){const{gapDegree:o,viewBoxWidth:g,strokeWidth:c}=e,p=50,_=0,C=p,f=0,w=2*p,L=50+c/2,S=`M ${L},${L} m ${_},${C}
      a ${p},${p} 0 1 1 ${f},-100
      a ${p},${p} 0 1 1 0,${w}`,P=Math.PI*2*p,$={stroke:u==="rail"?r:typeof e.fillColor=="object"?"url(#gradient)":r,strokeDasharray:`${a/100*(P-o)}px ${g*8}px`,strokeDashoffset:`-${o/2}px`,transformOrigin:s?"center":void 0,transform:s?`rotate(${s}deg)`:void 0};return{pathString:S,pathStyle:$}}const l=()=>{const a=typeof e.fillColor=="object",s=a?e.fillColor.stops[0]:"",r=a?e.fillColor.stops[1]:"";return a&&i("defs",null,i("linearGradient",{id:"gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%"},i("stop",{offset:"0%","stop-color":s}),i("stop",{offset:"100%","stop-color":r})))};return()=>{const{fillColor:a,railColor:s,strokeWidth:r,offsetDegree:u,status:o,percentage:g,showIndicator:c,indicatorTextColor:p,unit:_,gapOffsetDegree:C,clsPrefix:f}=e,{pathString:w,pathStyle:L}=t(100,0,s,"rail"),{pathString:S,pathStyle:P}=t(g,u,a,"fill"),$=100+r;return i("div",{class:`${f}-progress-content`,role:"none"},i("div",{class:`${f}-progress-graph`,"aria-hidden":!0},i("div",{class:`${f}-progress-graph-circle`,style:{transform:C?`rotate(${C}deg)`:void 0}},i("svg",{viewBox:`0 0 ${$} ${$}`},l(),i("g",null,i("path",{class:`${f}-progress-graph-circle-rail`,d:w,"stroke-width":r,"stroke-linecap":"round",fill:"none",style:L})),i("g",null,i("path",{class:[`${f}-progress-graph-circle-fill`,g===0&&`${f}-progress-graph-circle-fill--empty`],d:S,"stroke-width":r,"stroke-linecap":"round",fill:"none",style:P}))))),c?i("div",null,n.default?i("div",{class:`${f}-progress-custom-content`,role:"none"},n.default()):o!=="default"?i("div",{class:`${f}-progress-icon`,"aria-hidden":!0},i(ne,{clsPrefix:f},{default:()=>cn[o]})):i("div",{class:`${f}-progress-text`,style:{color:p},role:"none"},i("span",{class:`${f}-progress-text__percentage`},g),i("span",{class:`${f}-progress-text__unit`},_))):null)}}}),un={success:i(Ge,null),error:i(We,null),warning:i(qe,null),info:i(Ee,null)},gn=U({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:[String,Object],status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:n}){const t=F(()=>le(e.height)),l=F(()=>{var r,u;return typeof e.fillColor=="object"?`linear-gradient(to right, ${(r=e.fillColor)===null||r===void 0?void 0:r.stops[0]} , ${(u=e.fillColor)===null||u===void 0?void 0:u.stops[1]})`:e.fillColor}),a=F(()=>e.railBorderRadius!==void 0?le(e.railBorderRadius):e.height!==void 0?le(e.height,{c:.5}):""),s=F(()=>e.fillBorderRadius!==void 0?le(e.fillBorderRadius):e.railBorderRadius!==void 0?le(e.railBorderRadius):e.height!==void 0?le(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:r,railColor:u,railStyle:o,percentage:g,unit:c,indicatorTextColor:p,status:_,showIndicator:C,processing:f,clsPrefix:w}=e;return i("div",{class:`${w}-progress-content`,role:"none"},i("div",{class:`${w}-progress-graph`,"aria-hidden":!0},i("div",{class:[`${w}-progress-graph-line`,{[`${w}-progress-graph-line--indicator-${r}`]:!0}]},i("div",{class:`${w}-progress-graph-line-rail`,style:[{backgroundColor:u,height:t.value,borderRadius:a.value},o]},i("div",{class:[`${w}-progress-graph-line-fill`,f&&`${w}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,background:l.value,height:t.value,lineHeight:t.value,borderRadius:s.value}},r==="inside"?i("div",{class:`${w}-progress-graph-line-indicator`,style:{color:p}},n.default?n.default():`${g}${c}`):null)))),C&&r==="outside"?i("div",null,n.default?i("div",{class:`${w}-progress-custom-content`,style:{color:p},role:"none"},n.default()):_==="default"?i("div",{role:"none",class:`${w}-progress-icon ${w}-progress-icon--as-text`,style:{color:p}},g,c):i("div",{class:`${w}-progress-icon`,"aria-hidden":!0},i(ne,{clsPrefix:w},{default:()=>un[_]}))):null)}}});function je(e,n,t=100){return`m ${t/2} ${t/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const fn=U({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:n}){const t=F(()=>e.percentage.map((s,r)=>`${Math.PI*s/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*r)-e.circleGap*r)*2}, ${e.viewBoxWidth*8}`)),l=(a,s)=>{const r=e.fillColor[s],u=typeof r=="object"?r.stops[0]:"",o=typeof r=="object"?r.stops[1]:"";return typeof e.fillColor[s]=="object"&&i("linearGradient",{id:`gradient-${s}`,x1:"100%",y1:"0%",x2:"0%",y2:"100%"},i("stop",{offset:"0%","stop-color":u}),i("stop",{offset:"100%","stop-color":o}))};return()=>{const{viewBoxWidth:a,strokeWidth:s,circleGap:r,showIndicator:u,fillColor:o,railColor:g,railStyle:c,percentage:p,clsPrefix:_}=e;return i("div",{class:`${_}-progress-content`,role:"none"},i("div",{class:`${_}-progress-graph`,"aria-hidden":!0},i("div",{class:`${_}-progress-graph-circle`},i("svg",{viewBox:`0 0 ${a} ${a}`},i("defs",null,p.map((C,f)=>l(C,f))),p.map((C,f)=>i("g",{key:f},i("path",{class:`${_}-progress-graph-circle-rail`,d:je(a/2-s/2*(1+2*f)-r*f,s,a),"stroke-width":s,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:g[f]},c[f]]}),i("path",{class:[`${_}-progress-graph-circle-fill`,C===0&&`${_}-progress-graph-circle-fill--empty`],d:je(a/2-s/2*(1+2*f)-r*f,s,a),"stroke-width":s,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:t.value[f],strokeDashoffset:0,stroke:typeof o[f]=="object"?`url(#gradient-${f})`:o[f]}})))))),u&&n.default?i("div",null,i("div",{class:`${_}-progress-text`},n.default())):null)}}}),pn=q([z("progress",{display:"inline-block"},[z("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),V("line",`
 width: 100%;
 display: block;
 `,[z("progress-content",`
 display: flex;
 align-items: center;
 `,[z("progress-graph",{flex:1})]),z("progress-custom-content",{marginLeft:"14px"}),z("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[V("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),V("circle, dashboard",{width:"120px"},[z("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),z("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),z("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),V("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[z("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),z("progress-content",{position:"relative"}),z("progress-graph",{position:"relative"},[z("progress-graph-circle",[q("svg",{verticalAlign:"bottom"}),z("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[V("empty",{opacity:0})]),z("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),z("progress-graph-line",[V("indicator-inside",[z("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[z("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),z("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),V("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[z("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),z("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),z("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[z("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[V("processing",[q("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),q("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),hn=Object.assign(Object.assign({},ae.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array,Object],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),mn=U({name:"Progress",props:hn,setup(e){const n=F(()=>e.indicatorPlacement||e.indicatorPosition),t=F(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:l,inlineThemeDisabled:a}=Re(e),s=ae("Progress","-progress",pn,xt,e,l),r=F(()=>{const{status:o}=e,{common:{cubicBezierEaseInOut:g},self:{fontSize:c,fontSizeCircle:p,railColor:_,railHeight:C,iconSizeCircle:f,iconSizeLine:w,textColorCircle:L,textColorLineInner:S,textColorLineOuter:P,lineBgProcessing:$,fontWeightCircle:R,[Le("iconColor",o)]:h,[Le("fillColor",o)]:m}}=s.value;return{"--n-bezier":g,"--n-fill-color":m,"--n-font-size":c,"--n-font-size-circle":p,"--n-font-weight-circle":R,"--n-icon-color":h,"--n-icon-size-circle":f,"--n-icon-size-line":w,"--n-line-bg-processing":$,"--n-rail-color":_,"--n-rail-height":C,"--n-text-color-circle":L,"--n-text-color-line-inner":S,"--n-text-color-line-outer":P}}),u=a?ze("progress",F(()=>e.status[0]),r,e):void 0;return{mergedClsPrefix:l,mergedIndicatorPlacement:n,gapDeg:t,cssVars:a?void 0:r,themeClass:u==null?void 0:u.themeClass,onRender:u==null?void 0:u.onRender}},render(){const{type:e,cssVars:n,indicatorTextColor:t,showIndicator:l,status:a,railColor:s,railStyle:r,color:u,percentage:o,viewBoxWidth:g,strokeWidth:c,mergedIndicatorPlacement:p,unit:_,borderRadius:C,fillBorderRadius:f,height:w,processing:L,circleGap:S,mergedClsPrefix:P,gapDeg:$,gapOffsetDegree:R,themeClass:h,$slots:m,onRender:x}=this;return x==null||x(),i("div",{class:[h,`${P}-progress`,`${P}-progress--${e}`,`${P}-progress--${a}`],style:n,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?i(dn,{clsPrefix:P,status:a,showIndicator:l,indicatorTextColor:t,railColor:s,fillColor:u,railStyle:r,offsetDegree:this.offsetDegree,percentage:o,viewBoxWidth:g,strokeWidth:c,gapDegree:$===void 0?e==="dashboard"?75:0:$,gapOffsetDegree:R,unit:_},m):e==="line"?i(gn,{clsPrefix:P,status:a,showIndicator:l,indicatorTextColor:t,railColor:s,fillColor:u,railStyle:r,percentage:o,processing:L,indicatorPlacement:p,unit:_,fillBorderRadius:f,railBorderRadius:C,height:w},m):e==="multiple-circle"?i(fn,{clsPrefix:P,strokeWidth:c,railColor:s,fillColor:u,railStyle:r,viewBoxWidth:g,percentage:o,showIndicator:l,circleGap:S},m):null)}}),vn=z("split",`
 display: flex;
 width: 100%;
 height: 100%;
`,[V("horizontal",`
 flex-direction: row;
 `),V("vertical",`
 flex-direction: column;
 `),z("split-pane-1",`
 overflow: hidden;
 `),z("split-pane-2",`
 overflow: hidden;
 flex: 1;
 `),Q("resize-trigger",`
 background-color: var(--n-resize-trigger-color);
 transition: background-color .3s var(--n-bezier);
 `,[V("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `),q("&:hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)])]),_n=Object.assign(Object.assign({},ae.props),{direction:{type:String,default:"horizontal"},resizeTriggerSize:{type:Number,default:3},disabled:Boolean,defaultSize:{type:[String,Number],default:.5},"onUpdate:size":[Function,Array],onUpdateSize:[Function,Array],size:[String,Number],min:{type:[String,Number],default:0},max:{type:[String,Number],default:1},pane1Class:String,pane1Style:[Object,String],pane2Class:String,pane2Style:[Object,String],onDragStart:Function,onDragMove:Function,onDragEnd:Function,watchProps:Array}),yn=U({name:"Split",props:_n,slots:Object,setup(e){var n;const{mergedClsPrefixRef:t,inlineThemeDisabled:l}=Re(e),a=ae("Split","-split",vn,Ct,e,t),s=F(()=>{const{common:{cubicBezierEaseInOut:$},self:{resizableTriggerColor:R,resizableTriggerColorHover:h}}=a.value;return{"--n-bezier":$,"--n-resize-trigger-color":R,"--n-resize-trigger-color-hover":h}}),r=T(null),u=T(!1),o=H(e,"size"),g=T(e.defaultSize);!((n=e.watchProps)===null||n===void 0)&&n.includes("defaultSize")&&Ke(()=>g.value=e.defaultSize);const c=$=>{const R=e["onUpdate:size"];e.onUpdateSize&&be(e.onUpdateSize,$),R&&be(R,$),g.value=$},p=Ze(o,g),_=F(()=>{const $=p.value;if(typeof $=="string")return{flex:`0 0 ${$}`};if(typeof $=="number"){const R=$*100;return{flex:`0 0 calc(${R}% - ${e.resizeTriggerSize*R/100}px)`}}}),C=F(()=>e.direction==="horizontal"?{width:`${e.resizeTriggerSize}px`,height:"100%"}:{width:"100%",height:`${e.resizeTriggerSize}px`}),f=F(()=>{const $=e.direction==="horizontal";return{width:$?`${e.resizeTriggerSize}px`:"",height:$?"":`${e.resizeTriggerSize}px`,cursor:e.direction==="horizontal"?"col-resize":"row-resize"}});let w=0;const L=$=>{$.preventDefault(),u.value=!0,e.onDragStart&&e.onDragStart($);const R="mousemove",h="mouseup",m=b=>{S(b),e.onDragMove&&e.onDragMove(b)},x=()=>{De(R,document,m),De(h,document,x),u.value=!1,e.onDragEnd&&e.onDragEnd($),document.body.style.cursor=""};document.body.style.cursor=f.value.cursor,Be(R,document,m),Be(h,document,x);const B=r.value;if(B){const b=B.getBoundingClientRect();e.direction==="horizontal"?w=$.clientX-b.left:w=b.top-$.clientY}S($)};function S($){var R,h;const m=(h=(R=r.value)===null||R===void 0?void 0:R.parentElement)===null||h===void 0?void 0:h.getBoundingClientRect();if(!m)return;const{direction:x}=e,B=m.width-e.resizeTriggerSize,b=m.height-e.resizeTriggerSize,M=x==="horizontal"?B:b,N=x==="horizontal"?$.clientX-m.left-w:$.clientY-m.top+w,{min:W,max:j}=e,X=typeof W=="string"?Te(W):W*M,G=typeof j=="string"?Te(j):j*M;let O=N;O=Math.max(O,X),O=Math.min(O,G,M),typeof p.value=="string"?c(`${O}px`):c(O/M)}const P=l?ze("split",void 0,s,e):void 0;return{themeClass:P==null?void 0:P.themeClass,onRender:P==null?void 0:P.onRender,cssVars:l?void 0:s,resizeTriggerElRef:r,isDragging:u,mergedClsPrefix:t,resizeTriggerWrapperStyle:f,resizeTriggerStyle:C,handleMouseDown:L,firstPaneStyle:_}},render(){var e,n,t,l,a;return(e=this.onRender)===null||e===void 0||e.call(this),i("div",{class:[`${this.mergedClsPrefix}-split`,`${this.mergedClsPrefix}-split--${this.direction}`,this.themeClass],style:this.cssVars},i("div",{class:[`${this.mergedClsPrefix}-split-pane-1`,this.pane1Class],style:[this.firstPaneStyle,this.pane1Style]},(t=(n=this.$slots)[1])===null||t===void 0?void 0:t.call(n)),!this.disabled&&i("div",{ref:"resizeTriggerElRef",class:`${this.mergedClsPrefix}-split__resize-trigger-wrapper`,style:this.resizeTriggerWrapperStyle,onMousedown:this.handleMouseDown},Xe(this.$slots["resize-trigger"],()=>[i("div",{style:this.resizeTriggerStyle,class:[`${this.mergedClsPrefix}-split__resize-trigger`,this.isDragging&&`${this.mergedClsPrefix}-split__resize-trigger--hover`]})])),i("div",{class:[`${this.mergedClsPrefix}-split-pane-2`,this.pane2Class],style:this.pane2Style},(a=(l=this.$slots)[2])===null||a===void 0?void 0:a.call(l)))}}),ce=kt("n-upload"),wn=q([z("upload","width: 100%;",[V("dragger-inside",[z("upload-trigger",`
 display: block;
 `)]),V("drag-over",[z("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),z("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[q("&:hover",`
 border: var(--n-dragger-border-hover);
 `),V("disabled",`
 cursor: not-allowed;
 `)]),z("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[q("+",[z("upload-file-list","margin-top: 8px;")]),V("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),V("image-card",`
 width: 96px;
 height: 96px;
 `,[z("base-icon",`
 font-size: 24px;
 `),z("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),z("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[q("a, img","outline: none;"),V("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[z("upload-file","cursor: not-allowed;")]),V("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),z("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ie(),z("progress",[Ie({foldPadding:!0})]),q("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[z("upload-file-info",[Q("action",`
 opacity: 1;
 `)])]),V("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[z("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[z("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Q("name",`
 padding: 0 8px;
 `),Q("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[q("img",`
 width: 100%;
 `)])])]),V("text-type",[z("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),V("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[z("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),z("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Q("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[q("img",`
 width: 100%;
 `)])]),q("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),q("&:hover",[q("&::before","opacity: 1;"),z("upload-file-info",[Q("thumbnail","opacity: .12;")])])]),V("error-status",[q("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),z("upload-file-info",[Q("name","color: var(--n-item-text-color-error);"),Q("thumbnail","color: var(--n-item-text-color-error);")]),V("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),V("with-url",`
 cursor: pointer;
 `,[z("upload-file-info",[Q("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[q("a",`
 text-decoration: underline;
 `)])])]),z("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Q("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[z("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Q("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[z("button",[q("&:not(:last-child)",{marginRight:"4px"}),z("base-icon",[q("svg",[Rt()])])]),V("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),V("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Q("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[q("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),z("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]),dt="__UPLOAD_DRAGGER__",bn=U({name:"UploadDragger",[dt]:!0,setup(e,{slots:n}){const t=fe(ce,null);return t||Ce("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:l},mergedDisabledRef:{value:a},maxReachedRef:{value:s}}=t;return i("div",{class:[`${l}-upload-dragger`,(a||s)&&`${l}-upload-dragger--disabled`]},n)}}}),xn=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},i("g",{fill:"none"},i("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Cn=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},i("g",{fill:"none"},i("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"}))),kn=U({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:fe(ce).mergedThemeRef}},render(){return i(Ye,null,{default:()=>this.show?i(mn,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}});var ke=function(e,n,t,l){function a(s){return s instanceof t?s:new t(function(r){r(s)})}return new(t||(t=Promise))(function(s,r){function u(c){try{g(l.next(c))}catch(p){r(p)}}function o(c){try{g(l.throw(c))}catch(p){r(p)}}function g(c){c.done?s(c.value):a(c.value).then(u,o)}g((l=l.apply(e,n||[])).next())})};function ut(e){return e.includes("image/")}function Ve(e=""){const n=e.split("/"),l=n[n.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(l)||[""])[0]}const Ne=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,gt=e=>{if(e.type)return ut(e.type);const n=Ve(e.name||"");if(Ne.test(n))return!0;const t=e.thumbnailUrl||e.url||"",l=Ve(t);return!!(/^data:image\//.test(t)||Ne.test(l))};function Rn(e){return ke(this,void 0,void 0,function*(){return yield new Promise(n=>{if(!e.type||!ut(e.type)){n("");return}n(window.URL.createObjectURL(e))})})}const zn=zt&&window.FileReader&&window.File;function $n(e){return e.isDirectory}function Pn(e){return e.isFile}function Sn(e,n){return ke(this,void 0,void 0,function*(){const t=[];function l(a){return ke(this,void 0,void 0,function*(){for(const s of a)if(s){if(n&&$n(s)){const r=s.createReader();let u=[],o;try{do o=yield new Promise((g,c)=>{r.readEntries(g,c)}),u=u.concat(o);while(o.length>0)}catch(g){Ue("upload","error happens when handling directory upload",g)}yield l(u)}else if(Pn(s))try{const r=yield new Promise((u,o)=>{s.file(u,o)});t.push({file:r,entry:s,source:"dnd"})}catch(r){Ue("upload","error happens when handling file upload",r)}}})}return yield l(e),t})}function ge(e){const{id:n,name:t,percentage:l,status:a,url:s,file:r,thumbnailUrl:u,type:o,fullPath:g,batchId:c}=e;return{id:n,name:t,percentage:l??null,status:a,url:s??null,file:r??null,thumbnailUrl:u??null,type:o??null,fullPath:g??null,batchId:c??null}}function Ln(e,n,t){return e=e.toLowerCase(),n=n.toLocaleLowerCase(),t=t.toLocaleLowerCase(),t.split(",").map(a=>a.trim()).filter(Boolean).some(a=>{if(a.startsWith(".")){if(e.endsWith(a))return!0}else if(a.includes("/")){const[s,r]=n.split("/"),[u,o]=a.split("/");if((u==="*"||s&&u&&u===s)&&(o==="*"||r&&o&&o===r))return!0}else return!0;return!1})}var Ae=function(e,n,t,l){function a(s){return s instanceof t?s:new t(function(r){r(s)})}return new(t||(t=Promise))(function(s,r){function u(c){try{g(l.next(c))}catch(p){r(p)}}function o(c){try{g(l.throw(c))}catch(p){r(p)}}function g(c){c.done?s(c.value):a(c.value).then(u,o)}g((l=l.apply(e,n||[])).next())})};const ye={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Bn=U({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0},index:{type:Number,required:!0}},setup(e){const n=fe(ce),t=T(null),l=T(""),a=F(()=>{const{file:h}=e;return h.status==="finished"?"success":h.status==="error"?"error":"info"}),s=F(()=>{const{file:h}=e;if(h.status==="error")return"error"}),r=F(()=>{const{file:h}=e;return h.status==="uploading"}),u=F(()=>{if(!n.showCancelButtonRef.value)return!1;const{file:h}=e;return["uploading","pending","error"].includes(h.status)}),o=F(()=>{if(!n.showRemoveButtonRef.value)return!1;const{file:h}=e;return["finished"].includes(h.status)}),g=F(()=>{if(!n.showDownloadButtonRef.value)return!1;const{file:h}=e;return["finished"].includes(h.status)}),c=F(()=>{if(!n.showRetryButtonRef.value)return!1;const{file:h}=e;return["error"].includes(h.status)}),p=Bt(()=>l.value||e.file.thumbnailUrl||e.file.url),_=F(()=>{if(!n.showPreviewButtonRef.value)return!1;const{file:{status:h},listType:m}=e;return["finished"].includes(h)&&p.value&&m==="image-card"});function C(){return Ae(this,void 0,void 0,function*(){const h=n.onRetryRef.value;h&&(yield h({file:e.file}))===!1||n.submit(e.file.id)})}function f(h){h.preventDefault();const{file:m}=e;["finished","pending","error"].includes(m.status)?L(m):["uploading"].includes(m.status)?P(m):Tt("upload","The button clicked type is unknown.")}function w(h){h.preventDefault(),S(e.file)}function L(h){const{xhrMap:m,doChange:x,onRemoveRef:{value:B},mergedFileListRef:{value:b}}=n;Promise.resolve(B?B({file:Object.assign({},h),fileList:b,index:e.index}):!0).then(M=>{if(M===!1)return;const N=Object.assign({},h,{status:"removed"});m.delete(h.id),x(N,void 0,{remove:!0})})}function S(h){const{onDownloadRef:{value:m},customDownloadRef:{value:x}}=n;Promise.resolve(m?m(Object.assign({},h)):!0).then(B=>{B!==!1&&(x?x(Object.assign({},h)):Dt(h.url,h.name))})}function P(h){const{xhrMap:m}=n,x=m.get(h.id);x==null||x.abort(),L(Object.assign({},h))}function $(h){const{onPreviewRef:{value:m}}=n;if(m)m(e.file,{event:h});else if(e.listType==="image-card"){const{value:x}=t;if(!x)return;x.click()}}const R=()=>Ae(this,void 0,void 0,function*(){const{listType:h}=e;h!=="image"&&h!=="image-card"||n.shouldUseThumbnailUrlRef.value(e.file)&&(l.value=yield n.getFileThumbnailUrlResolver(e.file))});return Ke(()=>{R()}),{mergedTheme:n.mergedThemeRef,progressStatus:a,buttonType:s,showProgress:r,disabled:n.mergedDisabledRef,showCancelButton:u,showRemoveButton:o,showDownloadButton:g,showRetryButton:c,showPreviewButton:_,mergedThumbnailUrl:p,shouldUseThumbnailUrl:n.shouldUseThumbnailUrlRef,renderIcon:n.renderIconRef,imageRef:t,handleRemoveOrCancelClick:f,handleDownloadClick:w,handleRetryClick:C,handlePreviewClick:$}},render(){const{clsPrefix:e,mergedTheme:n,listType:t,file:l,renderIcon:a}=this;let s;const r=t==="image";r||t==="image-card"?s=!this.shouldUseThumbnailUrl(l)||!this.mergedThumbnailUrl?i("span",{class:`${e}-upload-file-info__thumbnail`},a?a(l):gt(l)?i(ne,{clsPrefix:e},{default:xn}):i(ne,{clsPrefix:e},{default:Cn})):i("a",{rel:"noopener noreferer",target:"_blank",href:l.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},t==="image-card"?i($t,{src:this.mergedThumbnailUrl||void 0,previewSrc:l.url||void 0,alt:l.name,ref:"imageRef"}):i("img",{src:this.mergedThumbnailUrl||void 0,alt:l.name})):s=i("span",{class:`${e}-upload-file-info__thumbnail`},a?a(l):i(ne,{clsPrefix:e},{default:()=>i(on,null)}));const o=i(kn,{show:this.showProgress,percentage:l.percentage||0,status:this.progressStatus}),g=t==="text"||t==="image";return i("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,l.url&&l.status!=="error"&&t!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${t}-type`]},i("div",{class:`${e}-upload-file-info`},s,i("div",{class:`${e}-upload-file-info__name`},g&&(l.url&&l.status!=="error"?i("a",{rel:"noopener noreferer",target:"_blank",href:l.url||void 0,onClick:this.handlePreviewClick},l.name):i("span",{onClick:this.handlePreviewClick},l.name)),r&&o),i("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${t}-type`]},this.showPreviewButton?i(Z,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>i(ne,{clsPrefix:e},{default:()=>i(Pt,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&i(Z,{key:"cancelOrTrash",theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ye,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>i(St,null,{default:()=>this.showRemoveButton?i(ne,{clsPrefix:e,key:"trash"},{default:()=>i(sn,null)}):i(ne,{clsPrefix:e,key:"cancel"},{default:()=>i(ln,null)})})}),this.showRetryButton&&!this.disabled&&i(Z,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>i(ne,{clsPrefix:e},{default:()=>i(an,null)})}),this.showDownloadButton?i(Z,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:ye},{icon:()=>i(ne,{clsPrefix:e},{default:()=>i(Lt,null)})}):null)),!r&&o)}}),ft=U({name:"UploadTrigger",props:{abstract:Boolean},slots:Object,setup(e,{slots:n}){const t=fe(ce,null);t||Ce("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:l,mergedDisabledRef:a,maxReachedRef:s,listTypeRef:r,dragOverRef:u,openOpenFileDialog:o,draggerInsideRef:g,handleFileAddition:c,mergedDirectoryDndRef:p,triggerClassRef:_,triggerStyleRef:C}=t,f=F(()=>r.value==="image-card");function w(){a.value||s.value||o()}function L(R){R.preventDefault(),u.value=!0}function S(R){R.preventDefault(),u.value=!0}function P(R){R.preventDefault(),u.value=!1}function $(R){var h;if(R.preventDefault(),!g.value||a.value||s.value){u.value=!1;return}const m=(h=R.dataTransfer)===null||h===void 0?void 0:h.items;m!=null&&m.length?Sn(Array.from(m).map(x=>x.webkitGetAsEntry()),p.value).then(x=>{c(x)}).finally(()=>{u.value=!1}):u.value=!1}return()=>{var R;const{value:h}=l;return e.abstract?(R=n.default)===null||R===void 0?void 0:R.call(n,{handleClick:w,handleDrop:$,handleDragOver:L,handleDragEnter:S,handleDragLeave:P}):i("div",{class:[`${h}-upload-trigger`,(a.value||s.value)&&`${h}-upload-trigger--disabled`,f.value&&`${h}-upload-trigger--image-card`,_.value],style:C.value,onClick:w,onDrop:$,onDragover:L,onDragenter:S,onDragleave:P},f.value?i(bn,null,{default:()=>Xe(n.default,()=>[i(ne,{clsPrefix:h},{default:()=>i(en,null)})])}):n)}}}),Tn=U({name:"UploadFileList",setup(e,{slots:n}){const t=fe(ce,null);t||Ce("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:l,mergedClsPrefixRef:a,listTypeRef:s,mergedFileListRef:r,fileListClassRef:u,fileListStyleRef:o,cssVarsRef:g,themeClassRef:c,maxReachedRef:p,showTriggerRef:_,imageGroupPropsRef:C}=t,f=F(()=>s.value==="image-card"),w=()=>r.value.map((S,P)=>i(Bn,{clsPrefix:a.value,key:S.id,file:S,index:P,listType:s.value})),L=()=>f.value?i(It,Object.assign({},C.value),{default:w}):i(Ye,{group:!0},{default:w});return()=>{const{value:S}=a,{value:P}=l;return i("div",{class:[`${S}-upload-file-list`,f.value&&`${S}-upload-file-list--grid`,P?c==null?void 0:c.value:void 0,u.value],style:[P&&g?g.value:"",o.value]},L(),_.value&&!p.value&&f.value&&i(ft,null,n))}}});var He=function(e,n,t,l){function a(s){return s instanceof t?s:new t(function(r){r(s)})}return new(t||(t=Promise))(function(s,r){function u(c){try{g(l.next(c))}catch(p){r(p)}}function o(c){try{g(l.throw(c))}catch(p){r(p)}}function g(c){c.done?s(c.value):a(c.value).then(u,o)}g((l=l.apply(e,n||[])).next())})};function Dn(e,n,t){const{doChange:l,xhrMap:a}=e;let s=0;function r(o){var g;let c=Object.assign({},n,{status:"error",percentage:s});a.delete(n.id),c=ge(((g=e.onError)===null||g===void 0?void 0:g.call(e,{file:c,event:o}))||c),l(c,o)}function u(o){var g;if(e.isErrorState){if(e.isErrorState(t)){r(o);return}}else if(t.status<200||t.status>=300){r(o);return}let c=Object.assign({},n,{status:"finished",percentage:s});a.delete(n.id),c=ge(((g=e.onFinish)===null||g===void 0?void 0:g.call(e,{file:c,event:o}))||c),l(c,o)}return{handleXHRLoad:u,handleXHRError:r,handleXHRAbort(o){const g=Object.assign({},n,{status:"removed",file:null,percentage:s});a.delete(n.id),l(g,o)},handleXHRProgress(o){const g=Object.assign({},n,{status:"uploading"});if(o.lengthComputable){const c=Math.ceil(o.loaded/o.total*100);g.percentage=c,s=c}l(g,o)}}}function In(e){const{inst:n,file:t,data:l,headers:a,withCredentials:s,action:r,customRequest:u}=e,{doChange:o}=e.inst;let g=0;u({file:t,data:l,headers:a,withCredentials:s,action:r,onProgress(c){const p=Object.assign({},t,{status:"uploading"}),_=c.percent;p.percentage=_,g=_,o(p)},onFinish(){var c;let p=Object.assign({},t,{status:"finished",percentage:g});p=ge(((c=n.onFinish)===null||c===void 0?void 0:c.call(n,{file:p}))||p),o(p)},onError(){var c;let p=Object.assign({},t,{status:"error",percentage:g});p=ge(((c=n.onError)===null||c===void 0?void 0:c.call(n,{file:p}))||p),o(p)}})}function Un(e,n,t){const l=Dn(e,n,t);t.onabort=l.handleXHRAbort,t.onerror=l.handleXHRError,t.onload=l.handleXHRLoad,t.upload&&(t.upload.onprogress=l.handleXHRProgress)}function pt(e,n){return typeof e=="function"?e({file:n}):e||{}}function Mn(e,n,t){const l=pt(n,t);l&&Object.keys(l).forEach(a=>{e.setRequestHeader(a,l[a])})}function On(e,n,t){const l=pt(n,t);l&&Object.keys(l).forEach(a=>{e.append(a,l[a])})}function Fn(e,n,t,{method:l,action:a,withCredentials:s,responseType:r,headers:u,data:o}){const g=new XMLHttpRequest;g.responseType=r,e.xhrMap.set(t.id,g),g.withCredentials=s;const c=new FormData;if(On(c,o,t),t.file!==null&&c.append(n,t.file),Un(e,t,g),a!==void 0){g.open(l.toUpperCase(),a),Mn(g,u,t),g.send(c);const p=Object.assign({},t,{status:"uploading"});e.doChange(p)}}const jn=Object.assign(Object.assign({},ae.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onRetry:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,customDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>zn?gt(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Vn=U({name:"Upload",props:jn,setup(e){e.abstract&&e.listType==="image-card"&&Ce("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:n,inlineThemeDisabled:t}=Re(e),l=ae("Upload","-upload",wn,Mt,e,n),a=Ot(e),s=T(e.defaultFileList),r=H(e,"fileList"),u=T(null),o={value:!1},g=T(!1),c=new Map,p=Ze(r,s),_=F(()=>p.value.map(ge)),C=F(()=>{const{max:b}=e;return b!==void 0?_.value.length>=b:!1});function f(){var b;(b=u.value)===null||b===void 0||b.click()}function w(b){const M=b.target;$(M.files?Array.from(M.files).map(N=>({file:N,entry:null,source:"input"})):null,b),M.value=""}function L(b){const{"onUpdate:fileList":M,onUpdateFileList:N}=e;M&&be(M,b),N&&be(N,b),s.value=b}const S=F(()=>e.multiple||e.directory),P=(b,M,N={append:!1,remove:!1})=>{const{append:W,remove:j}=N,X=Array.from(_.value),G=X.findIndex(O=>O.id===b.id);if(W||j||~G){W?X.push(b):j?X.splice(G,1):X.splice(G,1,b);const{onChange:O}=e;O&&O({file:b,fileList:X,event:M}),L(X)}};function $(b,M){if(!b||b.length===0)return;const{onBeforeUpload:N}=e;b=S.value?b:[b[0]];const{max:W,accept:j}=e;b=b.filter(({file:G,source:O})=>O==="dnd"&&(j!=null&&j.trim())?Ln(G.name,G.type,j):!0),W&&(b=b.slice(0,W-_.value.length));const X=Me();Promise.all(b.map(G=>He(this,[G],void 0,function*({file:O,entry:J}){var Y;const K={id:Me(),batchId:X,name:O.name,status:"pending",percentage:0,file:O,url:null,type:O.type,thumbnailUrl:null,fullPath:(Y=J==null?void 0:J.fullPath)!==null&&Y!==void 0?Y:`/${O.webkitRelativePath||O.name}`};return!N||(yield N({file:K,fileList:_.value}))!==!1?K:null}))).then(G=>He(this,void 0,void 0,function*(){let O=Promise.resolve();G.forEach(J=>{O=O.then(he).then(()=>{J&&P(J,M,{append:!0})})}),yield O})).then(()=>{e.defaultUpload&&R()})}function R(b){const{method:M,action:N,withCredentials:W,headers:j,data:X,name:G}=e,O=b!==void 0?_.value.filter(Y=>Y.id===b):_.value,J=b!==void 0;O.forEach(Y=>{const{status:K}=Y;(K==="pending"||K==="error"&&J)&&(e.customRequest?In({inst:{doChange:P,xhrMap:c,onFinish:e.onFinish,onError:e.onError},file:Y,action:N,withCredentials:W,headers:j,data:X,customRequest:e.customRequest}):Fn({doChange:P,xhrMap:c,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},G,Y,{method:M,action:N,withCredentials:W,responseType:e.responseType,headers:j,data:X}))})}function h(b){var M;if(b.thumbnailUrl)return b.thumbnailUrl;const{createThumbnailUrl:N}=e;return N?(M=N(b.file,b))!==null&&M!==void 0?M:b.url||"":b.url?b.url:b.file?Rn(b.file):""}const m=F(()=>{const{common:{cubicBezierEaseInOut:b},self:{draggerColor:M,draggerBorder:N,draggerBorderHover:W,itemColorHover:j,itemColorHoverError:X,itemTextColorError:G,itemTextColorSuccess:O,itemTextColor:J,itemIconColor:Y,itemDisabledOpacity:K,lineHeight:oe,borderRadius:_t,fontSize:yt,itemBorderImageCardError:wt,itemBorderImageCard:bt}}=l.value;return{"--n-bezier":b,"--n-border-radius":_t,"--n-dragger-border":N,"--n-dragger-border-hover":W,"--n-dragger-color":M,"--n-font-size":yt,"--n-item-color-hover":j,"--n-item-color-hover-error":X,"--n-item-disabled-opacity":K,"--n-item-icon-color":Y,"--n-item-text-color":J,"--n-item-text-color-error":G,"--n-item-text-color-success":O,"--n-line-height":oe,"--n-item-border-image-card-error":wt,"--n-item-border-image-card":bt}}),x=t?ze("upload",void 0,m,e):void 0;Ft(ce,{mergedClsPrefixRef:n,mergedThemeRef:l,showCancelButtonRef:H(e,"showCancelButton"),showDownloadButtonRef:H(e,"showDownloadButton"),showRemoveButtonRef:H(e,"showRemoveButton"),showRetryButtonRef:H(e,"showRetryButton"),onRemoveRef:H(e,"onRemove"),onDownloadRef:H(e,"onDownload"),customDownloadRef:H(e,"customDownload"),mergedFileListRef:_,triggerClassRef:H(e,"triggerClass"),triggerStyleRef:H(e,"triggerStyle"),shouldUseThumbnailUrlRef:H(e,"shouldUseThumbnailUrl"),renderIconRef:H(e,"renderIcon"),xhrMap:c,submit:R,doChange:P,showPreviewButtonRef:H(e,"showPreviewButton"),onPreviewRef:H(e,"onPreview"),getFileThumbnailUrlResolver:h,listTypeRef:H(e,"listType"),dragOverRef:g,openOpenFileDialog:f,draggerInsideRef:o,handleFileAddition:$,mergedDisabledRef:a.mergedDisabledRef,maxReachedRef:C,fileListClassRef:H(e,"fileListClass"),fileListStyleRef:H(e,"fileListStyle"),abstractRef:H(e,"abstract"),acceptRef:H(e,"accept"),cssVarsRef:t?void 0:m,themeClassRef:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender,showTriggerRef:H(e,"showTrigger"),imageGroupPropsRef:H(e,"imageGroupProps"),mergedDirectoryDndRef:F(()=>{var b;return(b=e.directoryDnd)!==null&&b!==void 0?b:e.directory}),onRetryRef:H(e,"onRetry")});const B={clear:()=>{s.value=[]},submit:R,openOpenFileDialog:f};return Object.assign({mergedClsPrefix:n,draggerInsideRef:o,inputElRef:u,mergedTheme:l,dragOver:g,mergedMultiple:S,cssVars:t?void 0:m,themeClass:x==null?void 0:x.themeClass,onRender:x==null?void 0:x.onRender,handleFileInputChange:w},B)},render(){var e,n;const{draggerInsideRef:t,mergedClsPrefix:l,$slots:a,directory:s,onRender:r}=this;if(a.default&&!this.abstract){const o=a.default()[0];!((e=o==null?void 0:o.type)===null||e===void 0)&&e[dt]&&(t.value=!0)}const u=i("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${l}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:s||void 0,directory:s||void 0}));return this.abstract?i(pe,null,(n=a.default)===null||n===void 0?void 0:n.call(a),i(Ut,{to:"body"},u)):(r==null||r(),i("div",{class:[`${l}-upload`,t.value&&`${l}-upload--dragger-inside`,this.dragOver&&`${l}-upload--drag-over`,this.themeClass],style:this.cssVars},u,this.showTrigger&&this.listType!=="image-card"&&i(ft,null,a),this.showFileList&&i(Tn,null,a)))}}),Nn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},An=U({name:"Close",render:function(n,t){return I(),E("svg",Nn,t[0]||(t[0]=[k("path",{d:"M289.94 256l95-95A24 24 0 0 0 351 127l-95 95l-95-95a24 24 0 0 0-34 34l95 95l-95 95a24 24 0 1 0 34 34l95-95l95 95a24 24 0 0 0 34-34z",fill:"currentColor"},null,-1)]))}}),Hn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},En=U({name:"CloudUploadOutline",render:function(n,t){return I(),E("svg",Hn,t[0]||(t[0]=[k("path",{d:"M320 367.79h76c55 0 100-29.21 100-83.6s-53-81.47-96-83.6c-8.89-85.06-71-136.8-144-136.8c-69 0-113.44 45.79-128 91.2c-60 5.7-112 43.88-112 106.4s54 106.4 120 106.4h56",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),k("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M320 255.79l-64-64l-64 64"},null,-1),k("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 448.21V207.79"},null,-1)]))}}),qn={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Wn=U({name:"Play",render:function(n,t){return I(),E("svg",qn,t[0]||(t[0]=[k("path",{d:"M133 440a35.37 35.37 0 0 1-17.5-4.67c-12-6.8-19.46-20-19.46-34.33V111c0-14.37 7.46-27.53 19.46-34.33a35.13 35.13 0 0 1 35.77.45l247.85 148.36a36 36 0 0 1 0 61l-247.89 148.4A35.5 35.5 0 0 1 133 440z",fill:"currentColor"},null,-1)]))}});function Gn(e){return se(te.getPluginList,e)}function Xn(){return se(te.getLocalPluginList)}function Kn(e){return me(te.createPlugin,e)}function Zn(e){return se(te.getPluginVersions,e)}function Yn(e){return me(te.packagePlugin,e)}function Jn(e){return se(te.installPlugin,e)}function Qn(e){return se(te.unInstallPlugin,e)}function er(e){return me(te.globalVisible,e)}function tr(e){return me(te.updatePlugin,e)}function nr(e){return se(te.getPluginConfig,e)}const rr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ir=U({name:"InsertDriveFileOutlined",render:function(n,t){return I(),E("svg",rr,t[0]||(t[0]=[k("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zM6 20V4h7v5h5v11H6z",fill:"currentColor"},null,-1)]))}}),or={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ht=U({name:"InstallDesktopFilled",render:function(n,t){return I(),E("svg",or,t[0]||(t[0]=[k("path",{d:"M20 17H4V5h8V3H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h4v2h8v-2h4c1.1 0 2-.9 2-2v-3h-2v3z",fill:"currentColor"},null,-1),k("path",{d:"M17 14l5-5l-1.41-1.41L18 10.17V3h-2v7.17l-2.59-2.58L12 9z",fill:"currentColor"},null,-1)]))}}),lr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ar=U({name:"UpgradeFilled",render:function(n,t){return I(),E("svg",lr,t[0]||(t[0]=[k("path",{d:"M16 18v2H8v-2h8zM11 7.99V16h2V7.99h3L12 4L8 7.99h3z",fill:"currentColor"},null,-1)]))}}),sr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},cr=U({name:"Add12Regular",render:function(n,t){return I(),E("svg",sr,t[0]||(t[0]=[k("g",{fill:"none"},[k("path",{d:"M6 1.5a.5.5 0 0 0-1 0V5H1.5a.5.5 0 0 0 0 1H5v3.5a.5.5 0 0 0 1 0V6h3.5a.5.5 0 0 0 0-1H6V1.5z",fill:"currentColor"})],-1)]))}}),dr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ur=U({name:"Delete24Regular",render:function(n,t){return I(),E("svg",dr,t[0]||(t[0]=[k("g",{fill:"none"},[k("path",{d:"M12 1.75a3.25 3.25 0 0 1 3.245 3.066L15.25 5h5.25a.75.75 0 0 1 .102 1.493L20.5 6.5h-.796l-1.28 13.02a2.75 2.75 0 0 1-2.561 2.474l-.176.006H8.313a2.75 2.75 0 0 1-2.714-2.307l-.023-.174L4.295 6.5H3.5a.75.75 0 0 1-.743-.648L2.75 5.75a.75.75 0 0 1 .648-.743L3.5 5h5.25A3.25 3.25 0 0 1 12 1.75zm6.197 4.75H5.802l1.267 12.872a1.25 1.25 0 0 0 1.117 1.122l.127.006h7.374c.6 0 1.109-.425 1.225-1.002l.02-.126L18.196 6.5zM13.75 9.25a.75.75 0 0 1 .743.648L14.5 10v7a.75.75 0 0 1-1.493.102L13 17v-7a.75.75 0 0 1 .75-.75zm-3.5 0a.75.75 0 0 1 .743.648L11 10v7a.75.75 0 0 1-1.493.102L9.5 17v-7a.75.75 0 0 1 .75-.75zm1.75-6a1.75 1.75 0 0 0-1.744 1.606L10.25 5h3.5A1.75 1.75 0 0 0 12 3.25z",fill:"currentColor"})],-1)]))}}),gr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},fr=U({name:"UninstallApp24Regular",render:function(n,t){return I(),E("svg",gr,t[0]||(t[0]=[k("g",{fill:"none"},[k("path",{d:"M21.695 15.147l.084.072a.75.75 0 0 1 .072.977l-.072.084l-2.22 2.219l2.22 2.22a.75.75 0 0 1 .072.976l-.072.084a.75.75 0 0 1-.977.072l-.084-.072l-2.22-2.22l-2.218 2.22a.75.75 0 0 1-.976.072l-.085-.072a.75.75 0 0 1-.072-.977l.072-.084l2.219-2.22l-2.218-2.218a.75.75 0 0 1-.073-.976l.072-.085a.75.75 0 0 1 .977-.072l.084.072l2.219 2.219l2.22-2.218a.75.75 0 0 1 .976-.073zM18.75 3A2.25 2.25 0 0 1 21 5.25v5.25a2.25 2.25 0 0 1-2.25 2.25h-6v6A2.25 2.25 0 0 1 10.5 21H5.25A2.25 2.25 0 0 1 3 18.75V5.25A2.25 2.25 0 0 1 5.25 3h13.5zm-7.5 9.749H4.5v6.001c0 .414.336.75.75.75h5.25a.75.75 0 0 0 .75-.75v-6.001zm7.5-8.249h-6v6.75h6a.75.75 0 0 0 .75-.75V5.25a.75.75 0 0 0-.75-.75zm-7.5 0h-6a.75.75 0 0 0-.75.75v5.999l6.75.001V4.5z",fill:"currentColor"})],-1)]))}}),pr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},hr=U({name:"Map",render:function(n,t){return I(),E("svg",pr,t[0]||(t[0]=[k("path",{d:"M16 24l-6.09-8.6A8.14 8.14 0 0 1 16 2a8.08 8.08 0 0 1 8 8.13a8.2 8.2 0 0 1-1.8 5.13zm0-20a6.07 6.07 0 0 0-6 6.13a6.19 6.19 0 0 0 1.49 4L16 20.52L20.63 14A6.24 6.24 0 0 0 22 10.13A6.07 6.07 0 0 0 16 4z",fill:"currentColor"},null,-1),k("circle",{cx:"16",cy:"9",r:"2",fill:"currentColor"},null,-1),k("path",{d:"M28 12h-2v2h2v14H4V14h2v-2H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V14a2 2 0 0 0-2-2z",fill:"currentColor"},null,-1)]))}}),mr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},vr=U({name:"Package",render:function(n,t){return I(),E("svg",mr,t[0]||(t[0]=[k("path",{d:"M26 30H6a2 2 0 0 1-2-2V16a2 2 0 0 1 2-2h3v2H6v12h20V16h-3v-2h3a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2z",fill:"currentColor"},null,-1),k("path",{d:"M13 20h6v2h-6z",fill:"currentColor"},null,-1),k("path",{d:"M20.59 8.59L17 12.17V2h-2v10.17l-3.59-3.58L10 10l6 6l6-6l-1.41-1.41z",fill:"currentColor"},null,-1)]))}}),_r={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},yr=U({name:"Version",render:function(n,t){return I(),E("svg",_r,t[0]||(t[0]=[k("path",{d:"M16 2v2h10v15h2V4a2.002 2.002 0 0 0-2-2z",fill:"currentColor"},null,-1),k("path",{d:"M11 7v2h10v15h2V9a2.002 2.002 0 0 0-2-2z",fill:"currentColor"},null,-1),k("path",{d:"M6 12h10a2.002 2.002 0 0 1 2 2v14a2.002 2.002 0 0 1-2 2H6a2.002 2.002 0 0 1-2-2V14a2.002 2.002 0 0 1 2-2zm10 2l-10-.001V28h10z",fill:"currentColor"},null,-1)]))}}),wr={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},br=U({name:"SwapOutlined",render:function(n,t){return I(),E("svg",wr,t[0]||(t[0]=[k("path",{d:"M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1)]))}}),xr={class:"flex justify-end"},Cr={key:0},kr={key:1},mt=U({__name:"CreatePlugin",emits:["success"],setup(e,{expose:n,emit:t}){const l=t,{t:a}=ie(),s=T(),r=T(!1),u=T(),o=T({plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}),g={plugin_name:{required:!0,message:"common.required"},description:{required:!0,message:"common.required"},must_be_installed:{required:!0,message:"common.required"},auto_upgrade:{required:!0,message:"common.required"}},c=T(!1),p=()=>{c.value=!1,o.value={plugin_name:void 0,description:void 0,must_be_installed:!1,auto_upgrade:!1,manager_user_ids:void 0,org_ids:void 0}},_=R=>{R||p()},C=async()=>{const[R,h]=await Kn({...o.value,manager_user_ids:[],org_ids:o.value.org_ids||[]});r.value=!1,!R&&h&&h.status===0&&setTimeout(()=>{p(),l("success")},100)},f=async()=>{const[R,h]=await tr({...o.value,manager_user_ids:[],org_ids:o.value.org_ids||[]});r.value=!1,!R&&h&&h.status===0&&setTimeout(()=>{p(),l("success")},100)},w=()=>{var R;r.value||(r.value=!0,(R=u.value)==null||R.validate(async h=>{if(h){r.value=!1;return}s.value==="update"?f():C()}))},L=T(),S=async()=>{var m,x;const[R,h]=await Vt();!R&&(h==null?void 0:h.status)===0&&(L.value=(x=(m=h==null?void 0:h.data)==null?void 0:m.organizations)==null?void 0:x.map(B=>({...B,label:B.organization_name,value:B.organization_id})))};return ve(()=>{S()}),n({open:()=>c.value=!0,close:p,setValues:(R={})=>{o.value={...o.value,...R}},setType:R=>{s.value=R}}),(R,h)=>{const m=Je,x=ct,B=jt,b=Z,M=st,N=_e,W=$e;return I(),ee(W,{show:d(c),"onUpdate:show":h[3]||(h[3]=j=>re(c)?c.value=j:null),"on-update:show":_},{default:y(()=>[v(N,{style:{width:"600px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true"},{default:y(()=>[v(M,{ref_key:"formRef",ref:u,model:d(o),rules:g},{default:y(()=>[v(x,{label:d(a)("pluginCenter.pluginName"),path:"plugin_name"},{default:y(()=>[v(m,{disabled:d(s)==="update",value:d(o).plugin_name,"onUpdate:value":h[0]||(h[0]=j=>d(o).plugin_name=j),placeholder:d(a)("pluginCenter.pluginName")},null,8,["disabled","value","placeholder"])]),_:1},8,["label"]),v(x,{label:d(a)("pluginCenter.description"),path:"description"},{default:y(()=>[v(m,{type:"textarea",value:d(o).description,"onUpdate:value":h[1]||(h[1]=j=>d(o).description=j),placeholder:d(a)("pluginCenter.description")},null,8,["value","placeholder"])]),_:1},8,["label"]),v(x,{label:d(a)("pluginCenter.visibleRange"),path:"org_ids"},{default:y(()=>[v(B,{filterable:"",multiple:"",clearable:"",placeholder:d(a)("pluginCenter.rangeTips"),value:d(o).org_ids,"onUpdate:value":h[2]||(h[2]=j=>d(o).org_ids=j),options:d(L)},null,8,["placeholder","value","options"])]),_:1},8,["label"]),k("div",xr,[v(b,{type:"primary",loading:d(r),onClick:w},{default:y(()=>[d(s)==="update"?(I(),E("span",Cr,D(d(a)("pluginCenter.update")),1)):(I(),E("span",kr,D(d(a)("pluginCenter.create")),1))]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])}}}),Rr={class:"font-bold flex justify-between mt-1.5 pr-2"},zr={class:"h-full flex flex-col"},$r={class:"flex-1 flex items-center pl-2"},Pr={class:"flex-1 py-3 pl-3"},Sr={class:"whitespace-pre-line"},Lr={key:1,class:"h-full flex justify-center items-center"},Br={class:"flex justify-end gap-2"},Tr=U({__name:"PackageView",emits:["success"],setup(e,{expose:n,emit:t}){const l=t,{t:a}=ie(),s=Nt(),r=At("pathops",[]),u=T(),o=T(),g=T(!1),c=T(),p=T({plugin_dir:void 0}),_={plugin_dir:{required:!0,message:"common.required"}},C=T(!1),f=T(!1),w=()=>{f.value=!1,o.value=void 0},L=()=>{C.value=!1,o.value=void 0,p.value={plugin_dir:void 0}},S=()=>{const x=r.value||[];x.unshift(p.value.plugin_dir),r.value=[...new Set(x)]},P=async()=>{if(o.value=void 0,g.value||(g.value=!0,!u.value))return;const[x,B]=await Yn({plugin_dir:u.value});g.value=!1,!x&&(B==null?void 0:B.status)===1&&(o.value={type:"error",text:B.msg}),!x&&B&&B.status===0&&(o.value={type:"success",text:B==null?void 0:B.data},l("success"))},$=()=>{var x;S(),u.value=(x=p.value)==null?void 0:x.plugin_dir,L()};ve(()=>{Array.isArray(r.value)||(r.value=[])}),n({open:()=>{f.value=!0},close:w});const R=x=>{u.value===x.key&&he(()=>{setTimeout(()=>{u.value=void 0},200)}),r.value=Et(r.value,x.label)},h=()=>{C.value=!0},m=x=>i("div",{className:"flex items-center gap-2"},[i(ue,{onClick:()=>R(x),component:ir}),i(Se,null,{default:()=>x.label}),i(ue,{color:"#f00",style:"display: none",onClick:()=>R(x),component:ur})]);return(x,B)=>{const b=Z,M=Ht,N=Pe,W=Qt,j=yn,X=_e,G=$e,O=Je,J=ct,Y=st;return I(),E(pe,null,[v(G,{show:d(f),"onUpdate:show":B[1]||(B[1]=K=>re(f)?f.value=K:null),"mask-closable":!1},{default:y(()=>[v(X,{style:{width:"1200px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true","content-class":"!p-4"},{default:y(()=>[v(j,{min:.1,max:.75,"default-size":"200px"},{1:y(()=>[k("div",Rr,[A(D(d(a)("pluginCenter.plugin"))+" ",1),v(b,{type:"primary",size:"tiny",onClick:h},{icon:y(()=>[v(d(cr))]),_:1})]),v(N,{style:{"max-height":"80vh","min-height":"500px"}},{default:y(()=>{var K;return[v(M,{indent:0,"collapsed-width":64,"collapsed-icon-size":22,options:(K=d(r))==null?void 0:K.map(oe=>({label:oe,key:oe})),"render-label":m,value:d(u),"onUpdate:value":B[0]||(B[0]=oe=>re(u)?u.value=oe:null)},null,8,["options","value"])]}),_:1})]),2:y(()=>[k("div",zr,[k("div",{class:"flex justify-end gap-2 pb-2 border-b",style:Oe({borderColor:d(s).dividerColor})},[k("div",$r,D(d(u)),1),v(b,{disabled:!d(u),type:"primary",loading:d(g),onClick:P},{icon:y(()=>[v(d(Wn))]),default:y(()=>[A(" "+D(d(a)("pluginCenter.package")),1)]),_:1},8,["disabled","loading"]),v(b,{type:"primary",onClick:w},{icon:y(()=>[v(d(An))]),_:1})],4),k("div",Pr,[d(o)?(I(),ee(W,{key:0,"show-icon":!1,type:d(o).type,class:"mb-5 max-h-48 overflow-y-auto"},{default:y(()=>[B[4]||(B[4]=k("div",null,"Result:",-1)),k("div",Sr,D(d(o).text),1)]),_:1},8,["type"])):(I(),E("div",Lr,[v(Jt,{class:"h-full"})]))])])]),"resize-trigger":y(()=>[k("div",{style:Oe({height:"100%",backgroundColor:d(s).dividerColor,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px"})},[v(d(ue),{color:"white",size:16},{default:y(()=>[v(d(br))]),_:1})],4)]),_:1})]),_:1})]),_:1},8,["show"]),v(G,{show:d(C),"onUpdate:show":B[3]||(B[3]=K=>re(C)?C.value=K:null),"mask-closable":!1,"auto-focus":!1},{default:y(()=>[v(X,{style:{width:"600px"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true","content-class":"!p-4"},{default:y(()=>[v(Y,{ref_key:"formRef",ref:c,model:d(p),rules:_},{default:y(()=>[v(W,{class:"w-full mb-5",type:"info"},{default:y(()=>[A(D(d(a)("pluginCenter.packagePathPlaceholder")),1)]),_:1}),v(J,{label:d(a)("pluginCenter.packagePath"),path:"plugin_dir"},{default:y(()=>[v(O,{value:d(p).plugin_dir,"onUpdate:value":B[2]||(B[2]=K=>d(p).plugin_dir=K),clearable:""},null,8,["value"])]),_:1},8,["label"]),k("div",Br,[v(b,{type:"default",onClick:L},{default:y(()=>[A(D(d(a)("common.cancel")),1)]),_:1}),v(b,{type:"primary",loading:d(g),onClick:$},{default:y(()=>[A(D(d(a)("common.OK")),1)]),_:1},8,["loading"])])]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])],64)}}}),Dr=qt(Tr,[["__scopeId","data-v-56486782"]]),Ir="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='swap-box-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='矢量%20100'%20d='M3%203L21%203C21.2652%203%2021.5196%203.10536%2021.7071%203.29289C21.8946%203.48043%2022%203.73478%2022%204L22%2020C22%2020.2652%2021.8946%2020.5196%2021.7071%2020.7071C21.5196%2020.8946%2021.2652%2021%2021%2021L3%2021C2.73478%2021%202.48043%2020.8946%202.29289%2020.7071C2.10536%2020.5196%202%2020.2652%202%2020L2%204C2%203.73478%202.10536%203.48043%202.29289%203.29289C2.48043%203.10536%202.73478%203%203%203L3%203ZM15%207L15%209L11%209L11%2011L15%2011L15%2013L18.5%2010L15%207ZM9%2017L9%2015L13%2015L13%2013L9%2013L9%2011L5.5%2014L9%2017Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",Ur="data:image/svg+xml,%3csvg%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='24.000000'%20height='24.000000'%20fill='none'%3e%3crect%20id='file-edit-fill'%20width='24.000000'%20height='24.000000'%20x='0.000000'%20y='0.000000'%20fill='rgb(255,255,255)'%20fill-opacity='0'%20/%3e%3cpath%20id='矢量%2044'%20d='M21%2015.243L21%2021.008C20.9997%2021.2712%2020.895%2021.5235%2020.7088%2021.7095C20.5226%2021.8955%2020.2702%2022%2020.007%2022L3.99302%2022C3.8617%2021.9991%203.73184%2021.9723%203.61087%2021.9212C3.48989%2021.8701%203.38017%2021.7957%203.28796%2021.7022C3.19575%2021.6087%203.12286%2021.4979%203.07346%2021.3762C3.02405%2021.2545%202.9991%2021.1243%203.00002%2020.993L3.00002%209L9.00002%209C9.26524%209%209.51959%208.89464%209.70713%208.70711C9.89467%208.51957%2010%208.26522%2010%208L10%202L20.002%202C20.553%202%2021%202.455%2021%202.992L21%206.757L12.001%2015.757L11.995%2019.995L16.241%2020.001L21%2015.243ZM21.778%208.808L23.192%2010.222L15.414%2018L13.998%2017.998L14%2016.586L21.778%208.808L21.778%208.808ZM3.00002%207L8.00002%202.003L8.00002%207L3.00002%207Z'%20fill='rgb(99,226,183)'%20fill-rule='evenodd'%20/%3e%3c/svg%3e",Mr={class:"absolute top-0 right-0 inline-flex items-center gap-1"},Or=["src"],Fr=["src"],jr=U({__name:"ActionView",props:{cfg:{},uid:{},id:{},visible:{type:Boolean}},emits:["visible:success","refresh"],setup(e,{emit:n}){const t=Qe(),{t:l}=ie(),a=T(),s=n,r=e,u=T(!1),o=T(),g=async()=>{const[f,w]=await er({plugin_id:r.id,visible:!r.visible});!f&&(w==null?void 0:w.status)===0&&(t.success(l("pluginCenter.setupSuccess")),s("visible:success"))},c=T(!1),p=async()=>{const[f,w]=await nr({plugin_id:r.id});if(!f&&(w==null?void 0:w.status)===0)return w.data.org_list},_=async()=>{const f=await p();c.value=!0,he(()=>{setTimeout(()=>{var w,L,S;(w=a.value)==null||w.open(),(L=a.value)==null||L.setValues({plugin_name:r.cfg.plugin_name,plugin_id:r.cfg.plugin_id,description:r.cfg.description,must_be_installed:r.cfg.must_be_installed,auto_upgrade:r.cfg.auto_upgrade,manager_user_ids:void 0,org_ids:f==null?void 0:f.map(P=>P.organization_id)}),(S=a.value)==null||S.setType("update")},100)})},C=()=>{s("refresh")};return ve(()=>{const f=Wt();f!=null&&f.is_sys_admin&&(u.value=!0,o.value=f.user_id)}),(f,w)=>{const L=et;return I(),E(pe,null,[k("div",Mr,[d(u)?(I(),ee(L,{key:0,placement:"top-start",trigger:"hover"},{trigger:y(()=>[k("img",{class:"w-5 cursor-pointer",src:d(Ir),alt:"",onClick:g},null,8,Or)]),default:y(()=>[A(" "+D(d(l)("pluginCenter.visibleTips")),1)]),_:1})):we("",!0),d(o)===f.uid||d(u)?(I(),ee(L,{key:1,placement:"top-start",trigger:"hover"},{trigger:y(()=>[k("img",{class:"w-5 cursor-pointer",src:d(Ur),alt:"",onClick:_},null,8,Fr)]),default:y(()=>[A(" "+D(d(l)("pluginCenter.edit")),1)]),_:1})):we("",!0)]),d(c)?(I(),ee(mt,{key:0,ref_key:"createPluginRef",ref:a,onSuccess:C},null,512)):we("",!0)],64)}}}),vt=U({__name:"UploadFile",props:{url:{}},emits:["success"],setup(e,{emit:n}){const{t}=ie(),l=e,a=n,s=Qe(),r=async({file:u,data:o,onFinish:g,onError:c,onProgress:p})=>{const _=new FormData;o&&Object.keys(o).forEach(w=>{_.append(w,o[w])}),_.append("plugin_file",u.file);const[C,f]=await me(l.url,_,{headers:{"Content-Type":"multipart/form-data"}});!C&&(f==null?void 0:f.status)===0?(g(),a("success"),s.success(t("pluginCenter.uploadSuccessfully"))):c()};return(u,o)=>{const g=Vn;return I(),ee(g,{"custom-request":r,"show-file-list":!1},{default:y(()=>[Gt(u.$slots,"default")]),_:3})}}}),Vr=U({__name:"VersionList",props:{pluginId:{}},setup(e,{expose:n}){const{t}=ie(),l=e,a=T(!1),s=[{title:t("pluginCenter.version"),key:"full_version_code"},{title:t("pluginCenter.updateDesc"),key:"update_description"},{title:t("pluginCenter.hooks"),key:"hook",render:_=>_.hook||"-"},{title:t("pluginCenter.createTime"),key:"create_time",minWidth:100,render:_=>_.create_time?new Date(_.create_time).toLocaleString():"-"}],r=tt({page:1,per_page:Xt,total:0}),u=T(),o=async()=>{if(!l.pluginId||!a.value)return;const[_,C]=await Zn({...rt(r),plugin_id:l.pluginId});!_&&C&&C.status===0&&(u.value=C.data.list,r.total=C.data.total)},g=_=>{_||c()},c=()=>{a.value=!1};Kt(()=>l.pluginId,_=>{_&&o()});const p=()=>{r.page=1,he(()=>{o()})};return n({open:()=>a.value=!0,close:c,fetchList:o}),(_,C)=>{const f=Z,w=Yt,L=_e,S=$e;return I(),ee(S,{show:d(a),"onUpdate:show":C[1]||(C[1]=P=>re(a)?a.value=P:null),"on-update:show":g},{default:y(()=>[v(L,{style:{width:"80vw"},size:"huge",bordered:!1,role:"dialog","aria-modal":"true",class:"!pt-0"},{default:y(()=>[v(Zt,{title:d(t)("pluginCenter.versions")},{extra:y(()=>[k("div",null,[v(vt,{url:d(te).uploadVersion,data:{plugin_id:_.pluginId},onSuccess:p},{default:y(()=>[v(f,{type:"primary"},{icon:y(()=>[v(d(En))]),default:y(()=>[A(" "+D(d(t)("pluginCenter.upload")),1)]),_:1})]),_:1},8,["url","data"])])]),_:1},8,["title"]),v(w,{columns:s,data:d(u),pagination:!1,"scroll-x":1e3},null,8,["data"]),v(nt,{"page-info":d(r),"onUpdate:pageInfo":C[0]||(C[0]=P=>re(r)?r.value=P:null),onUpdateList:o},null,8,["page-info"])]),_:1})]),_:1},8,["show"])}}}),Nr={class:"relative"},Ar={class:"break-keep text-xl"},Hr={class:"opacity-75 text-xs mt-2"},Er={class:"flex"},qr={class:"break-keep pr-2"},Wr={class:"flex flex-col gap-2 mt-2"},Gr={class:"mt-2"},Xr={class:""},Kr={class:"inline-block ml-10"},Zr={class:"flex justify-around items-center gap-1"},Yr=U({__name:"OnlinePlugin",setup(e,{expose:n}){const{t}=ie(),l=T(),a=T(),s=_=>{var C;a.value=_,(C=l.value)==null||C.open()},r=T({loading:!1,id:void 0}),u=async(_,C,f)=>{var w;if(!((w=r.value)!=null&&w.loading)){if(r.value={loading:!0,id:f},C==="install"){const[L,S]=await Jn({plugin_id:_.plugin_id});!L&&(S==null?void 0:S.status)===0&&c()}else if(C==="unInstall"){const[L,S]=await Qn({plugin_name:_.plugin_name});!L&&(S==null?void 0:S.status)===0&&c()}r.value={loading:!1}}},o=tt({page:1,per_page:8,total:0}),g=T(),c=async(_={})=>{const[C,f]=await Gn({..._,...rt(o)});!C&&f&&f.status===0&&(g.value=f.data.list,o.total=f.data.total)};ve(()=>{c()});const p=()=>{o.page=1,he(c)};return n({refresh:p}),(_,C)=>{const f=Se,w=lt,L=ue,S=et,P=_e,$=at,R=it,h=Pe;return I(),E("div",null,[v(h,{style:{maxHeight:"calc(100vh - 280px)"}},{default:y(()=>[v(R,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:y(()=>[(I(!0),E(pe,null,ot(d(g),m=>(I(),ee($,{key:m.plugin_id},{default:y(()=>[v(P,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:y(()=>{var x,B;return[k("div",Nr,[k("div",Ar,[A(D(m.plugin_name)+" ",1),v(d(de),{class:"ml-2",size:"small",type:m.installed?"success":"info",bordered:!1},{default:y(()=>[A(D(m.installed?d(t)("pluginCenter.INSTALLED"):d(t)("pluginCenter.UNINSTALLED")),1)]),_:2},1032,["type"]),v(jr,{id:m.plugin_id,visible:m.is_globally_visible,uid:m.create_uid,cfg:m,"onVisible:success":p,onRefresh:p},null,8,["id","visible","uid","cfg"])]),k("div",Hr,[v(f,{"line-clamp":1},{default:y(()=>[A(D(m.description),1)]),_:2},1024)])]),v(w,{class:"!my-3"}),k("div",Er,[k("span",qr,D(d(t)("pluginCenter.hooks"))+": ",1),v(f,{"line-clamp":1},{default:y(()=>[A(D(m.latest_version_hook),1)]),_:2},1024)]),k("div",Wr,[k("div",null,[v(d(de),{type:"warning",size:"small"},{default:y(()=>[A(D(d(t)("pluginCenter.localVersion"))+": "+D(m.local_version),1)]),_:2},1024),v(d(de),{type:"warning",size:"small",class:"ml-2"},{default:y(()=>[A(D(d(t)("pluginCenter.latestVersionCode"))+": "+D(m.latest_version_code),1)]),_:2},1024)]),k("div",Gr,[k("span",Xr,D(d(t)("pluginCenter.visible"))+": ",1),v(d(de),{type:"error",size:"small"},{default:y(()=>[A(D(m.is_globally_visible?d(t)("pluginCenter.yes"):d(t)("pluginCenter.no")),1)]),_:2},1024),m.full_path?(I(),ee(S,{key:0,placement:"top-start",trigger:"hover"},{trigger:y(()=>[k("div",Kr,[v(d(Z),{type:"primary",size:"tiny",class:"relative top-0.5"},{default:y(()=>[v(L,{component:d(hr)},null,8,["component"])]),_:1})])]),default:y(()=>[k("span",null,D(m.full_path),1)]),_:2},1024)):we("",!0)])]),v(w,{class:"!my-3"}),k("div",Zr,[v(d(Z),{type:"info",size:"small",class:"flex-1 !px-0.5",onClick:Fe(()=>s(m.plugin_id),["stop"])},{icon:y(()=>[v(d(yr))]),default:y(()=>[A(" "+D(d(t)("pluginCenter.versions")),1)]),_:2},1032,["onClick"]),v(d(Z),{type:"info",size:"small",class:"flex-1",loading:((x=d(r))==null?void 0:x.loading)&&((B=d(r))==null?void 0:B.id)==m.plugin_id,disabled:m.installed?!m.uninstall_enable:!1,onClick:Fe(()=>u(m,m.installed?"unInstall":"install",m.plugin_id),["stop"])},{icon:y(()=>[m.installed?(I(),ee(d(fr),{key:0})):(I(),ee(d(ht),{key:1}))]),default:y(()=>[A(D(m!=null&&m.installed?d(t)("pluginCenter.unInstall"):d(t)("pluginCenter.install"))+" ",1)]),_:2},1032,["loading","disabled","onClick"]),v(d(Z),{type:"info",size:"small",class:"flex-1",onClick:()=>u(m,"install",m.plugin_id),disabled:!m.need_update},{icon:y(()=>[v(d(ar))]),default:y(()=>[A(D(d(t)("pluginCenter.update"))+" ",1)]),_:2},1032,["onClick","disabled"])])]}),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),v(nt,{"page-info":d(o),"onUpdate:pageInfo":C[0]||(C[0]=m=>re(o)?o.value=m:null),onUpdateList:c,"page-sizes":[8,16,24]},null,8,["page-info"]),v(Vr,{"plugin-id":d(a),ref_key:"versionModalRef",ref:l},null,8,["plugin-id"])])}}}),Jr={class:"relative"},Qr={class:"break-keep text-xl flex justify-between"},ei={class:"opacity-75 text-xs mt-2"},ti={class:"flex"},ni={class:"break-keep pr-2"},ri={class:"flex mt-2 pb-3"},ii={class:"pr-2"},oi={class:"flex gap-2 flex-wrap"},li=U({__name:"LocalPlugin",setup(e,{expose:n}){const{t}=ie(),l=T(),a=async()=>{const[s,r]=await Xn();!s&&r&&r.status===0&&(l.value=r.data)};return n({refresh:a}),ve(()=>{a()}),(s,r)=>{const u=Se,o=lt,g=_e,c=at,p=it,_=Pe;return I(),E("div",null,[v(_,{style:{maxHeight:"calc(100vh - 280px)"}},{default:y(()=>[v(p,{cols:"4","x-gap":"20","y-gap":"20",class:"py-1 px-1.5"},{default:y(()=>[(I(!0),E(pe,null,ot(d(l),(C,f)=>(I(),ee(c,{key:f},{default:y(()=>[v(g,{rounded:"",style:{width:"100%"},"content-class":"!mb-0 !p-2",class:"hover:scale-103 hover:transform-gpu"},{default:y(()=>[k("div",Jr,[k("div",Qr,[k("div",null,D(C.plugin_name),1)]),k("div",ei,[v(u,{"line-clamp":1},{default:y(()=>[A(D(C.desc),1)]),_:2},1024)])]),v(o,{class:"!my-3"}),k("div",ti,[k("span",ni,D(d(t)("pluginCenter.hooks"))+": ",1),v(u,{"line-clamp":1},{default:y(()=>{var w;return[A(D((w=C.hook)==null?void 0:w.join(", ")),1)]}),_:2},1024)]),k("div",ri,[k("span",ii,D(d(t)("pluginCenter.localVersion"))+": ",1),k("div",oi,[v(d(de),{type:"warning",size:"small"},{default:y(()=>[A(D(C.version),1)]),_:2},1024)])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])}}}),ai={class:"flex justify-between items-center gap-5"},si={class:"flex justify-end gap-2"},_i=U({__name:"PluginCenter",setup(e){const{t:n}=ie(),t=T(),l=T(),a=T(),s=T(),r=()=>{var p;(p=a.value)==null||p.open()},u=()=>{var p;(p=s.value)==null||p.open()},o=T(),g=T(),c=()=>{setTimeout(()=>{var p,_;(p=t.value)==null||p.refresh(),(_=l.value)==null||_.refresh()},500)};return(p,_)=>{const C=ue,f=nn,w=rn;return I(),E("div",null,[v(w,{type:"card",animated:"",class:"!h-full !w-auto",value:d(o),"onUpdate:value":_[0]||(_[0]=L=>re(o)?o.value=L:null),onUpdateValue:d(g)},{suffix:y(()=>[k("div",ai,[k("div",si,[v(d(Z),{type:"primary",onClick:u},{icon:y(()=>[v(d(vr))]),default:y(()=>[A(" "+D(d(n)("pluginCenter.package")),1)]),_:1}),v(vt,{url:d(te).installFromLocal},{default:y(()=>[v(d(Z),{type:"primary"},{icon:y(()=>[v(d(ht))]),default:y(()=>[A(" "+D(d(n)("pluginCenter.installFromLocale")),1)]),_:1})]),_:1},8,["url"]),v(d(Z),{type:"primary",onClick:r},{icon:y(()=>[v(C,null,{default:y(()=>[v(d(tn))]),_:1})]),default:y(()=>[A(" "+D(d(n)("pluginCenter.create")),1)]),_:1})])])]),default:y(()=>[v(f,{name:"local",tab:d(n)("pluginCenter.localPlugins")},{default:y(()=>[v(li,{ref_key:"localPluginRef",ref:t},null,512)]),_:1},8,["tab"]),v(f,{name:"online",tab:d(n)("pluginCenter.onlinePlugins")},{default:y(()=>[v(Yr,{ref_key:"onlinePluginRef",ref:l},null,512)]),_:1},8,["tab"])]),_:1},8,["value","onUpdateValue"]),v(mt,{ref_key:"createPluginRef",ref:a,onSuccess:c},null,512),v(Dr,{ref_key:"packageViewRef",ref:s},null,512)])}}});export{_i as default};
