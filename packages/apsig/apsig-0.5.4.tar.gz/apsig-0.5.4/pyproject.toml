[project]
name = "apsig"
dynamic = ["version"]
description = "Signature implementation used in ActivityPub."
authors = [
    {name = "AmaseCocoa", email = "amase.cocoa@gmail.com"},
]
dependencies = [
    "cryptography>=43.0.1",
    "multiformats>=0.3.1.post4",
    "jcs>=0.2.1",
    "pyld[aiohttp,requests]>=2.0.4",
    "pyfill>=0.1.3",
    "typing-extensions>=4.12.2",
    "pytz>=2025.1",
]
classifiers = [
        'Development Status :: 4 - Beta',
        'Intended Audience :: Developers',
        'License :: OSI Approved :: MIT License',
        'Programming Language :: Python :: 3',
        'Programming Language :: Python :: 3.9',
        'Programming Language :: Python :: 3.10',
        'Programming Language :: Python :: 3.11',
        'Programming Language :: Python :: 3.12',
        'Programming Language :: Python :: 3.13',
        'Operating System :: OS Independent',
        'Topic :: Software Development :: Libraries :: Python Modules',
        'Topic :: Security',
        'Natural Language :: English',
]
requires-python = ">=3.10"
readme = "README.md"
license = {text = "MIT"}

[project.urls]
Repository = "https://github.com/fedi-libs/apsig"
Issues = "https://github.com/fedi-libs/apsig/issues"
Changelog = "https://github.com/fedi-libs/apsig/blob/main/CHANGELOG.md"

[build-system]
requires = ["hatchling", "hatch-vcs"]
build-backend = "hatchling.build"

[tool.hatch.version]
source = "vcs"
fallback-version = "0.0.0"

[tool.hatch.version.raw-options] 
version_scheme = "no-guess-dev"  

[tool.hatch.build.hooks.vcs]
version-file = "src/apsig/_version.py"

[tool.pdm.version]
source = "scm"
write_to = "apsig/_version.py"
write_template = "__version__ = '{}'"

[dependency-groups]
dev = [
    "git-cliff>=2.10.0",
    "aiohttp>=3.11.12",
    "notturno[asgi]>=0.1.4",
    "trio>=0.28.0",
]