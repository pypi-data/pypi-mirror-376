.TH HG IMPORT  "" "" ""
.SH NAME
hg import \- import an ordered set of patches
.\" Man page generated from reStructuredText.
.
.SH SYNOPSIS
.sp
.nf
.ft C
hg import [OPTION]... PATCH...
.ft P
.fi
.SH DESCRIPTION
.sp
Import a list of patches and commit them individually (unless
\-\-no\-commit is specified).
.sp
To read a patch from standard input (stdin), use "\-" as the patch
name. If a URL is specified, the patch will be downloaded from
there.
.sp
Import first applies changes to the working directory (unless
\-\-bypass is specified), import will abort if there are outstanding
changes.
.sp
Use \-\-bypass to apply and commit patches directly to the
repository, without affecting the working directory. Without
\-\-exact, patches will be applied on top of the working directory
parent revision.
.sp
You can import a patch straight from a mail message. Even patches
as attachments work (to use the body part, it must have type
text/plain or text/x\-patch). From and Subject headers of email
message are used as default committer and commit message. All
text/plain body parts before first diff are added to the commit
message.
.sp
If the imported patch was generated by \%\fBhg export\fP\:, user and
description from patch override values from message headers and
body. Values given on command line with \-m/\-\-message and \-u/\-\-user
override these.
.sp
If \-\-exact is specified, import will set the working directory to
the parent of each patch before applying it, and will abort if the
resulting changeset has a different ID than the one recorded in
the patch. This will guard against various ways that portable
patch formats and mail systems might fail to transfer Mercurial
data or metadata. See \%\fBhg bundle\fP\: for lossless transmission.
.sp
Use \-\-partial to ensure a changeset will be created from the patch
even if some hunks fail to apply. Hunks that fail to apply will be
written to a <target\-file>.rej file. Conflicts can then be resolved
by hand before \%\fBhg commit \-\-amend\fP\: is run to update the created
changeset. This flag exists to let people import patches that
partially apply without losing the associated metadata (author,
date, description, ...).
.IP Note
.
When no hunks apply cleanly, \%\fBhg import \-\-partial\fP\: will create
an empty changeset, importing only the patch metadata.
.RE
.sp
With \-s/\-\-similarity, hg will attempt to discover renames and
copies in the patch in the same way as \%\fBhg addremove\fP\:.
.sp
It is possible to use external patch programs to perform the patch
by setting the \fBui.patch\fP configuration option. For the default
internal tool, the fuzz can also be configured via \fBpatch.fuzz\fP.
See \%\fBhg help config\fP\: for more information about configuration
files and how to use these options.
.sp
See \%\fBhg help dates\fP\: for a list of formats valid for \-d/\-\-date.
.sp
Examples:
.INDENT 0.0
.IP \(bu 2
.
import a traditional patch from a website and detect renames:
.sp
.nf
.ft C
hg import \-s 80 http://example.com/bugfix.patch
.ft P
.fi
.IP \(bu 2
.
import a changeset from an hgweb server:
.sp
.nf
.ft C
hg import https://www.mercurial\-scm.org/repo/hg/rev/5ca8c111e9aa
.ft P
.fi
.IP \(bu 2
.
import all the patches in an Unix\-style mbox:
.sp
.nf
.ft C
hg import incoming\-patches.mbox
.ft P
.fi
.IP \(bu 2
.
import patches from stdin:
.sp
.nf
.ft C
hg import \-
.ft P
.fi
.IP \(bu 2
.
attempt to exactly restore an exported changeset (not always
possible):
.sp
.nf
.ft C
hg import \-\-exact proposed\-fix.patch
.ft P
.fi
.IP \(bu 2
.
use an external tool to apply a patch which is too fuzzy for
the default internal tool.
.INDENT 2.0
.INDENT 3.5
.sp
hg import \-\-config ui.patch="patch \-\-merge" fuzzy.patch
.UNINDENT
.UNINDENT
.IP \(bu 2
.
change the default fuzzing from 2 to a less strict 7
.INDENT 2.0
.INDENT 3.5
.sp
hg import \-\-config ui.fuzz=7 fuzz.patch
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Returns 0 on success, 1 on partial success (see \-\-partial).
.SH OPTIONS
.INDENT 0.0
.TP
.BI \-p,  \-\-strip \ <NUM>
.
directory strip option for patch. This has the same meaning as the corresponding patch option (default: 1)
.TP
.BI \-b,  \-\-base \ <PATH>
.
base path (DEPRECATED)
.TP
.B \-\-secret
.
use the secret phase for committing
.TP
.B \-e,  \-\-edit
.
invoke editor on commit messages
.TP
.B \-f,  \-\-force
.
skip check for outstanding uncommitted changes (DEPRECATED)
.TP
.B \-\-no\-commit
.
don\(aqt commit, just update the working directory
.TP
.B \-\-bypass
.
apply patch without touching the working directory
.TP
.B \-\-partial
.
commit even if some hunks fail
.TP
.B \-\-exact
.
abort if patch would apply lossily
.TP
.BI \-\-prefix \ <DIR>
.
apply patch to subdirectory
.TP
.B \-\-import\-branch
.
use any branch information in patch (implied by \-\-exact)
.TP
.BI \-m,  \-\-message \ <TEXT>
.
use text as commit message
.TP
.BI \-l,  \-\-logfile \ <FILE>
.
read commit message from file
.TP
.BI \-d,  \-\-date \ <DATE>
.
record the specified date as commit date
.TP
.BI \-u,  \-\-user \ <USER>
.
record the specified user as committer
.TP
.BI \-s,  \-\-similarity \ <SIMILARITY>
.
guess renamed files by similarity (0<=s<=100)
.UNINDENT
.SH ALIASES
.sp
.nf
.ft C
patch
.ft P
.fi
.\" Generated by docutils manpage writer.
.\" 
.
