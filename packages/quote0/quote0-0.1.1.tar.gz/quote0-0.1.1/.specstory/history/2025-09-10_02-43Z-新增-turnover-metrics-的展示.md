<!-- Generated by SpecStory -->

# 新增 turnover metrics 的展示 (2025-09-10 02:43Z)

_**User (2025-09-09 09:27Z)**_

@t0_compact_base64_new.py 請新增 turnover metrics的展示
以及 active turnover (i.e. buy turnover - sell turnover)
猶豫這個數可能會很大 如果太大請用 K 或 M 來展示

---

_**Assistant**_

<think><details><summary>Thought Process</summary>用戶想要在 `t0_compact_base64_new.py` 文件中新增 turnover metrics 的展示，包括：

## Reviewing user request  
- The user wants to add turnover metrics to the `t0_compact_base64_new.py` file.  
- This includes displaying turnover metrics and active turnover, defined as buy transaction amount minus sell transaction amount.</details></think>

---

Read file: undefined

---

<think><details><summary>Thought Process</summary>現在我了解了代碼結構。我需要：
</details></think>

---

<details><summary>Edit file: /Users/daviddwlee84/Documents/Program/Personal/Quote0/scripts/image_api_test/t0_compact_base64_new.py</summary>

undefined

**Chunk 1**
Lines added: 10, lines removed: undefined

```diff
@@ -10,4 +10,14 @@
  import matplotlib.dates as mdates  # for "time" x_mode
  
+ 
+ def _format_large_number(value: float) -> str:
+     """Format large numbers with K (thousand) or M (million) suffix."""
+     if abs(value) >= 1_000_000:
+         return f"{value / 1_000_000:.1f}M"
+     elif abs(value) >= 1_000:
+         return f"{value / 1_000:.1f}K"
+     else:
+         return f"{value:,.0f}"
+ 
  
  def _fetch_t0_json(product: Literal["stock", "conbond"] = "stock"):
```

</details>

---

<think><details><summary>Thought Process</summary>好的，我已經添加了格式化函數。現在我需要修改 `_parse_series` 函數來計算 active turnover，並將這些指標加入到返回的 metrics 中。</details></think>

---

<details><summary>Edit file: /Users/daviddwlee84/Documents/Program/Personal/Quote0/scripts/image_api_test/t0_compact_base64_new.py</summary>

undefined

**Chunk 1**
Lines added: 2, lines removed: undefined

```diff
@@ -50,8 +50,10 @@
  
      turnover_vals = [b + s for b, s in zip(buyMkt_vals, sellMkt_vals)]
+     active_turnover_vals = [b - s for b, s in zip(buyMkt_vals, sellMkt_vals)]
      latest_total_profit = totalProfit_vals[-1] if totalProfit_vals else 0.0
      latest_settle_profit = settleProfit_vals[-1] if settleProfit_vals else 0.0
      latest_float_profit = floatProfit_vals[-1] if floatProfit_vals else 0.0
      latest_total_turnover = turnover_vals[-1] if turnover_vals else 0.0
+     latest_active_turnover = active_turnover_vals[-1] if active_turnover_vals else 0.0
      rate_of_return_bp = (
          (latest_total_profit / latest_total_turnover * 10000)
```

**Chunk 2**
Lines added: 2, lines removed: undefined

```diff
@@ -68,4 +70,6 @@
              float=latest_float_profit,
              return_bp=rate_of_return_bp,
+             turnover=latest_total_turnover,
+             active_turnover=latest_active_turnover,
          ),
      }
```

</details>

---

<think><details><summary>Thought Process</summary>現在我需要修改渲染函數來顯示 turnover 和 active turnover。由於空間有限，我需要調整佈局。我看到現有的指標顯示在兩個行上：


## Adjusting layout design  
- The task is to modify the rendering function to display turnover and active turnover.</details></think>

---

<details><summary>Edit file: /Users/daviddwlee84/Documents/Program/Personal/Quote0/scripts/image_api_test/t0_compact_base64_new.py</summary>

undefined

**Chunk 1**
Lines added: 6, lines removed: 4

```diff
@@ -111,8 +111,10 @@
          weight="bold",
      )
-     fig.text(0.02, 0.78, f"Total: {m['total']:,.0f}", fontsize=8)
-     fig.text(0.35, 0.78, f"Settle: {m['settle']:,.0f}", fontsize=8)
-     fig.text(0.68, 0.78, f"Float: {m['float']:,.0f}", fontsize=8)
-     fig.text(0.02, 0.64, f"Return: {m['return_bp']:.2f} bp", fontsize=8)
+     fig.text(0.02, 0.78, f"Total: {m['total']:,.0f}", fontsize=7)
+     fig.text(0.25, 0.78, f"Settle: {m['settle']:,.0f}", fontsize=7)
+     fig.text(0.48, 0.78, f"Float: {m['float']:,.0f}", fontsize=7)
+     fig.text(0.71, 0.78, f"Return: {m['return_bp']:.2f} bp", fontsize=7)
+     fig.text(0.02, 0.64, f"Turnover: {_format_large_number(m['turnover'])}", fontsize=7)
+     fig.text(0.35, 0.64, f"Active: {_format_large_number(m['active_turnover'])}", fontsize=7)
  
      # --- 收益曲線（下方） ---
```

</details>

---

<think><details><summary>Thought Process</summary>現在讓我檢查一下代碼是否有語法錯誤，並確保所有修改都正確。</details></think>

---



---

<think><details><summary>Thought Process</summary>太好了，沒有語法錯誤。現在讓我測試一下代碼是否能正常運行。我可以運行這個腳本來確認功能是否正常。</details></think>

---

```bash
cd /Users/daviddwlee84/Documents/Program/Personal/Quote0 && python scripts/image_api_test/t0_compact_base64_new.py
```

```
iVBORw0KGgoAAAANSUhEUgAAASgAAACYCAYAAABXunTYAAAAOnRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjEwLjEsIGh0dHBzOi8vbWF0cGxvdGxpYi5vcmcvc2/+5QAAAAlwSFlzAAAPYQAAD2EBqD+naQAANwpJREFUeJztnXdYFNfXx7/bWDpLERAQMPS+CKhgQ2PvYostmpiikqixRPOaRGOMJkYTRY0hatRfNHbFmtiiidiJYhexgAgiRTosbDnvH8sOLB3rGu/neXhg2r137tz5cu6ZmXN4RERgMBgMHYT/shvAYDAYtcEEisFg6CxMoBgMhs5Sp0ApFAp8//338PX1hb6+PiwsLNCxY0dcuHDhqSueM2cOeDwe5syZ89Rl1YdMJgOPxwOPx6t1n8WLF8PFxQVisRgWFhYIDg7G8ePHAQC5ubmYM2cOlixZ8tRtWbJkCebMmYPc3NynLquxHD9+nOsHHo8HIyMjhISE4M8//3yqcjdu3AhHR0cIBALY2to+o9a+OnTs2BGOjo6Qy+UAgBs3buDNN9+EgYEBrKysMHHiRJSVlXH7L168GK6urtDX14evry/27NlTrcygoCBER0ejpKQE3bp1g6WlJXg8HpydnbX2k8vlmDJlCqytraGvr4+OHTvi2rVrtbb1k08+gbOzMzcGkpKStLavWbOGuw+8vb2xa9eues9fLpcjKCgIPB6v2vVPS0vD8OHDYWlpCX19fXh4eODEiRMAgOjoaPB4PBw7dqz2wqkOIiIiCAC5ubnRjz/+SMuXL6eIiAhav359XYc1iNmzZxMAmj179lOXVR8lJSUEgGo73T/++IMAUGhoKK1du5aWLl1Kw4cPp23bthER0b179wgAOTk51VmPXC6vty1OTk4EgO7du9fY03hqjh07RgDI1dWVNm3aRF9//TXx+XzS19en5OTkRpenOV8vLy8CQHPnzqWYmJgnLudV5NChQwSAFixYQETqc3F1dSWxWEzff/89DR8+nADQrFmziIgoOjqaAFD79u1p1apV1KxZMxIKhZSQkMCVmZSURHw+n9LT06mgoID69+9PH3/8cY1jcM6cOQSAhgwZQj/88AMZGBhQ8+bNqaysrMb2RkZG0syZM8nU1LTaODx+/DgBoMDAQFq5ciW5urqSQCCgmzdv1tkH06dPJ2NjYwJANjY23PqioiJyc3MjHo9H48ePp19//ZWmT59Ohw8fJiIimUxGEomEwsLCai27VoH6559/CACZmZlRZmam1jalUklERPHx8dS1a1eSSCRkZWVF/fv3p9u3bxMR0dq1awkAde3alXr06EEmJibUokULSkxMJKIKgRo5ciSFhYWRoaEhde/endLT04mIqLCwkD755BNydHQkQ0NDCggIoK1bt1Y0vFxw5syZQ3Z2dtSkSRNatWoVt33t2rVkb29PlpaWNH/+/DoF6vvvvycA9O6771Jubq7WNo04Vf7p0KEDt97e3p4++OADsrCwoLVr19L27dvJ1dWV9PX1ycTEhEJDQyk2NpaIKsSp8g+RekAOHjyYrK2tyczMjLp3707Xr18nIiKFQkGTJk0iiURCLi4uNH36dK4N+fn5ZGZmRra2ttyAXLp0KQGgefPmVTtPjUC1atWKWxccHEwAaPv27UREtGvXLgoKCiIjIyNycHCg6dOnU2lpKRERdejQgQDQxx9/TO7u7tSxY8dq59ShQwciItq+fTsFBgaSoaEhNWvWjCZNmkQFBQVERDR69GgCQGPHjqWAgABycXHh+rNJkyY0fvx4kkgk5OfnR7GxsdS9e3cyMDCg8PBwysjI4MqvrZ8rX5vIyEiysrIiBwcH2rt3L3fe+/fvp9atW5OJiQmZmJhQZGQkEalvqunTp5OTkxMZGhpSYGCg1nFVGThwoNaNvm/fPgJAERERRKQex0KhkExNTYmIqF+/fgSAdu3aRUREM2bMIAA0ZcoUrswlS5ZQmzZttOq5ceNGjQJlZWVFPB6PG7fDhg0jALRz585a20xEZGNjU02gBg0aRABoz549RFQhphMnTiSiint2xowZ3DFHjhwhgUBAq1evriZQv/76K3ePy+VybhxV5u233yYAdPXq1RrbWatALVy4kABQnz59atyek5NDNjY2JBAIaN68efTZZ58RAPLw8KCysjJOoIRCIc2fP5/69OlDAGj06NFaJyuRSGj58uVc5wwcOJCIiD744AMCQL1796bo6GhycHAgHo9Hx44dUze8/Ibo27cvfffddwSA9PX1qbi4mK5du0YCgYDMzMxo2bJlnCVYm0CdP3+eBAIBASAej0deXl702WefUW5uLhUWFlJUVBQBICsrK9q0aRMdPXpUS7gGDBhAa9asoQsXLtCRI0do8eLFtGrVKvrq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                        
```

---

<think><details><summary>Thought Process</summary>太好了！腳本成功運行了，並且輸出了一個 base64 編碼的圖片，這表示我們的修改是成功的。圖片包含了我們新增的 turnover 和 active turnover 指標。


## Reviewing script output
- The script ran successfully and generated a base64-encoded image as output.</details></think>

---

Read file: undefined

---

<think><details><summary>Thought Process</summary>看起來修改都成功了。讓我總結一下我們為用戶實現的功能：


## Implementing Number Formatting  
- Added a `_format_large_number` function to display large numbers with K (thousands) or M (millions) units.  
- This enhances readability for users when dealing with big numerical values.</details></think>

---

完美！我已經成功為您的新增了 turnover metrics 的展示功能。以下是主要的修改內容：

## 新增功能總結：

### 1. **大數字格式化函數**
- 新增 `_format_large_number()` 函數
- 自動將大於 1M 的數字顯示為 "X.XM" 格式
- 大於 1K 的數字顯示為 "X.XK" 格式
- 小數字顯示為正常格式（帶千分位分隔符）

### 2. **Active Turnover 計算**
- 在 `_parse_series()` 中新增 `active_turnover_vals = [b - s for b, s in zip(buyMkt_vals, sellMkt_vals)]`
- 計算買入成交額與賣出成交額的差額
- 新增 `latest_active_turnover` 變數

### 3. **Metrics 擴展**
- 在返回的 metrics 中新增：
  - `turnover`: 總成交額
  - `active_turnover`: 主動成交額（買入-賣出）

### 4. **顯示佈局優化**
- 重新調整了指標的佈局以容納新的 turnover 信息
- 使用更小的字體（7pt）來節省空間
- 現在顯示：
  - 第一行：Total, Settle, Float, Return
  - 第二行：Turnover, Active

### 5. **測試通過**
- 腳本成功運行並生成了 base64 編碼的圖片
- 所有功能正常工作

現在您的圖表會顯示完整的交易指標，包括總成交額和主動成交額，大數字會自動格式化為易讀的 K/M 單位格式。

---

